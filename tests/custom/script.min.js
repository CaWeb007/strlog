function JSEcosystem(){this.conteiner=$("#ecosystem-wrapper");this.sliderContainer=this.conteiner.find(".ecosystem-slider");this.allWidgets=this.conteiner.find(".widget");this.widgetPopup=this.conteiner.find(".ecosystem-popup");this.widgetPopupOpenFlag=false;this.initSlider=function(){this.sliderContainer.flexslider({animation:"slide",animationLoop:false,itemWidth:120,itemMargin:10,slideshow:false})};this.showWidgetPopup=function(b){if(this.widgetPopupOpenFlag===true){return}var a=b.find("#widget-submenu").clone();this.widgetPopup.append(a);this.widgetPopup.css("display","block");this.widgetPopup.position({my:"right",at:"right",of:b});$(document).on("click",null,{popup:this.widgetPopup,widget:b},$.proxy(this.hideWidgetPopup,this));this.widgetPopupOpenFlag=true};this.hideWidgetPopup=function(a){if(this.widgetPopupOpenFlag===false){return}if($(a.target).closest(a.data.popup).length){return}if($(a.target).closest(a.data.widget).length){return}a.data.popup.css("display","none");a.data.popup.empty();$(document).off("click",null,$.proxy(this.hideWidgetPopup,this));this.widgetPopupOpenFlag=false};this.widgetClickEvent=function(b){var c=b.data;var a=c.find("#widget-href").attr("href");if(c.hasClass("widget-with_submenu")){this.showWidgetPopup(c)}else{if(a){window.location.href=a}}};this.initWidgetClickEvents=function(){var c=[],b,a=this.allWidgets.length;for(b=0;b<a;b++){c=$(this.allWidgets[b]);c.on("click",null,c,$.proxy(this.widgetClickEvent,this))}};this.initPopup=function(){};this.init=function(){this.initSlider();this.initWidgetClickEvents()};$(document).ready($.proxy(this.init,this))};