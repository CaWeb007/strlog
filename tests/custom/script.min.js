function JSEcosystem(){this.conteiner=$("#ecosystem-wrapper");this.sliderContainer=this.conteiner.find(".ecosystem-slider");this.allWidgets=this.conteiner.find(".widget");this.widgetPopup=this.conteiner.find(".ecosystem-popup");this.initSlider=function(){this.sliderContainer.flexslider({animation:"slide",animationLoop:false,itemWidth:120,itemMargin:10,slideshow:false})};this.showWidgetPopup=function(b){var c=b.data("id");if(b.hasClass("widget__open")){return}var a=b.find("#widget-submenu").clone();this.widgetPopup.append(a);this.widgetPopup.css("display","block");this.widgetPopup.position({my:"right",at:"right",of:b});$(document).on("mouseup.closerWidget__"+c,null,{popup:this.widgetPopup,widget:b},$.proxy(this.hideWidgetPopup,this));b.removeClass("widget__close");b.addClass("widget__open")};this.hideWidgetPopup=function(a){var b=a.data.widget.data("id");if(a.data.widget.hasClass("widget__close")){return}if($(a.target).closest(a.data.popup).length){return}if($(a.target).closest(a.data.widget).length){return}a.data.popup.css("display","none");a.data.popup.empty();$(document).off("mouseup.closerWidget__"+b);a.data.widget.removeClass("widget__open");a.data.widget.addClass("widget__close")};this.widgetClickEvent=function(b){var c=b.data;var a=c.find("#widget-href").attr("href");if(c.hasClass("widget-with_submenu")){this.showWidgetPopup(c)}else{if(a){window.location.href=a}}};this.initWidgetClickEvents=function(){var c=[],b,a=this.allWidgets.length;for(b=0;b<a;b++){c=$(this.allWidgets[b]);c.addClass("widget__close");c.on("click",null,c,$.proxy(this.widgetClickEvent,this))}};this.initPopup=function(){};this.init=function(){this.initSlider();this.initWidgetClickEvents()};$(document).ready($.proxy(this.init,this))};