function initPositionControl(b){var a=JSON.parse(b.data);if(a){window["pos_parameter_"+b.propertyID]=new PositionParameterControl(a,b)}}function PositionParameterControl(b,c){var a=BX.util.getRandomString(5);this.params=c||{};this.positions=b.positions||{};this.parentClassName=b.className?" "+b.className:"";this.selected=this.params.oInput.value||this.params.propertyParams.DEFAULT;this.id="pos_params_container_"+this.params.propertyID+"_"+a;BX.loadCSS(this.getPath()+"/style.css?"+a);this.buildNodes();this.saveData()}PositionParameterControl.prototype={getPath:function(){var a=this.params.propertyParams.JS_FILE.split("/");a.pop();return a.join("/")},buildNodes:function(){var a=[];for(var b in this.positions){if(this.positions.hasOwnProperty(b)){a.push(BX.create("DIV",{attrs:{"data-value":this.positions[b]},props:{className:"bx-pos-parameter bx-pos-parameter-"+this.positions[b]+(this.positions[b]==this.selected?" selected":"")},events:{click:BX.proxy(this.selectPosition,this)}}))}}this.params.oCont.appendChild(BX.create("DIV",{props:{className:"bx-pos-parameter-container"+this.parentClassName},children:[BX.create("DIV",{children:a,props:{className:"bx-pos-parameter-block"}}),BX.create("DIV",{props:{className:"bx-pos-parameter-decore"}}),BX.create("DIV",{props:{className:"bx-pos-parameter-decore"}}),BX.create("DIV",{props:{className:"bx-pos-parameter-decore"}}),BX.create("DIV",{props:{className:"bx-pos-parameter-decore"}}),BX.create("DIV",{props:{className:"bx-pos-parameter-decore"}})]}))},selectPosition:function(c){var e=BX.getEventTarget(c),b=this.params.oCont.querySelectorAll(".bx-pos-parameter"),d=e.getAttribute("data-value");if(this.selected==d){return}this.selected=d;for(var a in b){if(b.hasOwnProperty(a)){if(b[a].getAttribute("data-value")==this.selected){BX.addClass(b[a],"selected")}else{BX.removeClass(b[a],"selected")}}}this.saveData()},saveData:function(){this.params.oInput.value=this.selected}};