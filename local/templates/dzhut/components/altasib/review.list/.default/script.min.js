var ne=1,aReview=function(){_this=this,this.vote=function(id,plus){return BX.ajax.post(CURRENT_URL,{ALTASIB_AJAX_CALL:"Y",VOTE:"Y",RID:id,PLUS:plus?"Y":"N"},function(res){eval(res),voteRes.TYPE&&(BX("review_vote_p_r"+id).innerHTML=voteRes.PLUS,BX("review_vote_m_r"+id).innerHTML=voteRes.MINUS,BX("review_vote_r"+id).innerHTML=voteRes.VOTE)}),!1},this.ShowVotes=function(i){div=BX("review_all_votest_"+i),"block"==div.style.display?div.style.display="none":div.style.display="block"},this.PublicEdit=function(i){div=BX("review_item_e_"+i)},this.Edit=function(i){window.oReviewEditDialog=wred=new BX.CDialog({content_url:CURRENT_URL,content_post:"RID="+escape(i)+"&ACTION=EDIT",width:800,height:320,min_height:300,min_width:800,resizable:!0}),window.oReviewEditDialog.Show(),BX.addCustomEvent(BX.WindowManager.Get(),"onWindowRegister",function(){void 0!==window.JCLightHTMLEditor&&(void 0!==JCLightHTMLEditor.items.MESSAGE_PLUS_e&&delete JCLightHTMLEditor.items.MESSAGE_PLUS_e,void 0!==JCLightHTMLEditor.items.MESSAGE_MINUS_e&&delete JCLightHTMLEditor.items.MESSAGE_MINUS_e,void 0!==JCLightHTMLEditor.items.MESSAGE_e&&delete JCLightHTMLEditor.items.MESSAGE_e,void 0!==JCLightHTMLEditor.items.REPLY&&delete JCLightHTMLEditor.items.REPLY)}),BX.addCustomEvent(window,"LHE_OnInit",function(i){i.SetEditorContent(i.content),i.SetContent(i.content)})},this.Complaint=function(i){window.oReviewComplaintDialog=new BX.CDialog({content_url:CURRENT_URL,content_post:"RID="+escape(i)+"&ACTION=COMPLAINT",width:800,height:320,min_height:300,min_width:800,resizable:!0}),window.oReviewComplaintDialog.Show()}},jsReview=new aReview;