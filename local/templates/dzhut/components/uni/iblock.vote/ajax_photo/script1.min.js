var voteScript={trace_vote:function(a,e){for(var t=a;t&&1==t.nodeType&&(e?(t.saved_className||(t.saved_className=t.className),BX.addClass(t,"photo-rating-star-select")):t.saved_className&&t.className!=t.saved_className&&(t.className=t.saved_className)),t&&t.previousSibling;)t=t.previousSibling},do_vote:function(a,e,t){var s=BX("bx-photo-rating-cont"),o=1;BX.addClass(s,"photo-rating-wait"),s.innerHTML="...";var n=setInterval(function(){var a=".";2==o?a="..":3==o&&(a="...",o=0),s.innerHTML=a,o++},300),i=a.id.match(/^vote_(\d+)_(\d+)$/);t.vote="Y",t.vote_id=i[1],t.rating=i[2],BX.ajax.post("/bitrix/components/bitrix/iblock.vote/component.php",t,function(a){n&&(clearInterval(n),n=null),BX.removeClass(s,"photo-rating-wait"),s.innerHTML=a})}};