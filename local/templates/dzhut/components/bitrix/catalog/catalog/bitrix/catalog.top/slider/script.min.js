!function(t){t.JCCatalogTopBannerList||(t.JCCatalogTopBannerList=function(t){this.params=null,this.prevIndex=-1,this.currentIndex=0,this.size=0,this.rotate=!1,this.timerRotate=3e4,this.rotatePause=!1,this.errorCode=0,this.slider={cont:null,row:null,items:null,arrows:null,left:null,right:null,pagination:null,pages:null},t&&"object"==typeof t||(this.errorCode=-1),0===this.errorCode&&(this.params=t),this.params.rotate&&(this.rotate=this.params.rotate),this.params.timerRotate&&(this.params.timerRotate=parseInt(this.params.timerRotate),!isNaN(this.params.timerRotate)&&0<=this.params.timerRotate&&(this.timerRotate=this.params.timerRotate)),0===this.errorCode&&BX.ready(BX.delegate(this.Init,this))},t.JCCatalogTopBannerList.prototype.Init=function(){if(!(this.errorCode<0)){var t=0;if(this.params.cont&&(this.slider.cont=BX(this.params.cont)),this.params.items&&BX.type.isArray(this.params.items)){for(this.slider.items=[],t=0;t<this.params.items.length;t++)this.slider.items[this.slider.items.length]=BX(this.params.items[t]),this.slider.items[this.slider.items.length-1].style.opacity=0,this.slider.row||(this.slider.row=this.slider.items[this.slider.items.length-1].parentNode);this.slider.items[0].style.opacity=1,this.size=this.slider.items.length}if(this.params.arrows&&(BX.type.isDomNode(this.params.arrows)?this.slider.arrows=this.params.arrows:"object"==typeof this.params.arrows?this.slider.arrows=this.slider.cont.appendChild(BX.create("DIV",{props:{id:this.params.arrows.id,className:this.params.arrows.class}})):BX.type.isNotEmptyString(this.params.arrows)&&(this.slider.arrows=BX(this.params.arrows))),this.slider.arrows||(this.slider.arrows=this.slider.cont),this.params.left&&(BX.type.isDomNode(this.params.left)?this.slider.left=this.params.left:"object"==typeof this.params.left?this.slider.left=this.slider.arrows.appendChild(BX.create("DIV",{props:{id:this.params.left.id,className:this.params.left.class}})):BX.type.isNotEmptyString(this.params.left)&&(this.slider.left=BX(this.params.left))),this.params.right&&(BX.type.isDomNode(this.params.right)?this.slider.right=this.params.right:"object"==typeof this.params.right?this.slider.right=this.slider.arrows.appendChild(BX.create("DIV",{props:{id:this.params.right.id,className:this.params.right.class}})):BX.type.isNotEmptyString(this.params.right)&&(this.slider.right=BX(this.params.right))),this.params.pagination&&(BX.type.isDomNode(this.params.pagination)?this.slider.pagination=this.params.pagination:"object"==typeof this.params.pagination?this.slider.pagination=this.slider.cont.appendChild(BX.create("UL",{props:{id:this.params.pagination.id,className:this.params.pagination.class}})):BX.type.isNotEmptyString(this.params.pagination)&&(this.slider.pagination=BX(this.params.pagination))),this.slider.pagination)for(this.slider.pages=[],t=0;t<this.slider.items.length;t++)this.slider.pages[this.slider.pages.length]=this.slider.pagination.appendChild(BX.create("LI",{props:{className:0===t?"active":""},attrs:{"data-pagevalue":t.toString()},events:{click:BX.delegate(this.RowMove,this)},html:"<span></span>"}));0===this.errorCode&&(this.rotate&&this.slider.cont&&0<this.timerRotate&&(BX.bind(this.slider.cont,"mouseover",BX.delegate(this.RotateStop,this)),BX.bind(this.slider.cont,"mouseout",BX.delegate(this.RotateStart,this)),setTimeout(BX.delegate(this.RowRotate,this),this.timerRotate)),this.slider.left&&BX.bind(this.slider.left,"click",BX.delegate(this.RowLeft,this)),this.slider.right&&BX.bind(this.slider.right,"click",BX.delegate(this.RowRight,this)))}},t.JCCatalogTopBannerList.prototype.RowStart=function(){this.errorCode<0||(BX.removeClass(this.slider.items[this.prevIndex],"active"),BX.removeClass(this.slider.pages[this.prevIndex],"active"))},t.JCCatalogTopBannerList.prototype.RowAnimate=function(t){this.errorCode<0||(this.slider.items[this.prevIndex].style.opacity=(100-t.opacity)/100,this.slider.items[this.currentIndex].style.opacity=t.opacity/100)},t.JCCatalogTopBannerList.prototype.RowComplete=function(){this.errorCode<0||(BX.addClass(this.slider.items[this.currentIndex],"active"),BX.addClass(this.slider.pages[this.currentIndex],"active"))},t.JCCatalogTopBannerList.prototype.RowLeft=function(){this.errorCode<0||(this.prevIndex=this.currentIndex,this.currentIndex=(0===this.currentIndex?this.size:this.currentIndex)-1,new BX.easing({duration:800,start:{left:100*-this.prevIndex},finish:{left:100*-this.currentIndex},transition:BX.easing.transitions.quart,step:BX.delegate(function(t){this.slider.row.style.left=t.left+"%"},this)}).animate(),this.RowStart(),new BX.easing({duration:1200,start:{opacity:0},finish:{opacity:100},transition:BX.easing.transitions.quart,step:BX.delegate(function(t){this.RowAnimate(t)},this),complete:BX.delegate(this.RowComplete,this)}).animate())},t.JCCatalogTopBannerList.prototype.RowRight=function(){this.errorCode<0||(this.prevIndex=this.currentIndex,this.currentIndex++,this.currentIndex==this.size&&(this.currentIndex=0),new BX.easing({duration:800,start:{left:100*-this.prevIndex},finish:{left:100*-this.currentIndex},transition:BX.easing.transitions.quart,step:BX.delegate(function(t){this.slider.row.style.left=t.left+"%"},this)}).animate(),this.RowStart(),new BX.easing({duration:1200,start:{opacity:0},finish:{opacity:100},transition:BX.easing.transitions.quart,step:BX.delegate(function(t){this.RowAnimate(t)},this),complete:BX.delegate(this.RowComplete,this)}).animate())},t.JCCatalogTopBannerList.prototype.RowMove=function(){if(!(this.errorCode<0)){var t=BX.proxy_context;if(t&&t.hasAttribute("data-pagevalue")){var i=parseInt(t.getAttribute("data-pagevalue"));!isNaN(i)&&i<this.size&&(this.prevIndex=this.currentIndex,this.currentIndex=i,this.slider.row.style.left=100*-this.currentIndex+"%",this.slider.items[this.prevIndex].style.opacity=0,this.RowStart(),new BX.easing({duration:800,start:{opacity:0},finish:{opacity:100},transition:BX.easing.transitions.quart,step:BX.delegate(function(t){this.RowAnimate(t)},this),complete:BX.delegate(this.RowComplete,this)}).animate())}}},t.JCCatalogTopBannerList.prototype.RowRotate=function(){this.errorCode<0||(this.rotatePause||this.RowRight(),setTimeout(BX.delegate(this.RowRotate,this),this.timerRotate))},t.JCCatalogTopBannerList.prototype.RotateStart=function(){this.errorCode<0||(this.rotatePause=!1)},t.JCCatalogTopBannerList.prototype.RotateStop=function(){this.errorCode<0||(this.rotatePause=!0)})}(window);