function updateBasketTable(t,e){var a,s,l,i,n,r,_,o,c,d,u,p,T,A,b,B,E,X,v,m,I,y,S,D,f,U,k,C,N,h,O,g,L,P,R,M,x,F,Y,Q,H,w=BX("basket_items"),V=!1,K=!1,W=!1,j=!1;if(w&&"object"==typeof e){if(i=(a=w.rows)[a.length-1],_="Y"===e.PARAMS.QUANTITY_FLOAT,null!==t&&e.BASKET_DATA){for(s=e.BASKET_ID,l=e.BASKET_DATA.GRID.ROWS[s],r=e.COLUMNS.split(","),n=document.createElement("tr"),o=BX(t),n.setAttribute("id",e.BASKET_ID),i.parentNode.insertBefore(n,o.nextSibling),"Y"===e.DELETE_ORIGINAL&&o.parentNode.removeChild(o),n.insertCell(-1).setAttribute("class","margin"),c=0;c<r.length;c++)"DELETE"===r[c]?V=!0:"DELAY"===r[c]?K=!0:"PROPS"===r[c]?W=!0:"TYPE"===r[c]&&(j=!0);for(c=0;c<r.length;c++)switch(r[c]){case"PROPS":case"DELAY":case"DELETE":case"TYPE":break;case"NAME":if(p=u="",(d=n.insertCell(-1)).setAttribute("class","itemphoto"),u=0<l.PREVIEW_PICTURE_SRC.length?l.PREVIEW_PICTURE_SRC:0<l.DETAIL_PICTURE_SRC.length?l.DETAIL_PICTURE_SRC:basketJSParams.TEMPLATE_FOLDER+"/images/no_photo.png",p=0<l.DETAIL_PAGE_URL.length?'<div class="bx_ordercart_photo_container">\t\t\t\t\t\t\t<a href="'+l.DETAIL_PAGE_URL+'">\t\t\t\t\t\t\t\t<div class="bx_ordercart_photo" style="background-image:url(\''+u+"')\"></div>\t\t\t\t\t\t\t</a>\t\t\t\t\t\t</div>":'<div class="bx_ordercart_photo_container">\t\t\t\t\t\t\t<div class="bx_ordercart_photo" style="background-image:url(\''+u+"')\"></div>\t\t\t\t\t\t</div>",l.BRAND&&0<l.BRAND.length&&(p+='<div class="bx_ordercart_brand">\t\t\t\t\t\t\t<img alt="" src="'+l.BRAND+'"/>\t\t\t\t\t\t</div>'),d.innerHTML=p,A="",(T=n.insertCell(-1)).setAttribute("class","item"),0<l.DETAIL_PAGE_URL.length?A+='<h2 class="bx_ordercart_itemtitle"><a href="'+l.DETAIL_PAGE_URL+'">'+l.NAME+"</a></h2>":A+='<h2 class="bx_ordercart_itemtitle">'+l.NAME+"</h2>",A+='<div class="bx_ordercart_itemart">',W)for(B=0;B<l.PROPS.length;B++){if(E=l.PROPS[B],l.SKU_DATA){for(X in b=!1,l.SKU_DATA)if(l.SKU_DATA.hasOwnProperty(X)&&(v=l.SKU_DATA[X]).CODE===E.CODE){b=!0;break}if(b)continue}A+=E.NAME+":&nbsp;<span>"+E.VALUE+"</span><br/>"}if(A+="</div>",l.SKU_DATA)for(X in l.SKU_DATA)if(l.SKU_DATA.hasOwnProperty(X)){for(S in v=l.SKU_DATA[X],m=!1,I=5<BX.util.array_keys(v.VALUES).length?"full":"",v.VALUES)if((y=v.VALUES[S])&&"object"==typeof y&&y.PICT){m=!0;break}if(m){for(U in A+='<div class="bx_item_detail_scu_small_noadaptive '+I+'">',A+='<span class="bx_item_section_name_gray">'+v.NAME+"</span>",A+='<div class="bx_scu_scroller_container">',A+='<div class="bx_scu">',A+='<ul id="prop_'+v.CODE+"_"+l.ID+'" style="width: 200%; margin-left:0%;" class="sku_prop_list">',v.VALUES){for(D=v.VALUES[U],f="",k=0;k<l.PROPS.length;k++)(C=l.PROPS[k]).CODE===v.CODE&&(C.VALUE!==D.NAME&&C.VALUE!==D.XML_ID||(f=" bx_active"));A+='<li style="width:10%;"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sku_prop'+f+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-value-id="'+D.XML_ID+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-element="'+l.ID+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-property="'+v.CODE+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="cnt"><span class="cnt_item" style="background-image:url('+D.PICT.SRC+'"></span></a>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>'}A+="</ul>",A+="</div>",A+='<div class="bx_slide_left" onclick="leftScroll(\''+v.CODE+"', "+l.ID+", "+BX.util.array_keys(v.VALUES).length+');"></div>',A+='<div class="bx_slide_right" onclick="rightScroll(\''+v.CODE+"', "+l.ID+", "+BX.util.array_keys(v.VALUES).length+');"></div>',A+="</div>",A+="</div>"}else{for(U in A+='<div class="bx_item_detail_size_small_noadaptive '+I+'">',A+='<span class="bx_item_section_name_gray">'+v.NAME+"</span>",A+='<div class="bx_size_scroller_container">',A+='<div class="bx_size">',A+='<ul id="prop_'+v.CODE+"_"+l.ID+'" style="width: 200%; margin-left:0%;" class="sku_prop_list">',v.VALUES){for(D=v.VALUES[U],f="",k=0;k<l.PROPS.length;k++)(C=l.PROPS[k]).CODE===v.CODE&&C.VALUE===D.NAME&&(f="bx_active");A+='<li style="width:10%;"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sku_prop '+f+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-value-id="'+D.NAME+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-element="'+l.ID+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-property="'+v.CODE+'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="cnt">'+D.NAME+"</a>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>"}A+="</ul>",A+="</div>",A+='<div class="bx_slide_left" onclick="leftScroll(\''+v.CODE+"', "+l.ID+", "+BX.util.array_keys(v.VALUES).length+');"></div>',A+='<div class="bx_slide_right" onclick="rightScroll(\''+v.CODE+"', "+l.ID+", "+BX.util.array_keys(v.VALUES).length+');"></div>',A+="</div>",A+="</div>"}}T.innerHTML=A;break;case"QUANTITY":N=n.insertCell(-1),h="",O=0<parseFloat(l.MEASURE_RATIO)?l.MEASURE_RATIO:1,g=0<parseFloat(l.AVAILABLE_QUANTITY)?'max="'+l.AVAILABLE_QUANTITY+'"':"",L=!1,0!=O&&""!=O&&(P=l.QUANTITY,l.QUANTITY=getCorrectRatioQuantity(l.QUANTITY,O,_),P!=l.QUANTITY&&(L=!0)),N.setAttribute("class","custom"),h+="<span>"+getColumnName(e,r[c])+":</span>",h+='<div class="centered">',h+='<table cellspacing="0" cellpadding="0" class="counter">',h+="<tr>",h+="<td>",h+='<input type="text" size="3" id="QUANTITY_INPUT_'+l.ID+'"\t\t\t\t\t\t\t\t\t\t\tname="QUANTITY_INPUT_'+l.ID+'"\t\t\t\t\t\t\t\t\t\t\tsize="2" maxlength="18" min="0" '+g+"step="+O+'\t\t\t\t\t\t\t\t\t\t\tstyle="max-width: 50px"\t\t\t\t\t\t\t\t\t\t\tvalue="'+l.QUANTITY+'"\t\t\t\t\t\t\t\t\t\t\tonchange="updateQuantity(\'QUANTITY_INPUT_'+l.ID+"','"+l.ID+"', "+O+","+_+')"\t\t\t\t\t\t>',h+="</td>",0!=O&&""!=O&&(h+='<td id="basket_quantity_control">\t\t\t\t\t\t\t<div class="basket_quantity_control">\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="plus" onclick="setQuantity('+l.ID+", "+O+", 'up', "+_+');"></a>\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="minus" onclick="setQuantity('+l.ID+", "+O+", 'down', "+_+');"></a>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</td>'),l.hasOwnProperty("MEASURE_TEXT")&&0<l.MEASURE_TEXT.length&&(h+='<td style="text-align: left">'+l.MEASURE_TEXT+"</td>"),h+="</tr>",h+="</table>",h+="</div>",h+='<input type="hidden" id="QUANTITY_'+l.ID+'" name="QUANTITY_'+l.ID+'" value="'+l.QUANTITY+'" />',N.innerHTML=h,L&&updateQuantity("QUANTITY_INPUT_"+l.ID,l.ID,O,_);break;case"PRICE":R=n.insertCell(-1),M=l.FULL_PRICE_FORMATED!=l.PRICE_FORMATED?l.FULL_PRICE_FORMATED:"",R.setAttribute("class","price"),R.innerHTML+='<div class="current_price" id="current_price_'+l.ID+'">'+l.PRICE_FORMATED+"</div>",R.innerHTML+='<div class="old_price" id="old_price_'+l.ID+'">'+M+"</div>",j&&0<l.NOTES.length&&(R.innerHTML+='<div class="type_price">'+basketJSParams.SALE_TYPE+"</div>",R.innerHTML+='<div class="type_price_value">'+l.NOTES+"</div>");break;case"DISCOUNT":(F=n.insertCell(-1)).setAttribute("class","custom"),F.innerHTML="<span>"+getColumnName(e,r[c])+":</span>",F.innerHTML+='<div id="discount_value_'+l.ID+'">'+l.DISCOUNT_PRICE_PERCENT_FORMATED+"</div>";break;case"WEIGHT":(Y=n.insertCell(-1)).setAttribute("class","custom"),Y.innerHTML="<span>"+getColumnName(e,r[c])+":</span>",Y.innerHTML+=l.WEIGHT_FORMATED;break;default:H="",(Q=n.insertCell(-1)).setAttribute("class","custom"),Q.innerHTML="<span>"+getColumnName(e,r[c])+":</span>","SUM"==r[c]&&(H+='<div id="sum_'+l.ID+'">'),void 0!==l[r[c]]&&(H+=l[r[c]]),"SUM"==r[c]&&(H+="</div>"),Q.innerHTML+=H}if(V||K){var G=n.insertCell(-1);G.setAttribute("class","control"),V&&(G.innerHTML='<a href="'+basketJSParams.DELETE_URL.replace("#ID#",l.ID)+'">'+basketJSParams.SALE_DELETE+"</a><br />"),K&&(G.innerHTML+='<a href="'+basketJSParams.DELAY_URL.replace("#ID#",l.ID)+'">'+basketJSParams.SALE_DELAY+"</a>")}n.insertCell(-1).setAttribute("class","margin");var J=BX.findChildren(BX(s),{tagName:"li",className:"sku_prop"},!0);if(J&&0<J.length)for(c=0;J.length>c;c++)BX.bind(J[c],"click",BX.delegate(function(t){skuPropClickHandler(t)},this))}if(e.BASKET_DATA)for(x in e.BASKET_DATA.GRID.ROWS)if(e.BASKET_DATA.GRID.ROWS.hasOwnProperty(x)){var q=e.BASKET_DATA.GRID.ROWS[x];BX("discount_value_"+x)&&(BX("discount_value_"+x).innerHTML=q.DISCOUNT_PRICE_PERCENT_FORMATED),BX("current_price_"+x)&&(BX("current_price_"+x).innerHTML=q.PRICE_FORMATED),BX("old_price_"+x)&&(BX("old_price_"+x).innerHTML=q.FULL_PRICE_FORMATED!=q.PRICE_FORMATED?q.FULL_PRICE_FORMATED:""),BX("sum_"+x)&&(BX("sum_"+x).innerHTML=q.SUM),BX("QUANTITY_"+x)&&(BX("QUANTITY_INPUT_"+x).value=q.QUANTITY,BX("QUANTITY_INPUT_"+x).defaultValue=q.QUANTITY,BX("QUANTITY_"+x).value=q.QUANTITY)}if(e.BASKET_DATA&&couponListUpdate(e.BASKET_DATA),e.hasOwnProperty("WARNING_MESSAGE")){var z="";for(c=e.WARNING_MESSAGE.length-1;0<=c;c--)z+=e.WARNING_MESSAGE[c]+"<br/>";BX("warning_message").innerHTML=z}e.BASKET_DATA&&(BX("allWeight_FORMATED")&&(BX("allWeight_FORMATED").innerHTML=e.BASKET_DATA.allWeight_FORMATED.replace(/\s/g,"&nbsp;")),BX("allSum_wVAT_FORMATED")&&(BX("allSum_wVAT_FORMATED").innerHTML=e.BASKET_DATA.allSum_wVAT_FORMATED.replace(/\s/g,"&nbsp;")),BX("allVATSum_FORMATED")&&(BX("allVATSum_FORMATED").innerHTML=e.BASKET_DATA.allVATSum_FORMATED.replace(/\s/g,"&nbsp;")),BX("allSum_FORMATED")&&(BX("allSum_FORMATED").innerHTML=e.BASKET_DATA.allSum_FORMATED.replace(/\s/g," ")),BX("PRICE_WITHOUT_DISCOUNT")&&(BX("PRICE_WITHOUT_DISCOUNT").innerHTML=e.BASKET_DATA.PRICE_WITHOUT_DISCOUNT!=e.BASKET_DATA.allSum_FORMATED?e.BASKET_DATA.PRICE_WITHOUT_DISCOUNT.replace(/\s/g," "):""),BX.onCustomEvent("OnBasketChange"))}}function couponCreate(t,e){var a="disabled";BX.type.isElementNode(t)&&("BAD"===e.JS_STATUS?a="bad":"APPLYED"===e.JS_STATUS&&(a="good"),t.appendChild(BX.create("div",{props:{className:"bx_ordercart_coupon"},children:[BX.create("input",{props:{className:a,type:"text",value:e.COUPON,name:"OLD_COUPON[]"},attrs:{disabled:!0,readonly:!0}}),BX.create("span",{props:{className:a},attrs:{"data-coupon":e.COUPON}}),BX.create("div",{props:{className:"bx_ordercart_coupon_notes"},html:e.JS_CHECK_CODE})]})))}function couponListUpdate(t){var e,a,s,l,i,n,r,_;if(!t||"object"==typeof t){if((e=BX("coupons_block"))&&t.COUPON_LIST&&BX.type.isArray(t.COUPON_LIST))if((s=BX("coupon"))&&(s.value=""),l=BX.findChildren(e,{tagName:"input",property:{name:"OLD_COUPON[]"}},!0)){for(BX.type.isElementNode(l)&&(l=[l]),n=0;n<t.COUPON_LIST.length;n++){for(i=!1,_=-1,r=0;r<l.length;r++)if(l[r].value===t.COUPON_LIST[n].COUPON){i=!0,l[_=r].couponUpdate=!0;break}i?(a="disabled","BAD"===t.COUPON_LIST[n].JS_STATUS?a="bad":"APPLYED"===t.COUPON_LIST[n].JS_STATUS&&(a="good"),BX.adjust(l[_],{props:{className:a}}),BX.adjust(l[_].nextSibling,{props:{className:a}}),BX.adjust(l[_].nextSibling.nextSibling,{html:t.COUPON_LIST[n].JS_CHECK_CODE})):couponCreate(e,t.COUPON_LIST[n])}for(r=0;r<l.length;r++)void 0!==l[r].couponUpdate&&l[r].couponUpdate?l[r].couponUpdate=null:(BX.remove(l[r].parentNode),l[r]=null)}else for(n=0;n<t.COUPON_LIST.length;n++)couponCreate(e,t.COUPON_LIST[n]);e=null}}function skuPropClickHandler(t){t||(t=window.event);var e,a,s,l,i,n,r,_=BX.proxy_context,o={},c={};if(_&&_.hasAttribute("data-value-id")){if(BX.showWait(),e=_.getAttribute("data-element"),a=_.getAttribute("data-property"),s=BX("action_var").value,o[a]=_.getAttribute("data-value-id"),BX.hasClass(_,"bx_active"))return void BX.closeWait();if((l=BX.findChildren(BX(e),{tagName:"ul",className:"sku_prop_list"},!0))&&0<l.length)for(i=0;l.length>i;i++)if(l[i].id!=="prop_"+a+"_"+e&&(n=BX.findChildren(BX(l[i].id),{tagName:"li",className:"bx_active"},!0))&&0<n.length)for(r=0;n.length>r;r++)n[r].hasAttribute("data-value-id")&&(o[n[r].getAttribute("data-property")]=n[r].getAttribute("data-value-id"));(c={basketItemId:e,sessid:BX.bitrix_sessid(),site_id:BX.message("SITE_ID"),props:o,action_var:s,select_props:BX("column_headers").value,offers_props:BX("offers_props").value,quantity_float:BX("quantity_float").value,count_discount_4_all_quantity:BX("count_discount_4_all_quantity").value,price_vat_show_value:BX("price_vat_show_value").value,hide_coupon:BX("hide_coupon").value,use_prepayment:BX("use_prepayment").value})[s]="select_item",BX.ajax({url:"/bitrix/components/bitrix/sale.basket.basket/ajax.php",method:"POST",data:c,dataType:"json",onsuccess:function(t){BX.closeWait(),updateBasketTable(e,t)}})}}function getColumnName(t,e){return BX("col_"+e)?BX.util.trim(BX("col_"+e).innerHTML):""}function leftScroll(t,e,a){a=parseInt(a,10);var s=BX("prop_"+t+"_"+e);if(s){var l=parseInt(s.style.marginLeft,10);l<=20*(6-a)&&(s.style.marginLeft=l+20+"%")}}function rightScroll(t,e,a){a=parseInt(a,10);var s=BX("prop_"+t+"_"+e);if(s){var l=parseInt(s.style.marginLeft,10);20*(5-a)<l&&(s.style.marginLeft=l-20+"%")}}function checkOut(){return BX("coupon")&&(BX("coupon").disabled=!0),BX("basket_form").submit(),!0}function enterCoupon(){var t=BX("coupon");t&&t.value&&recalcBasketAjax({coupon:t.value})}function updateQuantity(t,e,a,s){var l=BX(t).defaultValue,i=parseFloat(BX(t).value)||0,n=!1;if(0===a||1==a)n=!0;else{var r=1e4*i%(1e4*a);parseInt(i);0===r&&(n=!0)}var _=!1;parseInt(i)!=parseFloat(i)&&(_=!0),i=!1===s&&!1===_?parseInt(i):parseFloat(i).toFixed(2),n?(BX(t).defaultValue=i,BX("QUANTITY_INPUT_"+e).value=i,BX("QUANTITY_"+e).value=i,recalcBasketAjax({})):(i=getCorrectRatioQuantity(i,a,s))!=l?(BX("QUANTITY_INPUT_"+e).value=i,BX("QUANTITY_"+e).value=i,recalcBasketAjax({})):BX(t).value=l}function setQuantity(t,e,a,s){var l,i=parseFloat(BX("QUANTITY_INPUT_"+t).value);(l="up"==a?i+e:i-e)<0&&(l=0),s&&(l=l.toFixed(2)),0<e&&l<e&&(l=e),s||l==l.toFixed(2)||(l=l.toFixed(2)),l=getCorrectRatioQuantity(l,e,s),BX("QUANTITY_INPUT_"+t).value=l,BX("QUANTITY_INPUT_"+t).defaultValue=l,updateQuantity("QUANTITY_INPUT_"+t,t,e,s)}function getCorrectRatioQuantity(t,e,a){var s,l=1e4*t%(1e4*e),i=t,n=!1;if(e=parseFloat(e),0===l)return i;if(0!==e&&1!=e)for(s=e,max=parseFloat(t)+parseFloat(e);s<=max;s=parseFloat(parseFloat(s)+parseFloat(e)).toFixed(2))i=s;else 1===e&&(i=0|t);return parseInt(i,10)!=parseFloat(i)&&(n=!0),i=!1===a&&!1===n?parseInt(i,10):parseFloat(i).toFixed(2)}function recalcBasketAjax(t){BX.showWait();var e,a,s=BX("action_var").value,l=BX("basket_items"),i=BX("delayed_items");if((e={sessid:BX.bitrix_sessid(),site_id:BX.message("SITE_ID"),props:{},action_var:s,select_props:BX("column_headers").value,offers_props:BX("offers_props").value,quantity_float:BX("quantity_float").value,count_discount_4_all_quantity:BX("count_discount_4_all_quantity").value,price_vat_show_value:BX("price_vat_show_value").value,hide_coupon:BX("hide_coupon").value,use_prepayment:BX("use_prepayment").value})[s]="recalculate",t&&"object"==typeof t)for(a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);if(l&&0<l.rows.length)for(a=1;l.rows.length>a;a++)e["QUANTITY_"+l.rows[a].id]=BX("QUANTITY_"+l.rows[a].id).value;if(i&&0<i.rows.length)for(a=1;i.rows.length>a;a++)e["DELAY_"+i.rows[a].id]="Y";BX.ajax({url:"/bitrix/components/bitrix/sale.basket.basket/ajax.php",method:"POST",data:e,dataType:"json",onsuccess:function(t){BX.closeWait(),updateBasketTable(null,t),$(".bx_ordercart_order_table_container tr").each(function(){$(this).find(".custom")})}})}function showBasketItemsList(t){BX.removeClass(BX("basket_toolbar_button"),"current"),BX.removeClass(BX("basket_toolbar_button_delayed"),"current"),BX.removeClass(BX("basket_toolbar_button_subscribed"),"current"),BX.removeClass(BX("basket_toolbar_button_not_available"),"current"),BX("normal_count").style.display="inline-block",BX("delay_count").style.display="inline-block",BX("subscribe_count").style.display="inline-block",BX("not_available_count").style.display="inline-block",2==t?(BX("basket_items_list")&&(BX("basket_items_list").style.display="none"),BX("basket_items_delayed")&&(BX("basket_items_delayed").style.display="block",BX.addClass(BX("basket_toolbar_button_delayed"),"current"),BX("delay_count").style.display="none"),BX("basket_items_subscribed")&&(BX("basket_items_subscribed").style.display="none"),BX("basket_items_not_available")&&(BX("basket_items_not_available").style.display="none")):3==t?(BX("basket_items_list")&&(BX("basket_items_list").style.display="none"),BX("basket_items_delayed")&&(BX("basket_items_delayed").style.display="none"),BX("basket_items_subscribed")&&(BX("basket_items_subscribed").style.display="block",BX.addClass(BX("basket_toolbar_button_subscribed"),"current"),BX("subscribe_count").style.display="none"),BX("basket_items_not_available")&&(BX("basket_items_not_available").style.display="none")):4==t?(BX("basket_items_list")&&(BX("basket_items_list").style.display="none"),BX("basket_items_delayed")&&(BX("basket_items_delayed").style.display="none"),BX("basket_items_subscribed")&&(BX("basket_items_subscribed").style.display="none"),BX("basket_items_not_available")&&(BX("basket_items_not_available").style.display="block",BX.addClass(BX("basket_toolbar_button_not_available"),"current"),BX("not_available_count").style.display="none")):(BX("basket_items_list")&&(BX("basket_items_list").style.display="block",BX.addClass(BX("basket_toolbar_button"),"current"),BX("normal_count").style.display="none"),BX("basket_items_delayed")&&(BX("basket_items_delayed").style.display="none"),BX("basket_items_subscribed")&&(BX("basket_items_subscribed").style.display="none"),BX("basket_items_not_available")&&(BX("basket_items_not_available").style.display="none"))}function deleteCoupon(t){var e,a=BX.proxy_context;a&&a.hasAttribute("data-coupon")&&(e=a.getAttribute("data-coupon"))&&0<e.length&&recalcBasketAjax({delete_coupon:e})}BX.ready(function(){var t,e,a=BX.findChildren(BX("basket_items"),{tagName:"li",className:"sku_prop"},!0);if(a&&0<a.length)for(t=0;a.length>t;t++)BX.bind(a[t],"click",BX.delegate(function(t){skuPropClickHandler(t)},this));(e=BX("coupons_block"))&&BX.bindDelegate(e,"click",{attribute:"data-coupon"},BX.delegate(function(t){deleteCoupon(t)},this))}),$(".plus").on("click",function(){}),$(".minus").on("click",function(){});