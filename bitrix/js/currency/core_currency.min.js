(function(a){BX.namespace("BX.Currency");if(BX.Currency.defaultFormat){return}BX.mergeEx(BX.Currency,{currencyList:[],defaultFormat:{FORMAT_STRING:"#",DEC_POINT:".",THOUSANDS_SEP:" ",DECIMALS:2,HIDE_ZERO:"N"},setCurrencyFormat:function(b,g,f){var c=this.getCurrencyIndex(b),e=BX.clone(this.defaultFormat,true),d;f=!!f;if(c>-1&&!f){return}if(c===-1){c=this.currencyList.length}for(d in e){if(e.hasOwnProperty(d)&&typeof g[d]!=="undefined"){e[d]=g[d]}}this.currencyList[c]={currency:b,format:BX.clone(e,true)}},setCurrencies:function(b,d){var c;if(!!b&&BX.type.isArray(b)){for(c=0;c<b.length;c++){if(!!b[c].CURRENCY&&!!b[c].FORMAT){this.setCurrencyFormat(b[c].CURRENCY,b[c].FORMAT,d)}}}},getCurrencyFormat:function(b){var c=this.getCurrencyIndex(b);return(c>-1?this.currencyList[c].format:false)},getCurrencyIndex:function(b){var d,c=-1;if(this.currencyList.length===0){return c}for(d=0;d<this.currencyList.length;d++){if(this.currencyList[d].currency===b){c=d;break}}return c},clearCurrency:function(b){var c=this.getCurrencyIndex(b);if(c>-1){this.currencyList=BX.util.deleteFromArray(this.currencyList,c)}},clean:function(){this.currencyList=[]},currencyFormat:function(e,d,c){var b="",f;c=!!c;f=this.getCurrencyFormat(d);if(!!f&&typeof f==="object"){f.CURRENT_DECIMALS=f.DECIMALS;if(f.HIDE_ZERO==="Y"&&e==parseInt(e,10)){f.CURRENT_DECIMALS=0}b=BX.util.number_format(e,f.CURRENT_DECIMALS,f.DEC_POINT,f.THOUSANDS_SEP);if(c){b=f.FORMAT_STRING.replace(/(^|[^&])#/,"$1"+b)}}return b}})})(window);