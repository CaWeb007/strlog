(function(r,d,f){d.Vue.cloneComponent("bx-im-view-list-item-recent","bx-list-element",{props:["rawListItem","itemTypes"],methods:{formatDate:function l(t){t=new Date(t);var s=new Date();var u=s.getTime()-7*24*60*60*1000;var v=["vs","pn","vt","sr","ch","py","sb"];if(t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()){return f.Utils.date.format(t,"H:i")}else{if(t.getTime()>u){return v[t.getDay()]}else{if(t.getFullYear()===s.getFullYear()){return f.Utils.date.format(t,"d.m")}else{return f.Utils.date.format(t,"d.m.Y")}}}}},computed:{listItem:function j(){return{id:this.rawListItem.id,template:this.rawListItem.template,type:this.rawListItem.chatType,sectionCode:this.rawListItem.sectionCode,title:{leftIcon:this.titleLeftIcon,value:this.titleValue},subtitle:{value:this.rawListItem.message.text},avatar:{url:this.avatarUrl,bottomRightIcon:this.avatarBottomRightIcon},message:this.rawListItem.message,date:{value:this.formatDate(this.rawListItem.message.date)},counter:{value:this.rawListItem.counter,leftIcon:this.rawListItem.pinned?"pinned":""},notification:false}},listItemStyle:function o(){if(this.rawListItem.sectionCode==="pinned"){return{backgroundColor:"#f7f7f7"}}return{}},imageStyle:function m(){return{backgroundColor:this.listItem.avatar.url?"":this.imageColor}},imageClass:function e(){return"bx-vue-list-item-image"},imageColor:function k(){if(this.isUser&&this.userData){return this.userData.color}if(this.isChat&&this.dialogData){return this.dialogData.color}if(this.isNotificationChat){return this.rawListItem.color}},avatarUrl:function i(){if(this.isUser&&this.userData){return this.userData.avatar}if(this.isChat&&this.dialogData){return this.dialogData.avatar}},avatarBottomRightIcon:function n(){if(this.isUser){if(this.userData.isMobileOnline){return"mobile-online"}else{if(this.userData.isOnline&&(this.userData.status==="away"||this.userData.status==="dnd")){return this.userData.status}else{if(this.userData.isOnline){return"online"}else{return"offline"}}}}},titleLeftIcon:function b(){if(this.isUser){if(this.userData.isAbsent){return"absent"}else{if(this.userData.isBirthday){return"birthday"}else{return""}}}if(this.isChat){return this.rawListItem.chatType}},titleValue:function p(){if(this.isUser&&this.userData){return this.userData.name}if(this.isChat&&this.dialogData){return this.dialogData.name}if(this.isNotificationChat){return this.rawListItem.title}},userData:function h(){return this.$root.$store.getters["users/get"](this.rawListItem.userId)},dialogData:function c(){return this.$root.$store.getters["dialogues/getByChatId"](this.rawListItem.chatId)},isChat:function q(){return["chat","open"].includes(this.rawListItem.chatType)},isUser:function a(){return this.rawListItem.chatType==="user"},isNotificationChat:function g(){return this.rawListItem.chatType==="notification"}}})}((this.window=this.window||{}),BX,BX.Messenger));