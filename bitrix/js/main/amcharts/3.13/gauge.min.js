AmCharts.GaugeAxis=AmCharts.Class({construct:function(b){this.cname="GaugeAxis";this.radius="95%";this.labelsEnabled=!0;this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.gridCount=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=10;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topTextYOffset=0;this.topTextBold=!0;this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;this.bcn="gauge-axis";AmCharts.applyTheme(this,b,"GaugeAxis")},value2angle:function(b){return(b-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(f){if(void 0!==f){this.topText=f;var e=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var g=this.topTextFontSize;g||(g=e.fontSize);var h=this.topTextColor;h||(h=e.color);f=AmCharts.text(e.container,f,h,e.fontFamily,g,void 0,this.topTextBold);AmCharts.setCN(e,f,"axis-top-label");f.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.set.push(f);this.topTF=f}}},setBottomText:function(f){if(void 0!==f){this.bottomText=f;var e=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var g=this.bottomTextFontSize;g||(g=e.fontSize);var h=this.bottomTextColor;h||(h=e.color);f=AmCharts.text(e.container,f,h,e.fontFamily,g,void 0,this.bottomTextBold);AmCharts.setCN(e,f,"axis-bottom-label");f.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=f;this.set.push(f)}}},draw:function(){var ar=this.chart,aq=ar.container.set();this.set=aq;AmCharts.setCN(ar,aq,this.bcn);AmCharts.setCN(ar,aq,this.bcn+"-"+this.id);ar.graphsSet.push(aq);var ao=this.startValue,ap=this.endValue,am=this.valueInterval;isNaN(am)&&(am=(ap-ao)/this.gridCount);var ai=this.minorTickInterval;isNaN(ai)&&(ai=am/5);var W=this.startAngle,ak=this.endAngle,al=this.tickLength,ap=(ap-ao)/am+1,U=(ak-W)/(ap-1),an=U/am;this.singleValueAngle=an;var ag=ar.container,V=this.tickColor,Z=this.tickAlpha,j=this.tickThickness,ai=am/ai,i=U/ai,T=this.minorTickLength,S=this.labelFrequency,Q=this.radiusReal;this.inside||(Q-=15);var af=ar.centerX+AmCharts.toCoordinate(this.centerX,ar.realWidth),ad=ar.centerY+AmCharts.toCoordinate(this.centerY,ar.realHeight);this.centerXReal=af;this.centerYReal=ad;var O={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},ac,Y;this.gridInside?Y=ac=Q:(ac=Q-al,Y=ac+T);var ab=this.bands;if(ab){for(var ae=0;ae<ab.length;ae++){var ah=ab[ae];if(ah){var R=ah.startValue,s=ah.endValue,aj=AmCharts.toCoordinate(ah.radius,Q);isNaN(aj)&&(aj=Y);var X=AmCharts.toCoordinate(ah.innerRadius,Q);isNaN(X)&&(X=aj-T);var P=W+an*(R-this.startValue),s=an*(s-R),aa=ah.outlineColor;void 0==aa&&(aa=this.bandOutlineColor);var N=ah.outlineThickness;isNaN(N)&&(N=this.bandOutlineThickness);var o=ah.outlineAlpha;isNaN(o)&&(o=this.bandOutlineAlpha);R=ah.alpha;isNaN(R)&&(R=this.bandAlpha);aj=AmCharts.wedge(ag,af,ad,P,s,aj,aj,X,0,{fill:ah.color,stroke:aa,"stroke-width":N,"stroke-opacity":o});AmCharts.setCN(ar,aj.wedge,"axis-band");void 0!=ah.id&&AmCharts.setCN(ar,aj.wedge,"axis-band-"+ah.id);aj.setAttr("opacity",R);this.set.push(aj);this.addEventListeners(aj,ah)}}}an=this.axisThickness/2;ak=AmCharts.wedge(ag,af,ad,W,ak-W,ac+an,ac+an,ac-an,0,O);AmCharts.setCN(ar,ak.wedge,"axis-line");aq.push(ak);ak=AmCharts.doNothing;AmCharts.isModern||(ak=Math.round);am=AmCharts.roundTo(am,14);an=AmCharts.getDecimals(am);for(O=0;O<ap;O++){if(ab=ao+O*am,ac=W+O*U,ae=ak(af+Q*Math.sin(ac/180*Math.PI)),ah=ak(ad-Q*Math.cos(ac/180*Math.PI)),aj=ak(af+(Q-al)*Math.sin(ac/180*Math.PI)),X=ak(ad-(Q-al)*Math.cos(ac/180*Math.PI)),ae=AmCharts.line(ag,[ae,aj],[ah,X],V,Z,j,0,!1,!1,!0),AmCharts.setCN(ar,ae,"axis-tick"),aq.push(ae),ae=-1,aj=this.labelOffset,this.inside||(aj=-aj-al,ae=1),ah=Math.sin(ac/180*Math.PI),X=Math.cos(ac/180*Math.PI),ah=af+(Q-al-aj)*ah,aj=ad-(Q-al-aj)*X,R=this.fontSize,isNaN(R)&&(R=ar.fontSize),X=Math.sin((ac-90)/180*Math.PI),P=Math.cos((ac-90)/180*Math.PI),0<S&&this.labelsEnabled&&O/S==Math.round(O/S)&&(this.showLastLabel||O!=ap-1)&&(this.showFirstLabel||0!==O)&&(s=this.usePrefixes?AmCharts.addPrefix(ab,ar.prefixesOfBigNumbers,ar.prefixesOfSmallNumbers,ar.nf,!0):AmCharts.formatNumber(ab,ar.nf,an),(aa=this.unit)&&(s="left"==this.unitPosition?aa+s:s+aa),(aa=this.labelFunction)&&(s=aa(ab)),ab=AmCharts.text(ag,s,ar.color,ar.fontFamily,R),AmCharts.setCN(ar,ab,"axis-label"),R=ab.getBBox(),ab.translate(ah+ae*R.width/2*P,aj+ae*R.height/2*X),aq.push(ab)),O<ap-1){for(ab=1;ab<ai;ab++){X=ac+i*ab,ae=ak(af+Y*Math.sin(X/180*Math.PI)),ah=ak(ad-Y*Math.cos(X/180*Math.PI)),aj=ak(af+(Y-T)*Math.sin(X/180*Math.PI)),X=ak(ad-(Y-T)*Math.cos(X/180*Math.PI)),ae=AmCharts.line(ag,[ae,aj],[ah,X],V,Z,j,0,!1,!1,!0),AmCharts.setCN(ar,ae,"axis-tick-minor"),aq.push(ae)}}}this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);ar=ar.graphsSet.getBBox();this.width=ar.width;this.height=ar.height},addEventListeners:function(e,c){var f=this.chart;e.mouseover(function(b){f.showBalloon(c.balloonText,c.color,!0)}).mouseout(function(b){f.hideBalloon()})}});AmCharts.GaugeArrow=AmCharts.Class({construct:function(b){this.cname="GaugeArrow";this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.endWidth=0;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;AmCharts.applyTheme(this,b,"GaugeArrow")},setValue:function(d){var c=this.chart;c?c.setValue?c.setValue(this,d):this.previousValue=this.value=d:this.previousValue=this.value=d}});AmCharts.GaugeBand=AmCharts.Class({construct:function(){this.cname="GaugeBand"}});AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(b){this.cname="AmAngularGauge";AmCharts.AmAngularGauge.base.construct.call(this,b);this.theme=b;this.type="gauge";this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect="easeOutSine";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;AmCharts.applyTheme(this,b,this.cname)},addAxis:function(b){this.axes.push(b)},formatString:function(d,c){return d=AmCharts.formatValue(d,c,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);var f;0===this.axes.length&&(f=new AmCharts.GaugeAxis(this.theme),this.addAxis(f));var e;for(e=0;e<this.axes.length;e++){f=this.axes[e],f=AmCharts.processObject(f,AmCharts.GaugeAxis,this.theme),f.id||(f.id="axisAuto"+e+"_"+(new Date).getTime()),f.chart=this,this.axes[e]=f}var g=this.arrows;for(e=0;e<g.length;e++){f=g[e];f=AmCharts.processObject(f,AmCharts.GaugeArrow,this.theme);f.id||(f.id="arrowAuto"+e+"_"+(new Date).getTime());f.chart=this;g[e]=f;var h=f.axis;AmCharts.isString(h)&&(f.axis=AmCharts.getObjById(this.axes,h));f.axis||(f.axis=this.axes[0]);isNaN(f.value)&&f.setValue(f.axis.startValue);isNaN(f.previousValue)&&(f.previousValue=f.axis.startValue)}this.setLegendData(g);this.drawChart();this.totalFrames=1000*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var r=this.container,q=this.updateWidth();this.realWidth=q;var o=this.updateHeight();this.realHeight=o;var p=AmCharts.toCoordinate,m=p(this.marginLeft,q),i=p(this.marginRight,q),t=p(this.marginTop,o)+this.getTitleHeight(),j=p(this.marginBottom,o),k=p(this.radius,q,o),p=q-m-i,s=o-t-j+this.extraHeight;k||(k=Math.min(p,s)/2);k<this.minRadius&&(k=this.minRadius);this.radiusReal=k;this.centerX=(q-m-i)/2+m;this.centerY=(o-t-j)/2+t+this.extraHeight/2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var q=this.faceAlpha,o=this.faceBorderAlpha,n;if(0<q||0<o){n=AmCharts.circle(r,k,this.faceColor,q,this.faceBorderWidth,this.faceBorderColor,o,!1),n.translate(this.centerX,this.centerY),n.toBack(),(r=this.facePattern)&&n.pattern(r)}for(q=k=r=0;q<this.axes.length;q++){o=this.axes[q],m=o.radius,o.radiusReal=AmCharts.toCoordinate(m,this.radiusReal),o.draw(),i=1,-1!==String(m).indexOf("%")&&(i=1+(100-Number(m.substr(0,m.length-1)))/100),o.width*i>r&&(r=o.width*i),o.height*i>k&&(k=o.height*i)}(q=this.legend)&&q.invalidateSize();if(this.adjustSize&&!this.chartCreated){n&&(n=n.getBBox(),n.width>r&&(r=n.width),n.height>k&&(k=n.height));n=0;if(s>k||p>r){n=Math.min(s-k,p-r)}0<n&&(this.extraHeight=s-k,this.chartCreated=!0,this.validateNow())}p=this.arrows.length;for(q=0;q<p;q++){s=this.arrows[q],s.drawnAngle=NaN}this.dispDUpd();this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=!1;AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(b){this.arrows.push(b)},removeArrow:function(b){AmCharts.removeFromArray(this.arrows,b);this.validateNow()},removeAxis:function(b){AmCharts.removeFromArray(this.axes,b);this.validateNow()},drawArrow:function(w,t){w.set&&w.set.remove();var r=this.container;w.set=r.set();AmCharts.setCN(this,w.set,"gauge-arrow");AmCharts.setCN(this,w.set,"gauge-arrow-"+w.id);if(!w.hidden){var s=w.axis,p=s.radiusReal,k=s.centerXReal,y=s.centerYReal,m=w.startWidth,o=w.endWidth,x=AmCharts.toCoordinate(w.innerRadius,s.radiusReal),q=AmCharts.toCoordinate(w.radius,s.radiusReal);s.inside||(q-=15);var j=w.nailColor;j||(j=w.color);var z=w.nailColor;z||(z=w.color);j=AmCharts.circle(r,w.nailRadius,j,w.nailAlpha,w.nailBorderThickness,j,w.nailBorderAlpha);AmCharts.setCN(this,j,"gauge-arrow-nail");w.set.push(j);j.translate(k,y);isNaN(q)&&(q=p-s.tickLength);var s=Math.sin(t/180*Math.PI),p=Math.cos(t/180*Math.PI),j=Math.sin((t+90)/180*Math.PI),i=Math.cos((t+90)/180*Math.PI),r=AmCharts.polygon(r,[k-m/2*j+x*s,k+q*s-o/2*j,k+q*s+o/2*j,k+m/2*j+x*s],[y+m/2*i-x*p,y-q*p+o/2*i,y-q*p-o/2*i,y-m/2*i-x*p],w.color,w.alpha,1,z,w.borderAlpha,void 0,!0);AmCharts.setCN(this,r,"gauge-arrow");w.set.push(r);this.graphsSet.push(w.set)}},setValue:function(e,c){e.axis&&e.axis.value2angle&&(e.axis.value2angle(c),e.frame=0,e.previousValue=e.value);e.value=c;var f=this.legend;f&&f.updateValues()},handleLegendEvent:function(d){var c=d.type;d=d.dataItem;if(!this.legend.data&&d){switch(c){case"hideItem":this.hideArrow(d);break;case"showItem":this.showArrow(d)}}},hideArrow:function(b){b.set.hide();b.hidden=!0},showArrow:function(b){b.set.show();b.hidden=!1},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var f=this.arrows.length,e,g=0;g<f;g++){e=this.arrows[g];var h;e.frame>=this.totalFrames?h=e.value:(e.frame++,e.clockWiseOnly&&e.value<e.previousValue&&(h=e.axis,e.previousValue-=h.endValue-h.startValue),h=AmCharts.getEffect(this.startEffect),h=AmCharts[h](0,e.frame,e.previousValue,e.value-e.previousValue,this.totalFrames),isNaN(h)&&(h=e.value));h=e.axis.value2angle(h);e.drawnAngle!=h&&(this.drawArrow(e,h),e.drawnAngle=h)}}});