AmCharts.GaugeAxis=AmCharts.Class({construct:function(){this.radius="95%";this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.valueInterval=20;this.minorTickInterval=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=15;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topText="";this.topTextYOffset=0;this.topTextBold=!0;this.bottomText="";this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1},value2angle:function(b){return this.startAngle+this.singleValueAngle*b},setTopText:function(f){this.topText=f;var e=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var g=this.topTextFontSize;g||(g=e.fontSize);var h=this.topTextColor;h||(h=e.color);e=this.chart;f=AmCharts.text(e.container,f,h,e.fontFamily,g,void 0,this.topTextBold);f.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.chart.graphsSet.push(f);this.topTF=f}},setBottomText:function(f){this.bottomText=f;var e=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var g=this.bottomTextFontSize;g||(g=e.fontSize);var h=this.bottomTextColor;h||(h=e.color);e=this.chart;f=AmCharts.text(e.container,f,h,e.fontFamily,g,void 0,this.bottomTextBold);f.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=f;this.chart.graphsSet.push(f)}},draw:function(){var af=this.chart,ae=af.graphsSet,ac=this.startValue,ad=this.valueInterval,W=this.startAngle,Z=this.endAngle,Y=this.tickLength,X=(this.endValue-ac)/ad+1,aa=(Z-W)/(X-1),V=aa/ad;this.singleValueAngle=V;var ab=af.container,T=this.tickColor,J=this.tickAlpha,R=this.tickThickness,P=ad/this.minorTickInterval,N=aa/P,L=this.minorTickLength,I=this.labelFrequency,Q=this.radiusReal;this.inside||(Q-=15);var G=af.centerX+AmCharts.toCoordinate(this.centerX,af.realWidth),o=af.centerY+AmCharts.toCoordinate(this.centerY,af.realHeight);this.centerXReal=G;this.centerYReal=o;var M={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},U,i;this.gridInside?i=U=Q:(U=Q-Y,i=U+L);var O=this.axisThickness/2,Z=AmCharts.wedge(ab,G,o,W,Z-W,U+O,U+O,U-O,0,M);ae.push(Z);Z=AmCharts.doNothing;AmCharts.isModern||(Z=Math.round);for(M=0;M<X;M++){O=ac+M*ad;U=W+M*aa;var H=Z(G+Q*Math.sin(U/180*Math.PI)),K=Z(o-Q*Math.cos(U/180*Math.PI)),S=Z(G+(Q-Y)*Math.sin(U/180*Math.PI)),j=Z(o-(Q-Y)*Math.cos(U/180*Math.PI)),H=AmCharts.line(ab,[H,S],[K,j],T,J,R,0,!1,!1,!0);ae.push(H);K=this.labelOffset;this.inside||(K=-K-Y);H=G+(Q-Y-K)*Math.sin(U/180*Math.PI);K=o-(Q-Y-K)*Math.cos(U/180*Math.PI);S=this.fontSize;isNaN(S)&&(S=af.fontSize);0<I&&M/I==Math.round(M/I)&&(this.showLastLabel||M!=X-1)&&(this.showFirstLabel||0!==M)&&(O=AmCharts.text(ab,O,af.color,af.fontFamily,S),O.translate(H,K),ae.push(O));if(M<X-1){for(O=1;O<P;O++){j=U+N*O,H=Z(G+i*Math.sin(j/180*Math.PI)),K=Z(o-i*Math.cos(j/180*Math.PI)),S=Z(G+(i-L)*Math.sin(j/180*Math.PI)),j=Z(o-(i-L)*Math.cos(j/180*Math.PI)),H=AmCharts.line(ab,[H,S],[K,j],T,J,R,0,!1,!1,!0),ae.push(H)}}}if(ae=this.bands){for(ac=0;ac<ae.length;ac++){if(ad=ae[ac]){T=ad.startValue,J=ad.endValue,Y=AmCharts.toCoordinate(ad.radius,Q),isNaN(Y)&&(Y=i),X=AmCharts.toCoordinate(ad.innerRadius,Q),isNaN(X)&&(X=Y-L),aa=W+V*T,J=V*(J-T),R=ad.outlineColor,void 0==R&&(R=this.bandOutlineColor),P=ad.outlineThickness,isNaN(P)&&(P=this.bandOutlineThickness),N=ad.outlineAlpha,isNaN(N)&&(N=this.bandOutlineAlpha),T=ad.alpha,isNaN(T)&&(T=this.bandAlpha),ad=AmCharts.wedge(ab,G,o,aa,J,Y,Y,X,0,{fill:ad.color,stroke:R,"stroke-width":P,"stroke-opacity":N}),ad.setAttr("opacity",T),af.gridSet.push(ad)}}}this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);af=af.graphsSet.getBBox();this.width=af.width;this.height=af.height}});AmCharts.GaugeArrow=AmCharts.Class({construct:function(){this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0},setValue:function(d){var c=this.chart;c?c.setValue(this,d):this.previousValue=this.value=d}});AmCharts.GaugeBand=AmCharts.Class({construct:function(){}});AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(){AmCharts.AmAngularGauge.base.construct.call(this);this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect=">";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;this.clockWiseOnly=!1},addAxis:function(b){b.chart=this;this.axes.push(b)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);if(0===this.axes.length){var d=new AmCharts.GaugeAxis;this.addAxis(d)}for(var c,d=0;d<this.arrows.length;d++){c=this.arrows[d],c.axis||(c.axis=this.axes[0]),isNaN(c.value)&&c.setValue(c.axis.startValue),isNaN(c.previousValue)&&(c.previousValue=c.axis.startValue)}this.drawChart();this.totalFrames=1000*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var v=this.container,u=this.updateWidth();this.realWidth=u;var s=this.updateHeight();this.realHeight=s;var t=AmCharts.toCoordinate,j=t(this.marginLeft,u),p=t(this.marginRight,u),o=t(this.marginTop,s)+this.getTitleHeight(),n=t(this.marginBottom,s),q=t(this.radius,u,s),t=u-j-p,i=s-o-n+this.extraHeight;q||(q=Math.min(t,i)/2);q<this.minRadius&&(q=this.minRadius);this.radiusReal=q;this.centerX=(u-j-p)/2+j;this.centerY=(s-o-n)/2+o+this.extraHeight/2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var u=this.faceAlpha,s=this.faceBorderAlpha,r;if(0<u||0<s){r=AmCharts.circle(v,q,this.faceColor,u,this.faceBorderWidth,this.faceBorderColor,s,!1),r.translate(this.centerX,this.centerY),r.toBack()}for(u=q=v=0;u<this.axes.length;u++){s=this.axes[u],s.radiusReal=AmCharts.toCoordinate(s.radius,this.radiusReal),s.draw(),s.width>v&&(v=s.width),s.height>q&&(q=s.height)}if(this.adjustSize&&!this.chartCreated){r&&(r=r.getBBox(),r.width>v&&(v=r.width),r.height>q&&(q=r.height));r=0;if(i>q||t>v){r=Math.min(i-q,t-v)}0<r&&(this.extraHeight=i-q,this.chartCreated=!0,this.validateNow())}this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=!1;AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(b){b.chart=this;this.arrows.push(b)},removeArrow:function(b){AmCharts.removeFromArray(this.arrows,b);this.validateNow()},removeAxis:function(b){AmCharts.removeFromArray(this.axes,b);this.validateNow()},drawArrow:function(y,x){y.set&&y.set.remove();var v=y.axis,w=v.radiusReal,n=this.container,r=v.centerXReal,q=v.centerYReal,o=y.startWidth,s=y.innerRadius,j=AmCharts.toCoordinate(y.radius,v.radiusReal);v.inside||(j-=15);y.set=n.set();var t=y.nailColor;t||(t=y.color);var i=y.nailColor;i||(i=y.color);t=AmCharts.circle(n,y.nailRadius,t,y.nailAlpha,y.nailBorderThickness,t,y.nailBorderAlpha);y.set.push(t);t.translate(r,q);isNaN(j)&&(j=w-v.tickLength);var v=Math.sin(x/180*Math.PI),w=Math.cos(x/180*Math.PI),t=Math.sin((x+90)/180*Math.PI),z=Math.cos((x+90)/180*Math.PI),n=AmCharts.polygon(n,[r-o/2*t+s*v,r+j*v,r+o/2*t+s*v],[q+o/2*z-s*w,q-j*w,q-o/2*z-s*w],y.color,y.alpha,1,i,y.borderAlpha,void 0,!0);y.set.push(n);this.graphsSet.push(y.set)},setValue:function(d,c){d.axis&&(d.axis.value2angle(c),d.frame=0,d.previousValue=d.value);d.value=c},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var f=this.arrows.length,e,g=0;g<f;g++){e=this.arrows[g];var h;e.frame>=this.totalFrames?h=e.value:(e.frame++,e.clockWiseOnly&&e.value<e.previousValue&&(h=e.axis,e.previousValue-=h.endValue-h.startValue),h=AmCharts.getEffect(this.startEffect),h=AmCharts[h](0,e.frame,e.previousValue,e.value-e.previousValue,this.totalFrames),isNaN(h)&&(h=e.value));h=e.axis.value2angle(h);this.drawArrow(e,h)}}});