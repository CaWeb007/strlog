(function(){var a=window.AmCharts;a.AmGanttChart=a.Class({inherits:a.AmSerialChart,construct:function(b){this.type="gantt";a.AmGanttChart.base.construct.call(this,b);this.cname="AmGanttChart";this.period="ss";this.maxZoomFactor=1000000},initChart:function(){this.dataChanged&&this.processGanttData();a.AmGanttChart.base.initChart.call(this)},parseData:function(){a.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.ganttDataProvider)},processGanttData:function(){var ad;this.graphs=[];var H=this.dataProvider;this.ganttDataProvider=[];var b=this.categoryField,N=this.startField,M=this.endField,L=this.durationField,I=this.startDateField,s=this.endDateField,o=this.colorField,Q=a.extractPeriod(this.period),Z=Q.period,Q=Q.count,O=a.getDate(this.startDate,this.dataDateFormat,"fff");this.categoryAxis.gridPosition="start";ad=this.valueAxis;this.valueAxes=[ad];var S;"date"==ad.type&&(S=!0);ad.minimumDate&&(ad.minimumDate=a.getDate(ad.minimumDate,J,Z));ad.maximumDate&&(ad.maximumDate=a.getDate(ad.maximumDate,J,Z));isNaN(ad.minimum)||(ad.minimumDate=a.changeDate(new Date(O),Z,ad.minimum,!0,!0));isNaN(ad.maximum)||(ad.maximumDate=a.changeDate(new Date(O),Z,ad.maximum,!0,!0));var J=this.dataDateFormat;if(H){for(ad=0;ad<H.length;ad++){var aa=H[ad],V={};V[b]=aa[b];var j=aa[this.segmentsField],K;this.ganttDataProvider.push(V);aa=aa[o];this.colors[ad]||(this.colors[ad]=a.randomColor());if(j){for(var Y=0;Y<j.length;Y++){var ab=j[Y],ac=ab[N],X=ab[M],U=ab[L];isNaN(ac)&&(ac=K);isNaN(U)||(X=ac+U);var U="start_"+ad+"_"+Y,i="end_"+ad+"_"+Y;V[U]=ac;V[i]=X;var T="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),W,R;for(R in T){W=T[R]+"Field",(K=this.graph[W])&&void 0!==ab[K]&&(V[T[R]+"_"+ad+"_"+Y]=ab[K])}K=X;if(S){W=a.getDate(ab[I],J,Z);var P=a.getDate(ab[s],J,Z);O&&(isNaN(ac)||(W=a.changeDate(a.newDate(O,"fff"),Z,ac*Q,!0,!0)),isNaN(X)||(P=a.changeDate(a.newDate(O,"fff"),Z,X*Q,!0,!0)));V[U]=W.getTime();V[i]=P.getTime()}X={};a.copyProperties(ab,X);ac={};a.copyProperties(this.graph,ac,!0);for(R in T){W=T[R]+"Field",this.graph[W]&&(ac[W]=T[R]+"_"+ad+"_"+Y)}ac.customData=X;ac.segmentData=ab;ac.labelFunction=this.graph.labelFunction;ac.balloonFunction=this.graph.balloonFunction;ac.customBullet=this.graph.customBullet;ac.type="column";ac.openField=U;ac.valueField=i;ac.clustered=!1;ab[o]&&(aa=ab[o]);ac.columnWidth=ab[this.columnWidthField];void 0===aa&&(aa=this.colors[ad]);(ab=this.brightnessStep)&&(aa=a.adjustLuminosity(aa,Y*ab/100));void 0===this.graph.lineColor&&(ac.lineColor=aa);void 0===this.graph.fillColors&&(ac.fillColors=aa);this.graphs.push(ac)}}}}}})})();