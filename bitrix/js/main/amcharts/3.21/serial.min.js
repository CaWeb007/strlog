(function(){var a=window.AmCharts;a.AmRectangularChart=a.Class({inherits:a.AmCoordinateChart,construct:function(b){a.AmRectangularChart.base.construct.call(this,b);this.theme=b;this.createEvents("zoomed","changed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;a.applyTheme(this,b,"AmRectangularChart")},initChart:function(){a.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){a.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(a.ifArray(this.chartData)){var b=this.chartCursor;b&&b.draw()}},resetMargins:function(){var f={},e;if("xy"==this.type){var j=this.xAxes,i=this.yAxes;for(e=0;e<j.length;e++){var h=j[e];h.ignoreAxisWidth||(h.setOrientation(!0),h.fixAxisPosition(),f[h.position]=!0)}for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(!1),j.fixAxisPosition(),f[j.position]=!0)}}else{i=this.valueAxes;for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(this.rotate),j.fixAxisPosition(),f[j.position]=!0)}(e=this.categoryAxis)&&!e.ignoreAxisWidth&&(e.setOrientation(!this.rotate),e.fixAxisPosition(),e.fixAxisPosition(),f[e.position]=!0)}f.left&&(this.marginLeft=0);f.right&&(this.marginRight=0);f.top&&(this.marginTop=0);f.bottom&&(this.marginBottom=0);this.fixMargins=f},measureMargins:function(){var t=this.valueAxes,s,r=this.autoMarginOffset,q=this.fixMargins,n=this.realWidth,l=this.realHeight,p=r,o=r,j=n;s=l;var i;for(i=0;i<t.length;i++){t[i].handleSynchronization(),s=this.getAxisBounds(t[i],p,j,o,s),p=Math.round(s.l),j=Math.round(s.r),o=Math.round(s.t),s=Math.round(s.b)}if(t=this.categoryAxis){s=this.getAxisBounds(t,p,j,o,s),p=Math.round(s.l),j=Math.round(s.r),o=Math.round(s.t),s=Math.round(s.b)}q.left&&p<r&&(this.marginLeft=Math.round(-p+r),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft));q.right&&j>=n-r&&(this.marginRight=Math.round(j-n+r),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight));q.top&&o<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-o+r+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop));q.bottom&&s>l-r&&(this.marginBottom=Math.round(this.marginBottom+s-l+r),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom));this.initChart()},getAxisBounds:function(i,f,n,m,k){if(!i.ignoreAxisWidth){var j=i.labelsSet,l=i.tickLength;i.inside&&(l=0);if(j){switch(j=i.getBBox(),i.position){case"top":i=j.y;m>i&&(m=i);break;case"bottom":i=j.y+j.height;k<i&&(k=i);break;case"right":i=j.x+j.width+l+3;n<i&&(n=i);break;case"left":i=j.x-l,f>i&&(f=i)}}}return{l:f,t:m,r:n,b:k}},drawZoomOutButton:function(){var y=this;if(!y.zbSet){var x=y.container.set();y.zoomButtonSet.push(x);var w=y.color,v=y.fontSize,s=y.zoomOutButtonImageSize,r=y.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),t=y.langObj.zoomOutText||y.zoomOutText,o=y.zoomOutButtonColor,q=y.zoomOutButtonAlpha,j=y.zoomOutButtonFontSize,f=y.zoomOutButtonPadding;isNaN(j)||(v=j);(j=y.zoomOutButtonFontColor)&&(w=j);var j=y.zoomOutButton,i;j&&(j.fontSize&&(v=j.fontSize),j.color&&(w=j.color),j.backgroundColor&&(o=j.backgroundColor),isNaN(j.backgroundAlpha)||(y.zoomOutButtonRollOverAlpha=j.backgroundAlpha));var z=j=0,z=y.pathToImages;if(r){if(a.isAbsolute(r)||void 0===z){z=""}i=y.container.image(z+r+y.extension,0,0,s,s);a.setCN(y,i,"zoom-out-image");x.push(i);i=i.getBBox();j=i.width+5}void 0!==t&&(w=a.text(y.container,t,w,y.fontFamily,v,"start"),a.setCN(y,w,"zoom-out-label"),v=w.getBBox(),z=i?i.height/2-3:v.height/2,w.translate(j,z),x.push(w));i=x.getBBox();w=1;a.isModern||(w=0);o=a.rect(y.container,i.width+2*f+5,i.height+2*f-2,o,1,1,o,w);o.setAttr("opacity",q);o.translate(-f,-f);a.setCN(y,o,"zoom-out-bg");x.push(o);o.toBack();y.zbBG=o;i=o.getBBox();x.translate(y.marginLeftReal+y.plotAreaWidth-i.width+f,y.marginTopReal+f);x.hide();x.mouseover(function(){y.rollOverZB()}).mouseout(function(){y.rollOutZB()}).click(function(){y.clickZB()}).touchstart(function(){y.rollOverZB()}).touchend(function(){y.rollOutZB();y.clickZB()});for(q=0;q<x.length;q++){x[q].attr({cursor:"pointer"})}void 0!==y.zoomOutButtonTabIndex&&(x.setAttr("tabindex",y.zoomOutButtonTabIndex),x.setAttr("role","menuitem"),x.keyup(function(c){13==c.keyCode&&y.clickZB()}));y.zbSet=x}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,s=this.dy,r=this.marginLeftReal,q=this.marginTopReal,o=this.plotAreaWidth-1,n=this.plotAreaHeight-1,p=this.plotAreaFillColors,i=this.plotAreaFillAlphas,j=this.plotAreaBorderColor,f=this.plotAreaBorderAlpha;"object"==typeof i&&(i=i[0]);p=a.polygon(this.container,[0,o,o,0,0],[0,0,n,n,0],p,i,1,j,f,this.plotAreaGradientAngle);a.setCN(this,p,"plot-area");p.translate(r+t,q+s);this.set.push(p);0!==t&&0!==s&&(p=this.plotAreaFillColors,"object"==typeof p&&(p=p[0]),p=a.adjustLuminosity(p,-0.15),o=a.polygon(this.container,[0,t,o+t,o,0],[0,s,s,0,0],p,i,1,j,f),a.setCN(this,o,"plot-area-bottom"),o.translate(r,q+n),this.set.push(o),t=a.polygon(this.container,[0,0,t,t,0],[0,n,n+s,s,0],p,i,1,j,f),a.setCN(this,t,"plot-area-left"),t.translate(r,q),this.set.push(t));(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var f=this.updateWidth(),e=this.updateHeight(),h=this.container;this.realWidth=f;this.realWidth=e;h&&this.container.setSize(f,e);var h=this.marginLeftReal,g=this.marginTopReal,f=f-h-this.marginRightReal-this.dx,e=e-g-this.marginBottomReal;1>f&&(f=1);1>e&&(e=1);this.plotAreaWidth=Math.round(f);this.plotAreaHeight=Math.round(e);this.plotBalloonsSet.translate(h,g)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var b=this.getTitleHeight();this.titleHeight=b;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=b);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var e=this.valueAxes,d;for(d=0;d<e.length;d++){var f=e[d];this.setAxisRenderers(f);this.updateObjectSize(f)}},setAxisRenderers:function(b){b.axisRenderer=a.RecAxis;b.guideFillRenderer=a.RecFill;b.axisItemRenderer=a.RecItem;b.marginsChanged=!0},updateGraphs:function(){var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.index=d;f.rotate=this.rotate;this.updateObjectSize(f)}},updateObjectSize:function(b){b.width=this.plotAreaWidth-1;b.height=this.plotAreaHeight-1;b.x=this.marginLeftReal;b.y=this.marginTopReal;b.dx=this.dx;b.dy=this.dy},updateChartCursor:function(){var b=this.chartCursor;b&&(b=a.processObject(b,a.ChartCursor,this.theme),this.updateObjectSize(b),this.addChartCursor(b),b.chart=this)},processScrollbars:function(){var b=this.chartScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),this.addChartScrollbar(b))},updateScrollbars:function(){},removeChartCursor:function(){a.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d];f.valueAxis.recalculateToPercents?f.set&&f.set.hide():(f.x=this.marginLeftReal,f.y=this.marginTopReal,f.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(b){this.trendLines.push(b)},zoomOutValueAxes:function(){for(var d=this.valueAxes,c=0;c<d.length;c++){d[c].zoomOut()}},removeTrendLine:function(e){var d=this.trendLines,f;for(f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}},adjustMargins:function(f,e){var h=f.position,g=f.scrollbarHeight+f.offset;f.enabled&&("top"==h?e?this.marginLeftReal+=g:this.marginTopReal+=g:e?this.marginRightReal+=g:this.marginBottomReal+=g)},getScrollbarPosition:function(f,e,j){var i="bottom",h="top";f.oppositeAxis||(h=i,i="top");f.position=e?"bottom"==j||"left"==j?i:h:"top"==j||"right"==j?i:h},updateChartScrollbar:function(j,i){if(j){j.rotate=i;var p=this.marginTopReal,o=this.marginLeftReal,l=j.scrollbarHeight,k=this.dx,n=this.dy,m=j.offset;"top"==j.position?i?(j.y=p,j.x=o-l-m):(j.y=p-l+n-m,j.x=o+k):i?(j.y=p+n,j.x=o+this.plotAreaWidth+k+m):(j.y=p+this.plotAreaHeight+m,j.x=this.marginLeftReal)}},showZB:function(d){var c=this.zbSet;d&&(c=this.zoomOutText,""!==c&&c&&this.drawZoomOutButton());if(c=this.zbSet){this.zoomButtonSet.push(c),d?c.show():c.hide(),this.rollOutZB()}},handleReleaseOutside:function(b){a.AmRectangularChart.base.handleReleaseOutside.call(this,b);(b=this.chartCursor)&&b.handleReleaseOutside&&b.handleReleaseOutside()},handleMouseDown:function(d){a.AmRectangularChart.base.handleMouseDown.call(this,d);var c=this.chartCursor;c&&c.handleMouseDown&&!this.rolledOverZB&&c.handleMouseDown(d)},update:function(){a.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(b){this.relativeZoomValueAxes(b.target.valueAxes,b.relativeStart,b.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(f){if(f&&f.enabled){var e=f.valueAxes[0],h=e.relativeStart,g=e.relativeEnd;e.reversed&&(g=1-h,h=1-e.relativeEnd);f.percentZoom(h,g)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var d=this.valueAxes,c;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}d=this.graphs;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}(c=this.chartCursor)&&c.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(f,e){var j=f.relativeStart,i=f.relativeEnd;if(j>i){var h=j,j=i,i=h}this.relativeZoomValueAxes(e,j,i);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(f,e,l){this.hideBalloonReal();e=a.fitToBounds(e,0,1);l=a.fitToBounds(l,0,1);if(e>l){var k=e;e=l;l=k}var k=1/this.maxZoomFactor,j=a.getDecimals(k)+4;l-e<k&&(l=e+(l-e)/2,e=l-k/2,l+=k/2,1<l&&(e-=l-1,l=1),0>e&&(e=0,l=k));e=a.roundTo(e,j);l=a.roundTo(l,j);k=!1;if(f){for(j=0;j<f.length;j++){var i=f[j].zoomToRelativeValues(e,l,!0);i&&(k=i)}this.showZB()}return k},addChartCursor:function(b){a.callMethod("destroy",[this.chartCursor]);b&&(this.listenTo(b,"moved",this.handleCursorMove),this.listenTo(b,"zoomed",this.handleCursorZoom),this.listenTo(b,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(b,"panning",this.handleCursorPanning),this.listenTo(b,"onHideCursor",this.handleCursorHide));this.chartCursor=b},handleCursorChange:function(){},handleCursorMove:function(f){var e,h=this.valueAxes;for(e=0;e<h.length;e++){if(!f.panning){var g=h[e];g&&g.showBalloon&&g.showBalloon(f.x,f.y)}}},handleCursorZoom:function(r){if(this.skipZoomed){this.skipZoomed=!1}else{var q=this.startX0,p=this.endX0,o=this.endY0,l=this.startY0,j=r.startX,n=r.endX,m=r.startY,i=r.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(q+j*(p-q),q+n*(p-q),l+m*(o-l),l+i*(o-l),r)}},handleCursorHide:function(){var d,c=this.valueAxes;for(d=0;d<c.length;d++){c[d].hideBalloon()}c=this.graphs;for(d=0;d<c.length;d++){c[d].hideBalloonReal()}}})})();(function(){var a=window.AmCharts;a.AmSerialChart=a.Class({inherits:a.AmRectangularChart,construct:function(d){this.type="serial";a.AmSerialChart.base.construct.call(this,d);this.cname="AmSerialChart";this.theme=d;this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=0.8;var c=new a.CategoryAxis(d);c.chart=this;this.categoryAxis=c;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;a.applyTheme(this,d,this.cname)},initChart:function(){a.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");if(this.dataChanged){this.parseData()}else{this.onDataUpdated()}this.drawGraphs=!0},onDataUpdated:function(){var f=this.countColumns(),e=this.chartData,j=this.graphs,i;for(i=0;i<j.length;i++){var h=j[i];h.data=e;h.columnCount=f}0<e.length&&(this.firstTime=this.getStartTime(e[0].time),this.lastTime=this.getEndTime(e[e.length-1].time));this.drawChart();this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var i=this.valueAxes,f,n;if(0<i.length){var m=0;for(n=0;n<i.length;n++){f=i[n],m<f.gridCountReal&&(m=f.gridCountReal)}var k=!1;for(n=0;n<i.length;n++){if(f=i[n],f.gridCountReal<m){var j=(m-f.gridCountReal)/2,l=k=j;0!==j-Math.round(j)&&(k-=0.5,l+=0.5);0<=f.min&&0>f.min-k*f.step&&(l+=k,k=0);0>=f.max&&0<f.max+l*f.step&&(k+=l,l=0);j=a.getDecimals(f.step);f.minimum=a.roundTo(f.min-k*f.step,j);f.maximum=a.roundTo(f.max+l*f.step,j);f.setStep=f.step;k=f.strictMinMax=!0}}k&&this.updateAfterValueZoom();for(n=0;n<i.length;n++){f=i[n],f.minimum=NaN,f.maximum=NaN,f.setStep=NaN,f.strictMinMax=!1}}}},handleWheelReal:function(r,q){if(!this.wheelBusy){var p=this.categoryAxis,o=p.parseDates,l=p.minDuration(),j=1,n=1;this.mouseWheelZoomEnabled?q||(j=-1):q&&(j=-1);var m=this.chartCursor;if(m){var i=m.mouseX,m=m.mouseY;j!=n&&(i=this.rotate?m/this.plotAreaHeight:i/this.plotAreaWidth,j*=i,n*=1-i);i=0.05*(this.end-this.start);o&&(i=0.05*(this.endTime-this.startTime)/l);1>i&&(i=1);j*=i;n*=i;if(!o||p.equalSpacing){j=Math.round(j),n=Math.round(n)}}m=this.chartData.length;p=this.lastTime;i=this.firstTime;0>r?o?(m=this.endTime-this.startTime,o=this.startTime+j*l,l=this.endTime+n*l,0<n&&0<j&&l>=p&&(l=p,o=p-m),this.zoomToDates(new Date(o),new Date(l))):(0<n&&0<j&&this.end>=m-1&&(j=n=0),o=this.start+j,l=this.end+n,this.zoomToIndexes(o,l)):o?(m=this.endTime-this.startTime,o=this.startTime-j*l,l=this.endTime-n*l,0<n&&0<j&&o<=i&&(o=i,l=i+m),this.zoomToDates(new Date(o),new Date(l))):(0<n&&0<j&&1>this.start&&(j=n=0),o=this.start-j,l=this.end-n,this.zoomToIndexes(o,l))}},validateData:function(f){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!f&&(this.endTime=this.end=this.startTime=this.start=NaN);var e=f=!1,h=!1,g=this.chartScrollbar;g&&(g.dragging&&(f=!0,g.handleDragStop()),g.resizingRight&&(h=!0,g.rightDragStop()),g.resizingLeft&&(e=!0,g.leftDragStop()));a.AmSerialChart.base.validateData.call(this);f&&g.handleDragStart();h&&g.rightDragStart();e&&g.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){a.AmSerialChart.base.drawChart.call(this);var f=this.chartData;if(a.ifArray(f)){var e=this.chartScrollbar;!e||!this.marginsUpdated&&this.autoMargins||e.draw();(e=this.valueScrollbar)&&e.draw();var e=f.length-1,h,g;h=this.categoryAxis;if(h.parseDates&&!h.equalSpacing){if(h=this.startTime,g=this.endTime,isNaN(h)||isNaN(g)){h=this.firstTime,g=this.lastTime}}else{h=this.start;g=this.end;if(isNaN(h)||isNaN(g)){g=h=NaN}isNaN(h)&&(isNaN(this.startTime)||(h=this.getClosestIndex(f,"time",this.startTime,!0,0,f.length)));isNaN(g)&&(isNaN(this.endTime)||(g=this.getClosestIndex(f,"time",this.endTime,!1,0,f.length)));if(isNaN(h)||isNaN(g)){h=0,g=e}}this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(h,g)}}else{this.cleanChart()}},cleanChart:function(){a.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,d,f){e.chart=this;e.id=f;e.rotate=d;e.setOrientation(!this.rotate);e.init();this.setAxisRenderers(e);this.updateObjectSize(e)},updateValueAxes:function(){a.AmSerialChart.base.updateValueAxes.call(this);var f=this.valueAxes,e;for(e=0;e<f.length;e++){var h=f[e],g=this.rotate;h.rotate=g;h.setOrientation(g);g=this.categoryAxis;if(!g.startOnAxis||g.parseDates){h.expandMinMax=!0}}},getStartTime:function(d){var c=this.categoryAxis;return a.resetDateToMin(new Date(d),c.minPeriod,1,c.firstDayOfWeek).getTime()},getEndTime:function(d){var c=a.extractPeriod(this.categoryAxis.minPeriod);return a.changeDate(new Date(d),c.period,c.count,!0).getTime()-1},updateMargins:function(){a.AmSerialChart.base.updateMargins.call(this);var b=this.chartScrollbar;b&&(this.getScrollbarPosition(b,this.rotate,this.categoryAxis.position),this.adjustMargins(b,this.rotate));if(b=this.valueScrollbar){this.getScrollbarPosition(b,!this.rotate,this.valueAxes[0].position),this.adjustMargins(b,!this.rotate)}},updateScrollbars:function(){a.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate);this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,d){var f=this.categoryAxis;f.parseDates&&!f.equalSpacing?(this.timeZoom(e,d),isNaN(e)&&this.zoomOutValueAxes()):this.indexZoom(e,d);(f=this.chartCursor)&&(f.pan||f.hideCursorReal());this.updateLegendValues()},timeZoom:function(j,f){var p=this.maxSelectedTime;isNaN(p)||(f!=this.endTime&&f-j>p&&(j=f-p),j!=this.startTime&&f-j>p&&(f=j+p));var o=this.minSelectedTime;if(0<o&&f-j<o){var m=Math.round(j+(f-j)/2),o=Math.round(o/2);j=m-o;f=m+o}o=this.chartData;m=this.categoryAxis;if(a.ifArray(o)&&(j!=this.startTime||f!=this.endTime)){var k=m.minDuration(),n=this.firstTime,i=this.lastTime;j||(j=n,isNaN(p)||(j=i-p));f||(f=i);j>i&&(j=i);f<n&&(f=n);j<n&&(j=n);f>i&&(f=i);f<j&&(f=j+k);f-j<k/5&&(f<i?f=j+k/5:j=f-k/5);this.startTime=j;this.endTime=f;p=o.length-1;k=this.getClosestIndex(o,"time",j,!0,0,p);o=this.getClosestIndex(o,"time",f,!1,k,p);m.timeZoom(j,f);m.zoom(k,o);this.start=a.fitToBounds(k,0,p);this.end=a.fitToBounds(o,0,p);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();this.showZB();this.syncGrid();this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},showZB:function(){var d,c=this.categoryAxis;c&&c.parseDates&&!c.equalSpacing&&(this.startTime>this.firstTime&&(d=!0),this.endTime<this.lastTime&&(d=!0));0<this.start&&(d=!0);this.end<this.chartData.length-1&&(d=!0);if(c=this.valueAxes){c=c[0],isNaN(c.relativeStart)||(0!==a.roundTo(c.relativeStart,3)&&(d=!0),1!=a.roundTo(c.relativeEnd,3)&&(d=!0))}a.AmSerialChart.base.showZB.call(this,d)},updateAfterValueZoom:function(){a.AmSerialChart.base.updateAfterValueZoom.call(this);this.updateColumnsDepth()},indexZoom:function(f,e){var j=this.maxSelectedSeries,i=!1;isNaN(j)||(e!=this.end&&e-f>j&&(f=e-j,i=!0),f!=this.start&&e-f>j&&(e=f+j,i=!0));if(i&&(i=this.chartScrollbar)&&i.dragger){var h=i.dragger.getBBox();i.maxWidth=h.width;i.maxHeight=h.height}if(f!=this.start||e!=this.end){i=this.chartData.length-1,isNaN(f)&&(f=0,isNaN(j)||(f=i-j)),isNaN(e)&&(e=i),e<f&&(e=f),e>i&&(e=i),f>i&&(f=i-1),0>f&&(f=0),this.start=f,this.end=e,this.categoryAxis.zoom(f,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==f||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){a.AmSerialChart.base.updateGraphs.call(this);var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.columnWidthReal=this.columnWidth;f.categoryAxis=this.categoryAxis;a.isString(f.fillToGraph)&&(f.fillToGraph=this.graphsById[f.fillToGraph])}},zoomAxesAndGraphs:function(){a.AmSerialChart.base.zoomAxesAndGraphs.call(this);this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var f,e=this.graphs,j;this.columnsArray=[];for(f=0;f<e.length;f++){j=e[f];var i=j.columnsArray;if(i){var h;for(h=0;h<i.length;h++){this.columnsArray.push(i[h])}}}this.columnsArray.sort(this.compareDepth);e=this.columnsSet;if(0<this.columnsArray.length){i=this.container.set();this.columnSet.push(i);for(f=0;f<this.columnsArray.length;f++){i.push(this.columnsArray[f].column.set)}j&&i.translate(j.x,j.y);this.columnsSet=i}a.remove(e)}},compareDepth:function(d,c){return d.depth>c.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,d=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var f=e.dragger;f&&f.stop()}this.zoomedByScrollbar=!1;d.parseDates&&!d.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d],f=a.processObject(f,a.TrendLine,this.theme);e[d]=f;f.chart=this;f.id||(f.id="trendLineAuto"+d+"_"+(new Date).getTime());a.isString(f.valueAxis)&&(f.valueAxis=this.getValueAxisById(f.valueAxis));f.valueAxis||(f.valueAxis=this.valueAxes[0]);f.categoryAxis=this.categoryAxis}},countColumns:function(){var t=0,s=this.valueAxes.length,r=this.graphs.length,q,n,o=!1,p,i;for(i=0;i<s;i++){n=this.valueAxes[i];var j=n.stackType,h=0;if("100%"==j||"regular"==j){for(o=!1,p=0;p<r;p++){q=this.graphs[p],q.tcc=1,q.valueAxis==n&&"column"==q.type&&(!o&&q.stackable&&(t++,o=!0),(!q.stackable&&q.clustered||q.newStack&&0!==h)&&t++,q.columnIndex=t-1,q.clustered||(q.columnIndex=0),h++)}}if("none"==j||"3d"==j){o=!1;for(p=0;p<r;p++){q=this.graphs[p],q.valueAxis==n&&"column"==q.type&&(q.clustered?(q.tcc=1,q.newStack&&(t=0),q.hidden||(q.columnIndex=t,t++)):q.hidden||(o=!0,q.tcc=1,q.columnIndex=0))}o&&0===t&&(t=1)}if("3d"==j){n=1;for(i=0;i<r;i++){q=this.graphs[i],q.newStack&&n++,q.depthCount=n,q.tcc=t}t=n}}return t},parseData:function(){a.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var d=this.chartData,f;for(f=0;f<d.length;f++){if(d[f].category==e){return f}}},handleScrollbarZoom:function(b){this.zoomedByScrollbar=!0;this.zoom(b.start,b.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime);e.endDate=new Date(this.endTime);e.startIndex=this.start;e.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=e.startDate;this.endDate=e.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var d=this.categoryAxis,f=a.extractPeriod(d.minPeriod).period,d=d.dateFormatsObject[f];e.startValue=a.formatDate(e.startDate,d,this);e.endValue=a.formatDate(e.endDate,d,this);e.chart=this;e.target=this;this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start;this.endIndex=this.end;var d=this.chartData;if(a.ifArray(d)&&!isNaN(this.start)&&!isNaN(this.end)){var c={chart:this,target:this,type:"zoomed"};c.startIndex=this.start;c.endIndex=this.end;c.startValue=d[this.start].category;c.endValue=d[this.end].category;this.categoryAxis.parseDates&&(this.startTime=d[this.start].time,this.endTime=d[this.end].time,c.startDate=new Date(this.startTime),c.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(c)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(j,h,p,o,k,m){0>k&&(k=0);m>j.length-1&&(m=j.length-1);var n=k+Math.round((m-k)/2),i=j[n][h];return p==i?n:1>=m-k?o?k:Math.abs(j[k][h]-p)<Math.abs(j[m][h]-p)?k:m:p==i?n:p<i?this.getClosestIndex(j,h,p,o,k,n):this.getClosestIndex(j,h,p,o,n,m)},zoomToIndexes:function(f,e){var h=this.chartData;if(h){var g=h.length;0<g&&(0>f&&(f=0),e>g-1&&(e=g-1),g=this.categoryAxis,g.parseDates&&!g.equalSpacing?this.zoom(h[f].time,this.getEndTime(h[e].time)):this.zoom(f,e))}},zoomToDates:function(f,e){var h=this.chartData;if(h){if(this.categoryAxis.equalSpacing){var g=this.getClosestIndex(h,"time",f.getTime(),!0,0,h.length);e=a.resetDateToMin(e,this.categoryAxis.minPeriod,1);h=this.getClosestIndex(h,"time",e.getTime(),!1,0,h.length);this.zoom(g,h)}else{this.zoom(f.getTime(),e.getTime())}}},zoomToCategoryValues:function(d,c){this.chartData&&this.zoom(this.getCategoryIndexByValue(d),this.getCategoryIndexByValue(c))},formatPeriodString:function(ab,aa){if(aa){aa.periodDataItem={};aa.periodPercentDataItem={};var Z=["value","open","low","high","close"],Y="value open low high close average sum count".split(" "),W=aa.valueAxis,V=this.chartData,X=aa.numberFormatter;X||(X=this.nf);for(var T=0;T<Z.length;T++){for(var U=Z[T],S=0,Q=0,R=0,H=0,s,j,I,J,M,O,N,o,i,L,G=this.start;G<=this.end;G++){var K=V[G];if(K){var P=K.axes[W.id].graphs[aa.id];if(P){if(P.values){var f=P.values[U],K=K.x.categoryAxis;if(this.rotate){if(0>K||K>P.graph.height){f=NaN}}else{if(0>K||K>P.graph.width){f=NaN}}if(!isNaN(f)){isNaN(s)&&(s=f);j=f;if(isNaN(I)||I>f){I=f}if(isNaN(J)||J<f){J=f}M=a.getDecimals(S);K=a.getDecimals(f);S+=f;S=a.roundTo(S,Math.max(M,K));Q++;M=S/Q}}if(P.percents&&(P=P.percents[U],!isNaN(P))){isNaN(O)&&(O=P);N=P;if(isNaN(o)||o>P){o=P}if(isNaN(i)||i<P){i=P}L=a.getDecimals(R);f=a.getDecimals(P);R+=P;R=a.roundTo(R,Math.max(L,f));H++;L=R/H}}}}S={open:s,close:j,high:J,low:I,average:M,sum:S,count:Q};R={open:O,close:N,high:i,low:o,average:L,sum:R,count:H};ab=a.formatValue(ab,S,Y,X,U+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);ab=a.formatValue(ab,R,Y,this.pf,"percents\\."+U+"\\.");aa.periodDataItem[U]=S;aa.periodPercentDataItem[U]=R}}return ab=a.cleanFromEmpty(ab)},formatString:function(i,f,n){if(f){var m=f.graph;if(void 0!==i){if(-1!=i.indexOf("[[category]]")){var k=f.serialDataItem.category;if(this.categoryAxis.parseDates){var j=this.balloonDateFormat,l=this.chartCursor;l&&l.categoryBalloonDateFormat&&(j=l.categoryBalloonDateFormat);j=a.formatDate(k,j,this);-1!=j.indexOf("fff")&&(j=a.formatMilliseconds(j,k));k=j}i=i.replace(/\[\[category\]\]/g,String(k.replace("$","$$$")))}k=m.numberFormatter;k||(k=this.nf);j=f.graph.valueAxis;(l=j.duration)&&!isNaN(f.values.value)&&(l=a.formatDuration(f.values.value,l,"",j.durationUnits,j.maxInterval,k),i=i.replace(RegExp("\\[\\[value\\]\\]","g"),l));"date"==j.type&&(j=a.formatDate(new Date(f.values.value),m.dateFormat,this),l=RegExp("\\[\\[value\\]\\]","g"),i=i.replace(l,j),j=a.formatDate(new Date(f.values.open),m.dateFormat,this),l=RegExp("\\[\\[open\\]\\]","g"),i=i.replace(l,j));m="value open low high close total".split(" ");j=this.pf;i=a.formatValue(i,f.percents,m,j,"percents\\.");i=a.formatValue(i,f.values,m,k,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);i=a.formatValue(i,f.values,["percents"],j);-1!=i.indexOf("[[")&&(i=a.formatDataContextValue(i,f.dataContext));-1!=i.indexOf("[[")&&f.graph.customData&&(i=a.formatDataContextValue(i,f.graph.customData));i=a.AmSerialChart.base.formatString.call(this,i,f,n)}return i}},updateChartCursor:function(){a.AmSerialChart.base.updateChartCursor.call(this);var j=this.chartCursor,f=this.categoryAxis;if(j){var p=j.categoryBalloonAlpha,o=j.categoryBalloonColor,m=j.color;void 0===o&&(o=j.cursorColor);var k=j.valueZoomable,n=j.zoomable,i=j.valueLineEnabled;this.rotate?(j.vLineEnabled=i,j.hZoomEnabled=k,j.vZoomEnabled=n):(j.hLineEnabled=i,j.vZoomEnabled=k,j.hZoomEnabled=n);if(j.valueLineBalloonEnabled){for(i=0;i<this.valueAxes.length;i++){k=this.valueAxes[i],(n=k.balloon)||(n={}),n=a.extend(n,this.balloon,!0),n.fillColor=o,n.balloonColor=o,n.fillAlpha=p,n.borderColor=o,n.color=m,k.balloon=n}}else{for(n=0;n<this.valueAxes.length;n++){k=this.valueAxes[n],k.balloon&&(k.balloon=null)}}f&&(f.balloonTextFunction=j.categoryBalloonFunction,j.categoryLineAxis=f,f.balloonText=j.categoryBalloonText,j.categoryBalloonEnabled&&((n=f.balloon)||(n={}),n=a.extend(n,this.balloon,!0),n.fillColor=o,n.balloonColor=o,n.fillAlpha=p,n.borderColor=o,n.color=m,f.balloon=n),f.balloon&&(f.balloon.enabled=j.categoryBalloonEnabled))}},addChartScrollbar:function(b){a.callMethod("destroy",[this.chartScrollbar]);b&&(b.chart=this,this.listenTo(b,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===b.width&&(b.width=b.scrollbarHeight):void 0===b.height&&(b.height=b.scrollbarHeight);b.gridAxis=this.categoryAxis;this.chartScrollbar=b},addValueScrollbar:function(d){a.callMethod("destroy",[this.valueScrollbar]);d&&(d.chart=this,this.listenTo(d,"zoomed",this.handleScrollbarValueZoom),this.listenTo(d,"zoomStarted",this.handleCursorZoomStarted));var c=d.scrollbarHeight;this.rotate?void 0===d.height&&(d.height=c):void 0===d.width&&(d.width=c);d.gridAxis||(d.gridAxis=this.valueAxes[0]);d.valueAxes=this.valueAxes;this.valueScrollbar=d},removeChartScrollbar:function(){a.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},removeValueScrollbar:function(){a.callMethod("destroy",[this.valueScrollbar]);this.valueScrollbar=null},handleReleaseOutside:function(b){a.AmSerialChart.base.handleReleaseOutside.call(this,b);a.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){a.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update();this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){a.AmSerialChart.base.processScrollbars.call(this);var b=this.valueScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),b.id="valueScrollbar",this.addValueScrollbar(b))},handleValueAxisZoom:function(b){this.handleValueAxisZoomReal(b,this.valueAxes)},zoomOut:function(){a.AmSerialChart.base.zoomOut.call(this);this.zoom();this.syncGrid()},getNextItem:function(f){var e=f.index,h=this.chartData,g=f.graph;if(e+1<h.length){for(e+=1;e<h.length;e++){if(f=h[e]){if(f=f.axes[g.valueAxis.id].graphs[g.id],!isNaN(f.y)){return f}}}}},handleCursorZoomReal:function(j,h,p,o,k){var m=k.target,n,i;this.rotate?(isNaN(j)||isNaN(h)||this.relativeZoomValueAxes(this.valueAxes,j,h)&&this.updateAfterValueZoom(),m.vZoomEnabled&&(n=k.start,i=k.end)):(isNaN(p)||isNaN(o)||this.relativeZoomValueAxes(this.valueAxes,p,o)&&this.updateAfterValueZoom(),m.hZoomEnabled&&(n=k.start,i=k.end));isNaN(n)||isNaN(i)||(j=this.categoryAxis,j.parseDates&&!j.equalSpacing?this.zoomToDates(new Date(n),new Date(i)):this.zoomToIndexes(n,i))},handleCursorZoomStarted:function(){var e=this.valueAxes;if(e){var e=e[0],d=e.relativeStart,f=e.relativeEnd;e.reversed&&(d=1-e.relativeEnd,f=1-e.relativeStart);this.rotate?(this.startX0=d,this.endX0=f):(this.startY0=d,this.endY0=f)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition();this.prevCursorItem=null},handleCursorMove:function(x){a.AmSerialChart.base.handleCursorMove.call(this,x);var w=x.target,v=this.categoryAxis;if(x.panning){this.handleCursorHide(x)}else{if(this.chartData&&!w.isHidden){var u=this.graphs;if(u){var s;s=v.xToIndex(this.rotate?x.y:x.x);if(s=this.chartData[s]){var r,t,o,q;if(w.oneBalloonOnly&&w.valueBalloonsEnabled){var j=Infinity;for(r=u.length-1;0<=r;r--){if(t=u[r],t.balloon.enabled&&t.showBalloon&&!t.hidden){o=t.valueAxis.id;o=s.axes[o].graphs[t.id];if(w.showNextAvailable&&isNaN(o.y)&&(o=this.getNextItem(o),!o)){continue}o=o.y;"top"==t.showBalloonAt&&(o=0);"bottom"==t.showBalloonAt&&(o=this.height);var f=w.mouseX,i=w.mouseY;o=this.rotate?Math.abs(f-o):Math.abs(i-o);o<j&&(j=o,q=t)}}w.mostCloseGraph=q}if(this.prevCursorItem!=s||q!=this.prevMostCloseGraph){j=[];for(r=0;r<u.length;r++){t=u[r];o=t.valueAxis.id;o=s.axes[o].graphs[t.id];if(w.showNextAvailable&&isNaN(o.y)&&(o=this.getNextItem(o),!o&&t.balloon)){t.balloon.hide();continue}q&&t!=q?(t.showGraphBalloon(o,w.pointer,!1,w.graphBulletSize,w.graphBulletAlpha),t.balloon.hide(0)):w.valueBalloonsEnabled?(t.balloon.showBullet=w.bulletsEnabled,t.balloon.bulletSize=w.bulletSize/2,x.hideBalloons||(t.showGraphBalloon(o,w.pointer,!1,w.graphBulletSize,w.graphBulletAlpha),t.balloon.set&&j.push({balloon:t.balloon,y:t.balloon.pointToY}))):(t.currentDataItem=o,t.resizeBullet(o,w.graphBulletSize,w.graphBulletAlpha))}w.avoidBalloonOverlapping&&this.arrangeBalloons(j);this.prevCursorItem=s}this.prevMostCloseGraph=q}}v.showBalloon(x.x,x.y,w.categoryBalloonDateFormat,x.skip);this.updateLegendValues()}}},handleCursorHide:function(d){a.AmSerialChart.base.handleCursorHide.call(this,d);d=this.categoryAxis;this.prevCursorItem=null;this.updateLegendValues();d&&d.hideBalloon();d=this.graphs;var c;for(c=0;c<d.length;c++){d[c].currentDataItem=null}},handleCursorPanning:function(x){var w=x.target,v,u=x.deltaX,s=x.deltaY,r=x.delta2X,t=x.delta2Y;x=!1;if(this.rotate){isNaN(r)&&(r=u,x=!0);var o=this.endX0;v=this.startX0;var q=o-v,o=o-q*r,j=q;x||(j=0);x=a.fitToBounds(v-q*u,0,1-j)}else{isNaN(t)&&(t=s,x=!0),o=this.endY0,v=this.startY0,q=o-v,o+=q*s,j=q,x||(j=0),x=a.fitToBounds(v+q*t,0,1-j)}v=a.fitToBounds(o,j,1);var f;w.valueZoomable&&(f=this.relativeZoomValueAxes(this.valueAxes,x,v));var i;v=this.categoryAxis;this.rotate&&(u=s,r=t);x=!1;isNaN(r)&&(r=u,x=!0);if(w.zoomable&&(0<Math.abs(u)||0<Math.abs(r))){if(v.parseDates&&!v.equalSpacing){if(t=this.startTime0,s=this.endTime0,v=s-t,r*=v,q=this.firstTime,o=this.lastTime,j=v,x||(j=0),x=Math.round(a.fitToBounds(t-v*u,q,o-j)),r=Math.round(a.fitToBounds(s-r,q+j,o)),this.startTime!=x||this.endTime!=r){i={chart:this,target:w,type:"zoomed",start:x,end:r},this.skipZoomed=!0,w.fire(i),this.zoom(x,r),i=!0}}else{if(t=this.start0,s=this.end0,v=s-t,u=Math.round(v*u),r=Math.round(v*r),q=this.chartData.length-1,x||(v=0),x=a.fitToBounds(t-u,0,q-v),v=a.fitToBounds(s-r,v,q),this.start!=x||this.end!=v){this.skipZoomed=!0,w.fire({chart:this,target:w,type:"zoomed",start:x,end:v}),this.zoom(x,v),i=!0}}}!i&&f&&this.updateAfterValueZoom()},arrangeBalloons:function(j){var g=this.plotAreaHeight;j.sort(this.compareY);var p,o,m,k=this.plotAreaWidth,n=j.length;for(p=0;p<n;p++){o=j[p].balloon,o.setBounds(0,0,k,g),o.restorePrevious(),o.draw(),g=o.yPos-3}j.reverse();for(p=0;p<n;p++){o=j[p].balloon;var g=o.bottom,i=o.bottom-o.yPos;0<p&&g-i<m+3&&o.setBounds&&(o.setBounds(0,m+3,k,m+i+3),o.restorePrevious(),o.draw());o.set&&o.set.show();m=o.bottom}},compareY:function(d,c){return d.y<c.y?1:-1}})})();(function(){var a=window.AmCharts;a.Cuboid=a.Class({construct:function(C,A,z,y,s,r,w,o,q,j,g,i,F,D,B,H,G){this.set=C.set();this.container=C;this.h=Math.round(z);this.w=Math.round(A);this.dx=y;this.dy=s;this.colors=r;this.alpha=w;this.bwidth=o;this.bcolor=q;this.balpha=j;this.dashLength=D;this.topRadius=H;this.pattern=B;this.rotate=F;this.bcn=G;F?0>A&&0===g&&(g=180):0>z&&270==g&&(g=90);this.gradientRotation=g;0===y&&0===s&&(this.cornerRadius=i);this.draw()},draw:function(){var ay=this.set;ay.clear();var ax=this.container,aw=ax.chart,av=this.w,at=this.h,ar=this.dx,au=this.dy,ap=this.colors,aq=this.alpha,ao=this.bwidth,am=this.bcolor,an=this.balpha,ai=this.gradientRotation,ah=this.cornerRadius,af=this.dashLength,Y=this.pattern,aj=this.topRadius,ak=this.bcn,ab=ap,al=ap;"object"==typeof ap&&(ab=ap[0],al=ap[ap.length-1]);var ag,ae,aa,X,Z,ac,ad,R,s,f=aq;Y&&(aq=0);var W,V,U,T,S=this.rotate;if(0<Math.abs(ar)||0<Math.abs(au)){if(isNaN(aj)){ad=al,al=a.adjustLuminosity(ab,-0.2),al=a.adjustLuminosity(ab,-0.2),ag=a.polygon(ax,[0,ar,av+ar,av,0],[0,au,au,0,0],al,aq,1,am,0,ai),0<an&&(s=a.line(ax,[0,ar,av+ar],[0,au,au],am,an,ao,af)),ae=a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],al,aq,1,am,0,ai),ae.translate(ar,au),0<an&&(aa=a.line(ax,[ar,ar],[au,au+at],am,an,ao,af)),X=a.polygon(ax,[0,0,ar,ar,0],[0,at,at+au,au,0],al,aq,1,am,0,ai),Z=a.polygon(ax,[av,av,av+ar,av+ar,av],[0,at,at+au,au,0],al,aq,1,am,0,ai),0<an&&(ac=a.line(ax,[av,av+ar,av+ar,av],[0,au,at+au,at],am,an,ao,af)),al=a.adjustLuminosity(ad,0.2),ad=a.polygon(ax,[0,ar,av+ar,av,0],[at,at+au,at+au,at,at],al,aq,1,am,0,ai),0<an&&(R=a.line(ax,[0,ar,av+ar],[at,at+au,at+au],am,an,ao,af))}else{var o,j,i;S?(o=at/2,al=ar/2,i=at/2,j=av+ar/2,V=Math.abs(at/2),W=Math.abs(ar/2)):(al=av/2,o=au/2,j=av/2,i=at+au/2+1,W=Math.abs(av/2),V=Math.abs(au/2));U=W*aj;T=V*aj;0.1<W&&0.1<W&&(ag=a.circle(ax,W,ab,aq,ao,am,an,!1,V),ag.translate(al,o));0.1<U&&0.1<U&&(ad=a.circle(ax,U,a.adjustLuminosity(ab,0.5),aq,ao,am,an,!1,T),ad.translate(j,i))}}aq=f;1>Math.abs(at)&&(at=0);1>Math.abs(av)&&(av=0);!isNaN(aj)&&(0<Math.abs(ar)||0<Math.abs(au))?(ap=[ab],ap={fill:ap,stroke:am,"stroke-width":ao,"stroke-opacity":an,"fill-opacity":aq},S?(aq="M0,0 L"+av+","+(at/2-at/2*aj),ao=" B",0<av&&(ao=" A"),a.VML?(aq+=ao+Math.round(av-U)+","+Math.round(at/2-T)+","+Math.round(av+U)+","+Math.round(at/2+T)+","+av+",0,"+av+","+at,aq=aq+(" L0,"+at)+(ao+Math.round(-W)+","+Math.round(at/2-V)+","+Math.round(W)+","+Math.round(at/2+V)+",0,"+at+",0,0")):(aq+="A"+U+","+T+",0,0,0,"+av+","+(at-at/2*(1-aj))+"L0,"+at,aq+="A"+W+","+V+",0,0,1,0,0"),W=90):(ao=av/2-av/2*aj,aq="M0,0 L"+ao+","+at,a.VML?(aq="M0,0 L"+ao+","+at,ao=" B",0>at&&(ao=" A"),aq+=ao+Math.round(av/2-U)+","+Math.round(at-T)+","+Math.round(av/2+U)+","+Math.round(at+T)+",0,"+at+","+av+","+at,aq+=" L"+av+",0",aq+=ao+Math.round(av/2+W)+","+Math.round(V)+","+Math.round(av/2-W)+","+Math.round(-V)+","+av+",0,0,0"):(aq+="A"+U+","+T+",0,0,0,"+(av-av/2*(1-aj))+","+at+"L"+av+",0",aq+="A"+W+","+V+",0,0,1,0,0"),W=180),ax=ax.path(aq).attr(ap),ax.gradient("linearGradient",[ab,a.adjustLuminosity(ab,-0.3),a.adjustLuminosity(ab,-0.3),ab],W),S?ax.translate(ar/2,0):ax.translate(0,au/2)):ax=0===at?a.line(ax,[0,av],[0,0],am,an,ao,af):0===av?a.line(ax,[0,0],[0,at],am,an,ao,af):0<ah?a.rect(ax,av,at,ap,aq,ao,am,an,ah,ai,af):a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],ap,aq,ao,am,an,ai,!1,af);av=isNaN(aj)?0>at?[ag,s,ae,aa,X,Z,ac,ad,R,ax]:[ad,R,ae,aa,X,Z,ag,s,ac,ax]:S?0<av?[ag,ax,ad]:[ad,ax,ag]:0>at?[ag,ax,ad]:[ad,ax,ag];a.setCN(aw,ax,ak+"front");a.setCN(aw,ae,ak+"back");a.setCN(aw,ad,ak+"top");a.setCN(aw,ag,ak+"bottom");a.setCN(aw,X,ak+"left");a.setCN(aw,Z,ak+"right");for(ag=0;ag<av.length;ag++){if(ae=av[ag]){ay.push(ae),a.setCN(aw,ae,ak+"element")}}Y&&ax.pattern(Y,NaN,aw.path)},width:function(b){isNaN(b)&&(b=0);this.w=Math.round(b);this.draw()},height:function(b){isNaN(b)&&(b=0);this.h=Math.round(b);this.draw()},animateHeight:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rh=f.h;f.frame=0;f.height(1);setTimeout(function(){f.updateHeight.call(f)},1000/a.updateRate)},updateHeight:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rh-1,c),d.height(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateHeight.call(d)}):setTimeout(function(){d.updateHeight.call(d)},1000/a.updateRate)):(d.height(d.rh),d.animationFinished=!0)},animateWidth:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rw=f.w;f.frame=0;f.width(1);setTimeout(function(){f.updateWidth.call(f)},1000/a.updateRate)},updateWidth:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rw-1,c),d.width(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateWidth.call(d)}):setTimeout(function(){d.updateWidth.call(d)},1000/a.updateRate)):(d.width(d.rw),d.animationFinished=!0)}})})();(function(){var a=window.AmCharts;a.CategoryAxis=a.Class({inherits:a.AxisBase,construct:function(b){this.cname="CategoryAxis";a.CategoryAxis.base.construct.call(this,b);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.gridPosition="middle";this.safeDistance=30;this.stickBalloonToCategory=!1;a.applyTheme(this,b,this.cname)},draw:function(){a.CategoryAxis.base.draw.call(this);this.generateDFObject();var Z=this.chart.chartData;this.data=Z;this.labelRotationR=this.labelRotation;this.type=null;if(a.ifArray(Z)){var Y,X=this.chart;"scrollbar"!=this.id?(a.setCN(X,this.set,"category-axis"),a.setCN(X,this.labelsSet,"category-axis"),a.setCN(X,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var W=this.start,U=this.labelFrequency,T=0,V=this.end-W+1,R=this.gridCountR,S=this.showFirstLabel,Q=this.showLastLabel,O,P="",P=a.extractPeriod(this.minPeriod),z=a.getPeriodDuration(P.period,P.count),o,i,G,H,K,M=this.rotate,L=this.firstDayOfWeek,j=this.boldPeriodBeginning;Y=a.resetDateToMin(new Date(Z[Z.length-1].time+1.05*z),this.minPeriod,1,L).getTime();this.firstTime=X.firstTime;this.endTime>Y&&(this.endTime=Y);K=this.minorGridEnabled;i=this.gridAlpha;var f=0,J=0;if(this.widthField){for(Y=this.start;Y<=this.end;Y++){if(H=this.data[Y]){var s=Number(this.data[Y].dataContext[this.widthField]);isNaN(s)||(f+=s,H.widthValue=s)}}}if(this.parseDates&&!this.equalSpacing){this.lastTime=Z[Z.length-1].time,this.maxTime=a.resetDateToMin(new Date(this.lastTime+1.05*z),this.minPeriod,1,L).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw()}else{if(!this.parseDates){if(this.cellWidth=this.getStepWidth(V),V<R&&(R=V),T+=this.start,this.stepWidth=this.getStepWidth(V),0<R){for(L=Math.floor(V/R),H=this.chooseMinorFrequency(L),V=T,V/2==Math.round(V/2)&&V--,0>V&&(V=0),j=0,this.widthField&&(V=this.start),this.end-V+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),Y=V;Y<=this.end+2;Y++){R=!1;0<=Y&&Y<this.data.length?(o=this.data[Y],P=o.category,R=o.forceShow):P="";if(K&&!isNaN(H)){if(Y/H==Math.round(Y/H)||R){Y/L==Math.round(Y/L)||R||(this.gridAlpha=this.minorGridAlpha,P=void 0)}else{continue}}else{if(Y/L!=Math.round(Y/L)&&!R){continue}}V=this.getCoordinate(Y-T);R=0;"start"==this.gridPosition&&(V-=this.cellWidth/2,R=this.cellWidth/2);O=!0;G=R;"start"==this.tickPosition&&(G=0,O=!1,R=0);if(Y==W&&!S||Y==this.end&&!Q){P=void 0}Math.round(j/U)!=j/U&&(P=void 0);j++;Z=this.cellWidth;M&&(Z=NaN,this.ignoreAxisWidth||!X.autoMargins)&&(Z="right"==this.position?X.marginRight:X.marginLeft,Z-=this.tickLength+10);this.labelFunction&&o&&(P=this.labelFunction(P,o,this));P=a.fixBrakes(P);z=!1;this.boldLabels&&(z=!0);Y>this.end&&"start"==this.tickPosition&&(P=" ");this.rotate&&this.inside&&(R-=2);isNaN(o.widthValue)||(o.percentWidthValue=o.widthValue/f*100,Z=this.rotate?this.height*o.widthValue/f:this.width*o.widthValue/f,V=J,J+=Z,G=R=Z/2);O=new this.axisItemRenderer(this,V,P,O,Z,R,void 0,z,G,!1,o.labelColor,o.className);O.serialDataItem=o;this.pushAxisItem(O);this.gridAlpha=i}}}else{if(this.parseDates&&this.equalSpacing){T=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;Y=this.choosePeriod(0);U=Y.period;o=Y.count;Y=a.getPeriodDuration(U,o);Y<z&&(U=P.period,o=P.count,Y=z);i=U;"WW"==i&&(i="DD");this.currentDateFormat=this.dateFormatsObject[i];this.stepWidth=this.getStepWidth(V);R=Math.ceil(this.timeDifference/Y)+1;P=a.resetDateToMin(new Date(this.startTime-Y),U,o,L).getTime();this.cellWidth=this.getStepWidth(V);V=Math.round(P/Y);W=-1;V/2==Math.round(V/2)&&(W=-2,P-=Y);V=this.start;V/2==Math.round(V/2)&&V--;0>V&&(V=0);J=this.end+2;J>=this.data.length&&(J=this.data.length);Z=!1;Z=!S;this.previousPos=-1000;20<this.labelRotationR&&(this.safeDistance=5);s=V;if(this.data[V].time!=a.resetDateToMin(new Date(this.data[V].time),U,o,L).getTime()){var z=0,I=P;for(Y=V;Y<J;Y++){H=this.data[Y].time,this.checkPeriodChange(U,o,H,I)&&(z++,2<=z&&(s=Y,Y=J),I=H)}}K&&1<o&&(H=this.chooseMinorFrequency(o),a.getPeriodDuration(U,H));if(0<this.gridCountR){for(Y=V;Y<J;Y++){if(H=this.data[Y].time,this.checkPeriodChange(U,o,H,P)&&Y>=s){V=this.getCoordinate(Y-this.start);K=!1;this.nextPeriod[i]&&(K=this.checkPeriodChange(this.nextPeriod[i],1,H,P,i))&&a.resetDateToMin(new Date(H),this.nextPeriod[i],1,L).getTime()!=H&&(K=!1);z=!1;K&&this.markPeriodChange?(K=this.dateFormatsObject[this.nextPeriod[i]],z=!0):K=this.dateFormatsObject[i];P=a.formatDate(new Date(H),K,X);if(Y==W&&!S||Y==R&&!Q){P=" "}Z?Z=!1:(j||(z=!1),V-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(P=this.labelFunction(P,new Date(H),this,U,o,G)),this.boldLabels&&(z=!0),O=new this.axisItemRenderer(this,V,P,void 0,void 0,void 0,void 0,z),K=O.graphics(),this.pushAxisItem(O),K=K.getBBox().width,a.isModern||(K-=V),this.previousPos=V+K));G=P=H}}}}}}for(Y=S=0;Y<this.data.length;Y++){if(H=this.data[Y]){this.parseDates&&!this.equalSpacing?(Q=H.time,W=this.cellWidth,"MM"==this.minPeriod&&(W=86400000*a.daysInMonth(new Date(Q))*this.stepWidth,H.cellWidth=W),Q=Math.round((Q-this.startTime)*this.stepWidth+W/2)):Q=this.getCoordinate(Y-T),H.x[this.id]=Q}}if(this.widthField){for(Y=this.start;Y<=this.end;Y++){H=this.data[Y],W=H.widthValue,H.percentWidthValue=W/f*100,this.rotate?(Q=this.height*W/f/2+S,S=this.height*W/f+S):(Q=this.width*W/f/2+S,S=this.width*W/f+S),H.x[this.id]=Q}}f=this.guides.length;for(Y=0;Y<f;Y++){if(S=this.guides[Y],L=L=L=K=W=NaN,Q=S.above,S.toCategory&&(L=X.getCategoryIndexByValue(S.toCategory),isNaN(L)||(W=this.getCoordinate(L-T),S.expand&&(W+=this.cellWidth/2),O=new this.axisItemRenderer(this,W,"",!0,NaN,NaN,S),this.pushAxisItem(O,Q))),S.category&&(L=X.getCategoryIndexByValue(S.category),isNaN(L)||(K=this.getCoordinate(L-T),S.expand&&(K-=this.cellWidth/2),L=(W-K)/2,O=new this.axisItemRenderer(this,K,S.label,!0,NaN,L,S),this.pushAxisItem(O,Q))),j=X.dataDateFormat,S.toDate&&(!j||S.toDate instanceof Date||(S.toDate=S.toDate.toString()+" |"),S.toDate=a.getDate(S.toDate,j),this.equalSpacing?(L=X.getClosestIndex(this.data,"time",S.toDate.getTime(),!1,0,this.data.length-1),isNaN(L)||(W=this.getCoordinate(L-T))):W=(S.toDate.getTime()-this.startTime)*this.stepWidth,O=new this.axisItemRenderer(this,W,"",!0,NaN,NaN,S),this.pushAxisItem(O,Q)),S.date&&(!j||S.date instanceof Date||(S.date=S.date.toString()+" |"),S.date=a.getDate(S.date,j),this.equalSpacing?(L=X.getClosestIndex(this.data,"time",S.date.getTime(),!1,0,this.data.length-1),isNaN(L)||(K=this.getCoordinate(L-T))):K=(S.date.getTime()-this.startTime)*this.stepWidth,L=(W-K)/2,O=!0,S.toDate&&(O=!1),O="H"==this.orientation?new this.axisItemRenderer(this,K,S.label,O,2*L,NaN,S):new this.axisItemRenderer(this,K,S.label,!1,NaN,L,S),this.pushAxisItem(O,Q)),O&&(L=O.label)&&this.addEventListeners(L,S),0<W||0<K){L=!1;if(this.rotate){if(W<this.height||K<this.height){L=!0}}else{if(W<this.width||K<this.width){L=!0}}L&&(W=new this.guideFillRenderer(this,K,W,S),K=W.graphics(),this.pushAxisItem(W,Q),S.graphics=K,K.index=Y,this.addEventListeners(K,S))}}if(X=X.chartCursor){M?X.fixHeight(this.cellWidth):(X.fixWidth(this.cellWidth),X.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))}this.previousHeight=N}this.axisCreated=!0;this.set.translate(this.x,this.y);this.labelsSet.translate(this.x,this.y);this.labelsSet.show();this.positionTitle();(M=this.axisLine.set)&&M.toFront();var N=this.getBBox().height;2<N-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(j){var f=this.data,p=this.chart,o=p.rotate,m=this.stepWidth,k;if(this.parseDates&&!this.equalSpacing){j=this.startTime+Math.round(j/m)-this.minDuration()/2,k=p.getClosestIndex(f,"time",j,!1,this.start,this.end+1)}else{if(this.widthField){for(p=Infinity,m=this.start;m<=this.end;m++){var n=this.data[m];n&&(n=Math.abs(n.x[this.id]-j),n<p&&(p=n,k=m))}}else{this.startOnAxis||(j-=m/2),k=this.start+Math.round(j/m)}}k=a.fitToBounds(k,0,f.length-1);var i;f[k]&&(i=f[k].x[this.id]);o?i>this.height+1&&k--:i>this.width+1&&k--;0>i&&k++;return k=a.fitToBounds(k,0,f.length-1)},dateToCoordinate:function(b){return this.parseDates&&!this.equalSpacing?(b.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(b=this.chart.getClosestIndex(this.data,"time",b.getTime(),!1,0,this.data.length-1),this.getCoordinate(b-this.start)):NaN},categoryToCoordinate:function(b){if(this.chart){if(this.parseDates){return this.dateToCoordinate(new Date(b))}b=this.chart.getCategoryIndexByValue(b);if(!isNaN(b)){return this.getCoordinate(b-this.start)}}else{return NaN}},coordinateToDate:function(b){return this.equalSpacing?(b=this.xToIndex(b),new Date(this.data[b].time)):new Date(this.startTime+b/this.stepWidth)},coordinateToValue:function(b){b=this.xToIndex(b);if(b=this.data[b]){return this.parseDates?b.time:b.category}},getCoordinate:function(b){b*=this.stepWidth;this.startOnAxis||(b+=this.stepWidth/2);return Math.round(b)},formatValue:function(d,c){c||(c=this.currentDateFormat);this.parseDates&&(d=a.formatDate(new Date(d),c,this.chart));return d},showBalloonAt:function(d,c){void 0===c&&(c=this.parseDates?this.dateToCoordinate(new Date(d)):this.categoryToCoordinate(d));return this.adjustBalloonCoordinate(c)},formatBalloonText:function(j,f,p){var o="",m="",k=this.chart,n=this.data[f];if(n){if(this.parseDates){o=a.formatDate(n.category,p,k),f=a.changeDate(new Date(n.category),this.minPeriod,1),m=a.formatDate(f,p,k),-1!=o.indexOf("fff")&&(o=a.formatMilliseconds(o,n.category),m=a.formatMilliseconds(m,f))}else{var i;this.data[f+1]&&(i=this.data[f+1]);o=a.fixNewLines(n.category);i&&(m=a.fixNewLines(i.category))}}j=j.replace(/\[\[category\]\]/g,String(o));return j=j.replace(/\[\[toCategory\]\]/g,String(m))},adjustBalloonCoordinate:function(j,g){var p=this.xToIndex(j),o=this.chart.chartCursor;if(this.stickBalloonToCategory){var m=this.data[p];m&&(j=m.x[this.id]+1);this.stickBalloonToStart&&(j-=this.cellWidth/2);var k=0;if(o){var n=o.limitToGraph;if(n){var i=n.valueAxis.id;n.hidden||(k=m.axes[i].graphs[n.id].y)}this.rotate?("left"==this.position?(n&&(k-=o.width),0<k&&(k=0)):0>k&&(k=0),o.fixHLine(j,k)):("top"==this.position?(n&&(k-=o.height),0<k&&(k=0)):0>k&&(k=0),o.fixVLine(j,k))}}o&&!g&&(o.setIndex(p),this.parseDates&&o.setTimestamp(this.coordinateToDate(j).getTime()));return j}})})();