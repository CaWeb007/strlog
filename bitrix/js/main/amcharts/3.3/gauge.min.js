AmCharts.GaugeAxis=AmCharts.Class({construct:function(b){this.radius="95%";this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.valueInterval=20;this.minorTickInterval=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=15;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topText="";this.topTextYOffset=0;this.topTextBold=!0;this.bottomText="";this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;AmCharts.applyTheme(this,b,"GaugeAxis")},value2angle:function(b){return this.startAngle+this.singleValueAngle*b},setTopText:function(f){this.topText=f;var e=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var g=this.topTextFontSize;g||(g=e.fontSize);var h=this.topTextColor;h||(h=e.color);e=this.chart;f=AmCharts.text(e.container,f,h,e.fontFamily,g,void 0,this.topTextBold);f.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.chart.graphsSet.push(f);this.topTF=f}},setBottomText:function(f){this.bottomText=f;var e=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var g=this.bottomTextFontSize;g||(g=e.fontSize);var h=this.bottomTextColor;h||(h=e.color);e=this.chart;f=AmCharts.text(e.container,f,h,e.fontFamily,g,void 0,this.bottomTextBold);f.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=f;this.chart.graphsSet.push(f)}},draw:function(){var ah=this.chart,ag=ah.graphsSet,ae=this.startValue,af=this.valueInterval,X=this.startAngle,ab=this.endAngle,aa=this.tickLength,Z=(this.endValue-ae)/af+1,ac=(ab-X)/(Z-1),W=ac/af;this.singleValueAngle=W;var ad=ah.container,V=this.tickColor,L=this.tickAlpha,T=this.tickThickness,R=af/this.minorTickInterval,P=ac/R,N=this.minorTickLength,K=this.labelFrequency,S=this.radiusReal;this.inside||(S-=15);var H=ah.centerX+AmCharts.toCoordinate(this.centerX,ah.realWidth),o=ah.centerY+AmCharts.toCoordinate(this.centerY,ah.realHeight);this.centerXReal=H;this.centerYReal=o;var J={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},Y,i;this.gridInside?i=Y=S:(Y=S-aa,i=Y+N);var Q=this.axisThickness/2,ab=AmCharts.wedge(ad,H,o,X,ab-X,Y+Q,Y+Q,Y-Q,0,J);ag.push(ab);ab=AmCharts.doNothing;AmCharts.isModern||(ab=Math.round);J=AmCharts.getDecimals(af);for(Y=0;Y<Z;Y++){var O=ae+Y*af,Q=X+Y*ac,I=ab(H+S*Math.sin(Q/180*Math.PI)),M=ab(o-S*Math.cos(Q/180*Math.PI)),U=ab(H+(S-aa)*Math.sin(Q/180*Math.PI)),j=ab(o-(S-aa)*Math.cos(Q/180*Math.PI)),I=AmCharts.line(ad,[I,U],[M,j],V,L,T,0,!1,!1,!0);ag.push(I);M=this.labelOffset;this.inside||(M=-M-aa);I=H+(S-aa-M)*Math.sin(Q/180*Math.PI);M=o-(S-aa-M)*Math.cos(Q/180*Math.PI);U=this.fontSize;isNaN(U)&&(U=ah.fontSize);0<K&&Y/K==Math.round(Y/K)&&(this.showLastLabel||Y!=Z-1)&&(this.showFirstLabel||0!==Y)&&(O=AmCharts.formatNumber(O,ah.numberFormatter,J),O=AmCharts.text(ad,O,ah.color,ah.fontFamily,U),O.translate(I,M),ag.push(O));if(Y<Z-1){for(O=1;O<R;O++){j=Q+P*O,I=ab(H+i*Math.sin(j/180*Math.PI)),M=ab(o-i*Math.cos(j/180*Math.PI)),U=ab(H+(i-N)*Math.sin(j/180*Math.PI)),j=ab(o-(i-N)*Math.cos(j/180*Math.PI)),I=AmCharts.line(ad,[I,U],[M,j],V,L,T,0,!1,!1,!0),ag.push(I)}}}if(ag=this.bands){for(ae=0;ae<ag.length;ae++){if(af=ag[ae]){V=af.startValue,L=af.endValue,aa=AmCharts.toCoordinate(af.radius,S),isNaN(aa)&&(aa=i),Z=AmCharts.toCoordinate(af.innerRadius,S),isNaN(Z)&&(Z=aa-N),ac=X+W*V,L=W*(L-V),T=af.outlineColor,void 0==T&&(T=this.bandOutlineColor),R=af.outlineThickness,isNaN(R)&&(R=this.bandOutlineThickness),P=af.outlineAlpha,isNaN(P)&&(P=this.bandOutlineAlpha),V=af.alpha,isNaN(V)&&(V=this.bandAlpha),af=AmCharts.wedge(ad,H,o,ac,L,aa,aa,Z,0,{fill:af.color,stroke:T,"stroke-width":R,"stroke-opacity":P}),af.setAttr("opacity",V),ah.gridSet.push(af)}}}this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);ah=ah.graphsSet.getBBox();this.width=ah.width;this.height=ah.height}});AmCharts.GaugeArrow=AmCharts.Class({construct:function(b){this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;AmCharts.applyTheme(this,b,"GaugeArrow")},setValue:function(d){var c=this.chart;c?c.setValue(this,d):this.previousValue=this.value=d}});AmCharts.GaugeBand=AmCharts.Class({construct:function(){}});AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(b){this.theme=b;this.chartType="gauge";AmCharts.AmAngularGauge.base.construct.call(this,b);this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect=">";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;this.clockWiseOnly=!1;AmCharts.applyTheme(this,b,"AmAngularGauge")},addAxis:function(b){this.axes.push(b)},formatString:function(d,c){return d=AmCharts.formatValue(d,c,["value"],this.numberFormatter,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);var f;0===this.axes.length&&(f=new AmCharts.GaugeAxis(this.theme),this.addAxis(f));var e;for(e=0;e<this.axes.length;e++){f=this.axes[e],f=AmCharts.processObject(f,AmCharts.GaugeAxis,this.theme),f.chart=this,this.axes[e]=f}var g=this.arrows;for(e=0;e<g.length;e++){f=g[e];f=AmCharts.processObject(f,AmCharts.GaugeArrow,this.theme);f.chart=this;g[e]=f;var h=f.axis;AmCharts.isString(h)&&(f.axis=AmCharts.getObjById(this.axes,h));f.axis||(f.axis=this.axes[0]);isNaN(f.value)&&f.setValue(f.axis.startValue);isNaN(f.previousValue)&&(f.previousValue=f.axis.startValue)}this.setLegendData(g);this.drawChart();this.totalFrames=1000*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var v=this.container,u=this.updateWidth();this.realWidth=u;var s=this.updateHeight();this.realHeight=s;var t=AmCharts.toCoordinate,j=t(this.marginLeft,u),p=t(this.marginRight,u),o=t(this.marginTop,s)+this.getTitleHeight(),l=t(this.marginBottom,s),q=t(this.radius,u,s),t=u-j-p,i=s-o-l+this.extraHeight;q||(q=Math.min(t,i)/2);q<this.minRadius&&(q=this.minRadius);this.radiusReal=q;this.centerX=(u-j-p)/2+j;this.centerY=(s-o-l)/2+o+this.extraHeight/2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var u=this.faceAlpha,s=this.faceBorderAlpha,r;if(0<u||0<s){r=AmCharts.circle(v,q,this.faceColor,u,this.faceBorderWidth,this.faceBorderColor,s,!1),r.translate(this.centerX,this.centerY),r.toBack()}for(u=q=v=0;u<this.axes.length;u++){s=this.axes[u],s.radiusReal=AmCharts.toCoordinate(s.radius,this.radiusReal),s.draw(),s.width>v&&(v=s.width),s.height>q&&(q=s.height)}(u=this.legend)&&u.invalidateSize();if(this.adjustSize&&!this.chartCreated){r&&(r=r.getBBox(),r.width>v&&(v=r.width),r.height>q&&(q=r.height));r=0;if(i>q||t>v){r=Math.min(i-q,t-v)}0<r&&(this.extraHeight=i-q,this.chartCreated=!0,this.validateNow())}this.dispDUpd();this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=!1;AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(b){this.arrows.push(b)},removeArrow:function(b){AmCharts.removeFromArray(this.arrows,b);this.validateNow()},removeAxis:function(b){AmCharts.removeFromArray(this.axes,b);this.validateNow()},drawArrow:function(y,x){y.set&&y.set.remove();var v=this.container;y.set=v.set();if(!y.hidden){var w=y.axis,l=w.radiusReal,r=w.centerXReal,q=w.centerYReal,o=y.startWidth,s=AmCharts.toCoordinate(y.innerRadius,w.radiusReal),j=AmCharts.toCoordinate(y.radius,w.radiusReal);w.inside||(j-=15);var t=y.nailColor;t||(t=y.color);var i=y.nailColor;i||(i=y.color);t=AmCharts.circle(v,y.nailRadius,t,y.nailAlpha,y.nailBorderThickness,t,y.nailBorderAlpha);y.set.push(t);t.translate(r,q);isNaN(j)&&(j=l-w.tickLength);var w=Math.sin(x/180*Math.PI),l=Math.cos(x/180*Math.PI),t=Math.sin((x+90)/180*Math.PI),z=Math.cos((x+90)/180*Math.PI),v=AmCharts.polygon(v,[r-o/2*t+s*w,r+j*w,r+o/2*t+s*w],[q+o/2*z-s*l,q-j*l,q-o/2*z-s*l],y.color,y.alpha,1,i,y.borderAlpha,void 0,!0);y.set.push(v);this.graphsSet.push(y.set)}},setValue:function(e,c){e.axis&&(e.axis.value2angle(c),e.frame=0,e.previousValue=e.value);e.value=c;var f=this.legend;f&&f.updateValues()},handleLegendEvent:function(d){var c=d.type;d=d.dataItem;if(!this.legend.data&&d){switch(c){case"hideItem":this.hideArrow(d);break;case"showItem":this.showArrow(d)}}},hideArrow:function(b){b.set.hide();b.hidden=!0},showArrow:function(b){b.set.show();b.hidden=!1},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var f=this.arrows.length,e,g=0;g<f;g++){e=this.arrows[g];var h;e.frame>=this.totalFrames?h=e.value:(e.frame++,e.clockWiseOnly&&e.value<e.previousValue&&(h=e.axis,e.previousValue-=h.endValue-h.startValue),h=AmCharts.getEffect(this.startEffect),h=AmCharts[h](0,e.frame,e.previousValue,e.value-e.previousValue,this.totalFrames),isNaN(h)&&(h=e.value));h=e.axis.value2angle(h);this.drawArrow(e,h)}}});