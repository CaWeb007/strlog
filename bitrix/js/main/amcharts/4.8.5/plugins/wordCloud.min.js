am4internal_webpackJsonp(["4859"],{"6JTK":function(N,z,J){Object.defineProperty(z,"__esModule",{value:!0});var D={};J.d(D,"WordCloudDataItem",function(){return S}),J.d(D,"WordCloud",function(){return B}),J.d(D,"WordCloudSeriesDataItem",function(){return q}),J.d(D,"WordCloudSeries",function(){return k});var R=J("m4/l"),G=J("2I/e"),A=J("aM7D"),F=J("Vs7R"),I=J("C6dT"),w=J("p9TX"),K=J("vMqJ"),E=J("8ZqG"),P=J("aCit"),O=J("hGwe"),H=J("v9UT"),M=J("Gg2j"),L=J("58Sn"),j=J("tjMS"),Q=J("hD5A"),q=function(b){function a(){var c=b.call(this)||this;return c.className="WordCloudSeriesDataItem",c.applyTheme(),c}return Object(R.c)(a,b),a.prototype.hide=function(e,d,f,c){return c||(c=["value"]),b.prototype.hide.call(this,e,d,0,c)},a.prototype.setVisibility=function(d,c){c||(d?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),b.prototype.setVisibility.call(this,d,c)},a.prototype.show=function(d,c,e){return e||(e=["value"]),b.prototype.show.call(this,d,c,e)},Object.defineProperty(a.prototype,"word",{get:function(){return this.properties.word},set:function(c){this.setProperty("word",c)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"label",{get:function(){var d=this;if(!this._label){var c=this.component.labels.create();this._label=c,this._disposers.push(c),c.parent=this.component.labelsContainer,c.isMeasured=!1,c.x=Object(j.c)(50),c.y=Object(j.c)(50),c.fontSize=0,this.component.colors&&(c.fill=this.component.colors.next()),this._disposers.push(new Q.b(function(){d.component&&d.component.labels.removeValue(c)})),this.addSprite(c),c.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),a}(A.b),k=function(b){function a(){var d=b.call(this)||this;d._adjustedFont=1,d.className="WordCloudSeries",d.accuracy=5,d.isMeasured=!0,d.minFontSize=Object(j.c)(2),d.maxFontSize=Object(j.c)(20),d.excludeWords=[],d.layout="absolute",d.angles=[0,0,90],d.rotationThreshold=0.7,d.minWordLength=1,d.width=Object(j.c)(100),d.height=Object(j.c)(100),d.step=15,d.randomness=0.2,d.labels.template.horizontalCenter="middle",d.labels.template.verticalCenter="middle",d.itemReaderText="{word}: {value}",d.applyTheme();var c=document.createElement("canvas");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.opacity="0.5",d._canvas=c,d._ctx=c.getContext("2d"),d._maskSprite=d.createChild(F.a);var e=d.createChild(I.a);return e.shouldClone=!1,e.isMeasured=!1,e.layout="none",d.labelsContainer=e,d._spiral=e.createChild(F.a),d._spiral.fillOpacity=0.1,d._spiral.strokeOpacity=1,d._spiral.stroke=Object(E.c)("#000"),d}return Object(R.c)(a,b),a.prototype.validateDataRange=function(){b.prototype.validateDataRange.call(this),this.dataItems.each(function(c){H.used(c.label)})},a.prototype.validate=function(){b.prototype.validate.call(this),this._currentIndex=0,this.dataItems.values.sort(function(g,c){return g.value==c.value?0:g.value>c.value?-1:1}),this._processTimeout&&this._processTimeout.dispose();var W=this.innerWidth,x=this.innerHeight;if(W>0&&x>0){var d=this._ctx;this._canvas.width=W,this._canvas.height=x,d.fillStyle="white",d.fillRect(0,0,W,x),this._points=O.spiralPoints(0,0,W,x,0,this.step,this.step);for(var U=this.labelsContainer.rotation,m=this._points.length-1;m>=0;m--){var X=this._points[m];if(X.x<-W/2||X.x>W/2||X.y<-x/2||X.y>x/2){this._points.splice(m,1)}else{if(0!=U){var f=H.spritePointToSprite({x:X.x+W/2,y:X.y+x/2},this,this.labelsContainer);X.x=f.x,X.y=f.y}}}var v=this._maskSprite;if(v.path){var V=this.maxWidth,y=this.maxHeight;v.isMeasured=!0,v.validate();var e=v.measuredWidth/v.scale,T=v.measuredHeight/v.scale,C=M.min(y/T,V/e);C==1/0&&(C=1),v.horizontalCenter="none",v.verticalCenter="none",v.x=0,v.y=0,v.scale=1,C=M.max(0.001,C),v.horizontalCenter="middle",v.verticalCenter="middle",v.x=W/2,v.y=x/2,v.validatePosition(),this.mask=v,v.scale=C}this.events.isEnabled("arrangestarted")&&this.dispatchImmediately("arrangestarted"),this.processItem(this.dataItems.getIndex(this._currentIndex))}},a.prototype.processItem=function(az){var an=this;if(az){var ax=this._ctx,ap=this.innerWidth,aD=this.innerHeight;if(L.u(this.htmlContainer)){return this._processTimeout=this.setTimeout(function(){an._currentIndex++,an.processItem(an.dataItems.getIndex(an._currentIndex))},500),void this._disposers.push(this._processTimeout)}this.labelsContainer.x=ap/2,this.labelsContainer.y=aD/2;var at=az.label,ao=L.l(at.element.node),ar=M.min(this.innerHeight,this.innerWidth),au=H.relativeToValue(this.minFontSize,ar),am=H.relativeToValue(this.maxFontSize,ar),ay=this.dataItem.values.value.low,aq=this.dataItem.values.value.high,aB=(az.value-ay)/(aq-ay);if(ay==aq){aB=this.dataItems.length>1?1/this.dataItems.length*1.5:1}var aA=au+(am-au)*aB*this._adjustedFont,ai=at.fontSize;at.fontSize=aA;var aC=0;if((aA-au)/(am-au)<this.rotationThreshold&&(aC=this.angles[Math.round(Math.random()*(this.angles.length-1))]),at.fontSize=aA,at.rotation=aC,at.show(0),at.hardInvalidate(),at.validate(),at.measuredWidth>0.95*ap||at.measuredHeight>0.95*aD){return this._adjustedFont-=0.1,this.invalidateDataItems(),void this.invalidate()}var al=at.maxLeft,aj=at.maxRight,aE=at.maxTop,ag=at.maxBottom,Y=!0,ac=Math.round(Math.random()*this._points.length*this.randomness),ak=at.pixelX,g=at.pixelY,f=0,aw=0;if(H.used(this.labelsContainer.rotation),this._currentIndex>0){for(;Y;){if(ac>this._points.length-1){return Y=!1,this._adjustedFont-=0.1,void this.invalidateDataItems()}Y=!1,f=this._points[ac].x,aw=this._points[ac].y;for(var Z=at.pixelMarginLeft,U=at.pixelMarginRight,m=at.pixelMarginTop,af={x:f+al-Z,y:aw+aE-m,width:aj-al+Z+U,height:ag-aE+m+at.pixelMarginBottom},ah=this._ctx.getImageData(af.x+ap/2,af.y+aD/2,af.width,af.height).data,aa=0;aa<ah.length;aa+=Math.pow(2,this.accuracy)){if(255!=ah[aa]){Y=!0,at.currentText.length>3&&(0==aC&&aj-al<60&&this._points.splice(ac,1),90==Math.abs(aC)&&ag-aE<50&&this._points.splice(ac,1));break}}ac+=5}}0==ai?(at.animate([{property:"fontSize",to:aA,from:ai}],this.interpolationDuration,this.interpolationEasing),at.x=f,at.y=aw):at.animate([{property:"fontSize",to:aA,from:ai},{property:"x",to:f,from:ak},{property:"y",to:aw,from:g}],this.interpolationDuration,this.interpolationEasing);var ad=f+ap/2,ab=aw+aD/2;ax.translate(ad,ab);var av=at.rotation*Math.PI/180;ax.rotate(av),ax.textAlign="center",ax.textBaseline="middle",ax.fillStyle="blue";var X=(at.fontWeight||this.fontWeight||this.chart.fontWeight||"normal")+" "+aA+"px "+ao;if(ax.font=X,ax.fillText(at.currentText,0,0),ax.rotate(-av),ax.translate(-ad,-ab),at.showOnInit&&(at.hide(0),at.show()),this.events.isEnabled("arrangeprogress")){var ae={type:"arrangeprogress",target:this,progress:(this._currentIndex+1)/this.dataItems.length};this.events.dispatchImmediately("arrangeprogress",ae)}this._currentIndex<this.dataItems.length-1?(this._processTimeout=this.setTimeout(function(){an._currentIndex++,an.processItem(an.dataItems.getIndex(an._currentIndex))},1),this._disposers.push(this._processTimeout)):this.events.isEnabled("arrangeended")&&this.dispatchImmediately("arrangeended")}},a.prototype.createLabel=function(){return new w.a},Object.defineProperty(a.prototype,"labels",{get:function(){if(!this._labels){var c=this.createLabel();c.applyOnClones=!0,this._disposers.push(c),c.text="{word}",c.margin(2,3,2,3),c.padding(0,0,0,0),this._labels=new K.e(c),this._disposers.push(new K.c(this._labels))}return this._labels},enumerable:!0,configurable:!0}),a.prototype.createDataItem=function(){return new q},Object.defineProperty(a.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(c){this.setPropertyValue("colors",c,!0)},enumerable:!0,configurable:!0}),a.prototype.updateData=function(){this.data=this.getWords(this.text)},Object.defineProperty(a.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(c){this.setPropertyValue("text",c)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(c){this.setPropertyValue("maxCount",c)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(c){this.setPropertyValue("minValue",c)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"excludeWords",{get:function(){return this.getPropertyValue("excludeWords")},set:function(c){this.setPropertyValue("excludeWords",c)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"maxFontSize",{get:function(){return this.getPropertyValue("maxFontSize")},set:function(c){this.setPropertyValue("maxFontSize",c,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"minFontSize",{get:function(){return this.getPropertyValue("minFontSize")},set:function(c){this.setPropertyValue("minFontSize",c,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"randomness",{get:function(){return this.getPropertyValue("randomness")},set:function(c){this.setPropertyValue("randomness",c,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(c){this.setPropertyValue("step",c,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"accuracy",{get:function(){return this.getPropertyValue("accuracy")},set:function(c){this.setPropertyValue("accuracy",c,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"minWordLength",{get:function(){return this.getPropertyValue("minWordLength")},set:function(c){this.setPropertyValue("minWordLength",c)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotationThreshold",{get:function(){return this.getPropertyValue("rotationThreshold")},set:function(c){this.setPropertyValue("rotationThreshold",c,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"angles",{get:function(){return this.getPropertyValue("angles")},set:function(c){this.setPropertyValue("angles",c,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),a.prototype.copyFrom=function(c){b.prototype.copyFrom.call(this,c),this.labels.template.copyFrom(c.labels.template)},a.prototype.getWords=function(m){if(m){this.dataFields.word="word",this.dataFields.value="value";var x="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶ-ͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԣԱ-Ֆՙա-ևא-תװ-ײء-يٮ-ٯٱ-ۓەۥ-ۦۮ-ۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴ-ߵߺऄ-हऽॐक़-ॡॱ-ॲॻ-ॿঅ-ঌএ-ঐও-নপ-রলশ-হঽৎড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽૐૠ-ૡଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽଡ଼-ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘ-ౙౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹഽൠ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะา-ำเ-ๆກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆໜ-ໝༀཀ-ཇཉ-ཬྈ-ྋက-ဪဿၐ-ၕၚ-ၝၡၥ-ၦၮ-ၰၵ-ႁႎႠ-Ⴥა-ჺჼᄀ-ᅙᅟ-ᆢᆨ-ᇹሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙶᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦩᧁ-ᧇᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮ-ᮯᰀ-ᰣᱍ-ᱏᱚ-ᱽᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₔℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-Ɐⱱ-ⱽⲀ-ⳤⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆷㇰ-ㇿ㐀䶵一鿃ꀀ-ꒌꔀ-ꘌꘐ-ꘟꘪ-ꘫꙀ-ꙟꙢ-ꙮꙿ-ꚗꜗ-ꜟꜢ-ꞈꞋ-ꞌꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꤊ-ꤥꤰ-ꥆꨀ-ꨨꩀ-ꩂꩄ-ꩋ가-힣豈-鶴侮-頻並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9@+",h=new RegExp("(["+x+"]+[-"+x+"]*["+x+"]+)|(["+x+"]+)","ig"),c=m.match(h);if(!c){return[]}for(var p=[],f=void 0;f=c.pop();){for(var y=void 0,d=0;d<p.length;d++){if(p[d].word.toLowerCase()==f.toLowerCase()){y=p[d];break}}y?(y.value++,this.isCapitalized(f)||(y.word=f)):p.push({word:f,value:1})}var g=this.excludeWords;if(this.minValue>1||this.minWordLength>1||g&&g.length>0){for(d=p.length-1;d>=0;d--){var v=p[d];v.value<this.minValue&&p.splice(d,1),v.word.length<this.minWordLength&&p.splice(d,1),-1!==g.indexOf(v.word)&&p.splice(d,1)}}return p.sort(function(l,i){return l.value==i.value?0:l.value>i.value?-1:1}),p.length>this.maxCount&&(p=p.slice(0,this.maxCount)),p}},a.prototype.isCapitalized=function(d){var c=d.toLowerCase();return d[0]!=c[0]&&d.substr(1)==c.substr(1)&&d!=c},a}(A.a);P.c.registeredClasses.WordCloudSeries=k,P.c.registeredClasses.WordCloudSeriesDataItem=q;var S=function(b){function a(){var c=b.call(this)||this;return c.className="WordCloudDataItem",c.applyTheme(),c}return Object(R.c)(a,b),a}(G.b),B=function(b){function a(){var c=b.call(this)||this;return c.className="WordCloud",c.seriesContainer.isMeasured=!0,c.seriesContainer.layout="absolute",c._usesData=!0,c.applyTheme(),c}return Object(R.c)(a,b),a.prototype.createSeries=function(){return new k},a}(G.a);P.c.registeredClasses.WordCloud=B,P.c.registeredClasses.WordCloudDataItem=S,window.am4plugins_wordCloud=D}},["6JTK"]);