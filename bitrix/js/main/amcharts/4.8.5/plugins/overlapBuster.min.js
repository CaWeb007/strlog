am4internal_webpackJsonp(["a953"],{"3na+":function(y,q,k){Object.defineProperty(q,"__esModule",{value:!0});var b={};k.d(b,"OverlapBuster",function(){return m});var w=k("m4/l"),g=k("Iz1H"),z=k("vMqJ"),f=k("hJ5i"),j=k("1DgP"),x=k("+qIf"),v=k("hD5A"),d=k("aCit"),m=function(a){function c(){var h=a.call(this)||this;return h.revealRatio=0.7,h.collapseDelay=500,h.tolerance=2,h.d3forceSimulation=j.d(),h._shiftedTargets=new x.a,h._disposers.push(new v.b(function(){return h._shiftedTargets})),h._targets=new z.b,h._disposers.push(new v.b(function(){return h.targets})),h._targets.events.on("inserted",function(e){h._disposers.push(new v.c([e.newValue.events.on("over",h.handleHover,h),e.newValue.events.on("out",h.handleOut,h)])),e.newValue.isTemplate&&h._disposers.push(e.newValue.events.once("ready",h.register,h))}),h}return Object(w.c)(c,a),c.prototype.init=function(){a.prototype.init.call(this)},Object.defineProperty(c.prototype,"targets",{get:function(){return this._targets},enumerable:!0,configurable:!0}),c.prototype.handleHover=function(l){var o=this,h=l.target;if(this._centerTarget){if(this._centerTarget===h){return void this.cancelCollapse()}if(this._shiftedTargets.hasKey(h.uid)){return void this.cancelCollapse()}this.collapseCurrent()}if(this.d3forceSimulation){var n=[];this._nodes=n,this._targets.each(function(i){if(o.hitTest(h,i)){var e=i.pixelX,p=i.pixelY;n.push({radius:Math.max(i.measuredWidth,i.measuredHeight)/2*o.revealRatio,target:i,x:e,y:p,ox:e,oy:p}),o._shiftedTargets.setKey(i.uid,{target:i,originalX:i.dx,originalY:i.dy}),o.stopAnimation(i)}}),this.d3forceSimulation=j.d(n).force("collision",j.a().radius(function(e){return e.radius})).on("tick",function(){f.each(n,function(e){e.target.dx=e.x-e.ox,e.target.dy=e.y-e.oy})})}this._centerTarget=h},c.prototype.handleOut=function(h){var i=this;this.cancelCollapse(),this._collapseTimeout=this.target.setTimeout(function(){i.collapseCurrent()},this.collapseDelay+10)},c.prototype.stopAnimation=function(h){if(h.isInTransition()){for(var i=h.animations.pop();i;){i.kill(),i=h.animations.pop()}}},c.prototype.collapseCurrent=function(){var e=this;this.d3forceSimulation.force("collision",null),this.d3forceSimulation.stop(),f.each(this._nodes,function(h){h.target.animate([{property:"dx",to:0},{property:"dy",to:0}],e.target.defaultState.transitionDuration)}),this._centerTarget=void 0,this._shiftedTargets.clear()},c.prototype.cancelCollapse=function(){this._collapseTimeout&&this._collapseTimeout.dispose()},c.prototype.register=function(e){-1==this._targets.indexOf(e.target)&&this._targets.push(e.target)},c.prototype.hitTest=function(G,D){G.invalid&&G.validate(),G.invalid&&G.validate();var C=G.pixelX,h=G.pixelY,E=C+G.measuredWidth*this.tolerance,A=h+G.measuredHeight*this.tolerance,H=D.pixelX,p=D.pixelY,B=H+D.measuredWidth*this.tolerance,F=p+D.measuredHeight*this.tolerance;return !(H>E||B<C||p>A||F<h)},c}(g.a);d.c.registeredClasses.OverlapBuster=m,window.am4plugins_overlapBuster=b}},["3na+"]);