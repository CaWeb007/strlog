am4internal_webpackJsonp(["6b72"],{"1NAr":function(d,f,g){var c,h,b;!function(a,i){h=[d],void 0===(b="function"==typeof(c=i)?c.apply(f,h):c)||(d.exports=b)}(0,function(l){var m=Object.assign||function(n){for(var q=1;q<arguments.length;q++){var s=arguments[q];for(var a in s){Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}}return n};var o={order:2,precision:2,period:null};function k(u,v){var w=[],s=[];u.forEach(function(a,e){null!==a[1]&&(s.push(a),w.push(v[e]))});var x=s.reduce(function(a,e){return a+e[1]},0)/s.length,q=s.reduce(function(a,i){var n=i[1]-x;return a+n*n},0);return 1-s.reduce(function(z,A,y){var B=w[y],e=A[1]-B[1];return z+e*e},0)/q}function p(a,i){var n=Math.pow(10,i);return Math.round(a*n)/n}var j={linear:function(B,i){for(var x=[0,0,0,0,0],z=0,q=0;q<B.length;q++){null!==B[q][1]&&(z++,x[0]+=B[q][0],x[1]+=B[q][1],x[2]+=B[q][0]*B[q][0],x[3]+=B[q][0]*B[q][1],x[4]+=B[q][1]*B[q][1])}var C=z*x[2]-x[0]*x[0],A=z*x[3]-x[0]*x[1],n=0===C?0:p(A/C,i.precision),y=p(x[1]/z-n*x[0]/z,i.precision),v=function(a){return[p(a,i.precision),p(n*a+y,i.precision)]},w=B.map(function(a){return v(a[0])});return{points:w,predict:v,equation:[n,y],r2:p(k(B,w),i.precision),string:0===y?"y = "+n+"x":"y = "+n+"x + "+y}},exponential:function(B,i){for(var x=[0,0,0,0,0,0],z=0;z<B.length;z++){null!==B[z][1]&&(x[0]+=B[z][0],x[1]+=B[z][1],x[2]+=B[z][0]*B[z][0]*B[z][1],x[3]+=B[z][1]*Math.log(B[z][1]),x[4]+=B[z][0]*B[z][1]*Math.log(B[z][1]),x[5]+=B[z][0]*B[z][1])}var q=x[1]*x[2]-x[5]*x[5],C=Math.exp((x[2]*x[3]-x[5]*x[4])/q),A=(x[1]*x[4]-x[5]*x[3])/q,n=p(C,i.precision),y=p(A,i.precision),v=function(a){return[p(a,i.precision),p(n*Math.exp(y*a),i.precision)]},w=B.map(function(a){return v(a[0])});return{points:w,predict:v,equation:[n,y],string:"y = "+n+"e^("+y+"x)",r2:p(k(B,w),i.precision)}},logarithmic:function(z,i){for(var v=[0,0,0,0],x=z.length,q=0;q<x;q++){null!==z[q][1]&&(v[0]+=Math.log(z[q][0]),v[1]+=z[q][1]*Math.log(z[q][0]),v[2]+=z[q][1],v[3]+=Math.pow(Math.log(z[q][0]),2))}var A=p((x*v[1]-v[2]*v[0])/(x*v[3]-v[0]*v[0]),i.precision),y=p((v[2]-A*v[0])/x,i.precision),n=function(a){return[p(a,i.precision),p(p(y+A*Math.log(a),i.precision),i.precision)]},w=z.map(function(a){return n(a[0])});return{points:w,predict:n,equation:[y,A],string:"y = "+y+" + "+A+" ln(x)",r2:p(k(z,w),i.precision)}},power:function(B,i){for(var x=[0,0,0,0,0],z=B.length,q=0;q<z;q++){null!==B[q][1]&&(x[0]+=Math.log(B[q][0]),x[1]+=Math.log(B[q][1])*Math.log(B[q][0]),x[2]+=Math.log(B[q][1]),x[3]+=Math.pow(Math.log(B[q][0]),2))}var C=(z*x[1]-x[0]*x[2])/(z*x[3]-Math.pow(x[0],2)),A=(x[2]-C*x[0])/z,n=p(Math.exp(A),i.precision),y=p(C,i.precision),v=function(a){return[p(a,i.precision),p(p(n*Math.pow(a,y),i.precision),i.precision)]},w=B.map(function(a){return v(a[0])});return{points:w,predict:v,equation:[n,y],string:"y = "+n+"x^"+y,r2:p(k(B,w),i.precision)}},polynomial:function(w,z){for(var H=[],K=[],B=0,x=0,q=w.length,A=z.order+1,J=0;J<A;J++){for(var D=0;D<q;D++){null!==w[D][1]&&(B+=Math.pow(w[D][0],J)*w[D][1])}H.push(B),B=0;for(var E=[],G=0;G<A;G++){for(var I=0;I<q;I++){null!==w[I][1]&&(x+=Math.pow(w[I][0],J+G))}E.push(x),x=0}K.push(E)}K.push(H);for(var n=function(X,v){for(var S=X,P=X.length-1,N=[v],V=0;V<P;V++){for(var M=V,Y=V+1;Y<P;Y++){Math.abs(S[V][Y])>Math.abs(S[V][M])&&(M=Y)}for(var W=V;W<P+1;W++){var y=S[W][V];S[W][V]=S[W][M],S[W][M]=y}for(var U=V+1;U<P;U++){for(var O=P;O>=V;O--){S[O][U]-=S[O][V]*S[V][U]/S[V][V]}}}for(var Q=P-1;Q>=0;Q--){for(var R=0,T=Q+1;T<P;T++){R+=S[T][Q]*N[T]}N[Q]=(S[P][Q]-R)/S[Q][Q]}return N}(K,A).map(function(a){return p(a,z.precision)}),F=function(a){return[p(a,z.precision),p(n.reduce(function(t,u,s){return t+u*Math.pow(a,s)},0),z.precision)]},i=w.map(function(a){return F(a[0])}),L="y = ",C=n.length-1;C>=0;C--){L+=C>1?n[C]+"x^"+C+" + ":1===C?n[C]+"x + ":n[C]}return{string:L,points:i,predict:F,equation:[].concat(function(a){if(Array.isArray(a)){for(var s=0,u=Array(a.length);s<a.length;s++){u[s]=a[s]}return u}return Array.from(a)}(n)).reverse(),r2:p(k(w,i),z.precision)}}};l.exports=Object.keys(j).reduce(function(e,a){return m({_round:p},e,function(i,n,q){return n in i?Object.defineProperty(i,n,{value:q,enumerable:!0,configurable:!0,writable:!0}):i[n]=q,i}({},a,function(i,q){return j[a](i,m({},o,q))}))},{})})},oUDf:function(w,b,k){Object.defineProperty(b,"__esModule",{value:!0});var j={};k.d(j,"Regression",function(){return h});var g=k("m4/l"),q=k("1NAr"),f=k("Iz1H"),x=k("aCit"),v=k("o0Lc"),d=k("Qkdp"),m=k("Mtpk"),h=function(a){function c(){var e=a.call(this)||this;return e.events=new v.a,e._method="linear",e._options={},e._simplify=!1,e._reorder=!1,e._skipValidatedEvent=!1,e}return Object(g.c)(c,a),c.prototype.init=function(){a.prototype.init.call(this),this.processSeries()},c.prototype.processSeries=function(){var e=this;this.invalidateData(),this._disposers.push(this.target.events.on("beforedatavalidated",function(i){e._skipValidatedEvent?e._skipValidatedEvent=!1:(e.saveOriginalData(),e.calcData())})),this.target.chart&&this._disposers.push(this.target.chart.events.on("beforedatavalidated",function(i){e.target.invalidateData()})),this.target.adapter.add("data",function(){return void 0===e._data&&e.calcData(),e._data}),this.saveOriginalData()},c.prototype.saveOriginalData=function(){this.target.adapter.disableKey("data"),this.target.data&&this.target.data.length&&(this._originalData=this.target.data),this.target.adapter.enableKey("data")},c.prototype.invalidateData=function(){this._data=void 0},c.prototype.calcData=function(){this._data=[];var H=this.target,p=this._originalData;p&&0!=p.length||(p=this.target.baseSprite.data);for(var E=[],B={},z=0,y=0;y<p.length;y++){var I=H.dataFields.valueX?p[y][H.dataFields.valueX]:y,G=H.dataFields.valueY?p[y][H.dataFields.valueY]:y;m.hasValue(I)&&m.hasValue(G)&&(E.push([I,G]),B[z]=y,z++)}var A=[];switch(this.method){case"polynomial":A=q.polynomial(E,this.options);break;default:A=q.linear(E,this.options)}this.result=A,this.events.dispatchImmediately("processed",{type:"processed",target:this}),this.reorder&&A.points.sort(function(e,i){return e[0]>i[0]?-1:e[0]<i[0]?1:0}),this._data=[];var C,D=function(i){F.simplify&&i&&(i=A.points.length-1);var l={},o=B[i];d.each(F.target.dataFields,function(n,e){l[e]="valueX"==n?A.points[i][0]:"valueY"==n?A.points[i][1]:p[o][e]}),F._data.push(l),C=i},F=this;for(y=0;y<A.points.length;y++){D(y),y=C}},Object.defineProperty(c.prototype,"method",{get:function(){return this._method},set:function(e){this._method!=e&&(this._method=e,this.invalidateData())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"options",{get:function(){return this._options},set:function(e){this._options!=e&&(this._options=e,this.invalidateData())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"simplify",{get:function(){return this._simplify},set:function(e){this._simplify!=e&&(this._simplify=e,this.invalidateData())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"reorder",{get:function(){return this._reorder},set:function(e){this._reorder!=e&&(this._reorder=e,this.invalidateData())},enumerable:!0,configurable:!0}),c}(f.a);x.c.registeredClasses.Regression=h,window.am4plugins_regression=j}},["oUDf"]);