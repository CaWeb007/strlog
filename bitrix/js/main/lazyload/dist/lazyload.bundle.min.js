(function(f,e){var a={observer:null,images:{},imageStatus:{hidden:-2,error:-1,"undefined":0,inited:1,loaded:2},imageTypes:{image:1,background:2},initObserver:function l(){this.observer=new IntersectionObserver(this.onIntersection.bind(this),{rootMargin:"20% 0% 20% 0%",threshold:0.1})},onIntersection:function d(p){p.forEach(function(q){if(q.isIntersecting){this.showImage(q.target)}}.bind(this))},registerImage:function m(s,p,q){if(this.observer===null){this.initObserver()}q=q||{};if(!e.Type.isStringFilled(s)){return}if(e.Type.isObject(this.images[s])){return}var r=document.getElementById(s);if(!e.Type.isDomNode(r)){return}this.observer.observe(r);this.images[s]={id:s,node:null,src:null,dataSrcName:q.dataSrcName||"src",type:null,func:e.Type.isFunction(p)?p:null,status:this.imageStatus.undefined}},registerImages:function h(s,p,q){if(e.Type.isArray(s)){for(var r=0,t=s.length;r<t;r++){this.registerImage(s[r],p,q)}}},showImage:function o(r){var q=r.id;if(!e.Type.isStringFilled(q)){return}var p=this.images[q];if(!e.Type.isPlainObject(p)){return}if(p.status==this.imageStatus.undefined){this.initImage(p)}if(p.status!==this.imageStatus.inited){return}if(!p.node||!p.node.parentNode){p.node=null;p.status=this.imageStatus.error;return}if(p.type==this.imageTypes.image){p.node.src=p.src}else{p.node.style.backgroundImage="url('"+p.src+"')"}p.node.dataset[p.dataSrcName]="";p.status=this.imageStatus.loaded},showImages:function k(r){r=r!==false;for(var s in this.images){if(!this.images.hasOwnProperty(s)){continue}var q=this.images[s];if(q.status==this.imageStatus.undefined){this.initImage(q)}if(q.status!==this.imageStatus.inited){continue}if(!q.node||!q.node.parentNode){q.node=null;q.status=this.imageStatus.error;continue}var p=true;if(r&&e.Type.isFunction(q.func)){p=q.func(q)}if(p===true&&this.isElementVisibleOnScreen(q.node)){if(q.type==this.imageTypes.image){q.node.src=q.src}else{q.node.style.backgroundImage="url('"+q.src+"')"}q.node.dataset[q.dataSrcName]="";q.status=this.imageStatus.loaded}}},initImage:function c(q){q.status=this.imageStatus.error;var p=document.getElementById(q.id);if(!e.Type.isDomNode(p)){return}var r=p.dataset[q.dataSrcName];if(e.Type.isStringFilled(r)){q.node=p;q.src=r;q.status=this.imageStatus.inited;q.type=q.node.tagName.toLowerCase()=="img"?this.imageTypes.image:this.imageTypes.background}},isElementVisibleOnScreen:function b(q){var r=this.getElementCoords(q);var s=window.pageYOffset||document.documentElement.scrollTop;var p=s+document.documentElement.clientHeight;r.bottom=r.top+q.offsetHeight;return r.top>s&&r.top<p||r.bottom<p&&r.bottom>s},isElementVisibleOn2Screens:function j(q){var t=document.documentElement.clientHeight;var s=window.pageYOffset||document.documentElement.scrollTop;var p=s+t;var r=this.getElementCoords(q);r.bottom=r.top+q.offsetHeight;s-=t;p+=t;return r.top>s&&r.top<p||r.bottom<p&&r.bottom>s},getElementCoords:function n(p){var q=p.getBoundingClientRect();return{originTop:q.top,originLeft:q.left,top:q.top+window.pageYOffset,left:q.left+window.pageXOffset}},onScroll:function i(){},clearImages:function g(){this.images=[]}};f.LazyLoad=a}((this.BX=this.BX||{}),BX));