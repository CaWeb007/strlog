(function(){BX.namespace("BX");if(typeof BX.Loader!=="undefined"){return}var b="ready";var c="shown";var e="hidden";function a(g){var i=new BX.Promise();if(!!g&&(g.dataset.isShown==="false"||!g.dataset.isShown)){var h=function(j){i.fulfill(j);g.removeEventListener("animationend",h);g.removeEventListener("oAnimationEnd",h);g.removeEventListener("webkitAnimationEnd",h)};g.addEventListener("animationend",h);g.addEventListener("oAnimationEnd",h);g.addEventListener("webkitAnimationEnd",h);requestAnimationFrame(function(){g.dataset.isShown=true;g.style.display=null;g.classList.remove("main-ui-hide");g.classList.add("main-ui-show")})}else{i.fulfill()}return i}function d(g){var i=new BX.Promise();if(!!g&&g.dataset.isShown==="true"){var h=function(j){g.style.display="none";g.removeEventListener("animationend",h);g.removeEventListener("oAnimationEnd",h);g.removeEventListener("webkitAnimationEnd",h);i.fulfill(j)};g.addEventListener("animationend",h);g.addEventListener("oAnimationEnd",h);g.addEventListener("webkitAnimationEnd",h);requestAnimationFrame(function(){g.dataset.isShown=false;g.classList.remove("main-ui-show");g.classList.add("main-ui-hide")})}else{i.fulfill()}return i}function f(h,i){var g={};var j={};if(typeof i.target==="object"&&!!i.target){h.target=i.target}if(typeof i.size==="number"){g.width=i.size+"px";g.height=i.size+"px"}if(typeof i.color==="string"){j.stroke=i.color}if(typeof i.offset==="object"&&!!i.offset){if(typeof i.offset.top==="string"){g[i.mode==="inline"||i.mode==="custom"?"top":"margin-top"]=i.offset.top}if(typeof i.offset.left==="string"){g[i.mode==="inline"||i.mode==="custom"?"left":"margin-left"]=i.offset.left}}if(i.mode==="inline"){h.layout.classList.add("main-ui-loader-inline")}else{h.layout.classList.remove("main-ui-loader-inline")}if(i.mode==="custom"){h.layout.classList.add("main-ui-loader-custom");h.layout.classList.remove("main-ui-loader-inline")}requestAnimationFrame(function(){for(var l in g){if(g.hasOwnProperty(l)){h.layout.style[l]=g[l]}}for(var k in j){if(j.hasOwnProperty(k)){h.circle.style[k]=j[k]}}})}BX.Loader=function(g){this.state=b;this.layout=this.createLayout();this.circle=this.layout.querySelector(".main-ui-loader-svg-circle");this.target=null;f(this,g)};BX.Loader.prototype={createLayout:function(){var g='<div class="main-ui-loader"><svg class="main-ui-loader-svg" viewBox="25 25 50 50"><circle class="main-ui-loader-svg-circle" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/></svg></div>';return BX.create("div",{html:g}).firstElementChild},show:function(g){var h=new BX.Promise();h.setAutoResolve();g=!!g?g:this.target;if(!!g&&g!==this.layout.parentNode){g.appendChild(this.layout)}if(this.state!==c){this.state=c;h=a(this.layout)}return h},hide:function(){var g=new BX.Promise();g.setAutoResolve();if(this.state!==e){this.state=e;g=d(this.layout)}return g},isShown:function(){return this.state===c},setOptions:function(g){f(this,g)},destroy:function(){this.layout.remove()}}})();