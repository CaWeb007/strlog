var QRCode;(function(){function d(x){this.mode=c.MODE_8BIT_BYTE;this.data=x;this.parsedData=[];for(var v=0,u=this.data.length;v<u;v++){var t=[];var w=this.data.charCodeAt(v);if(w>65536){t[0]=240|((w&1835008)>>>18);t[1]=128|((w&258048)>>>12);t[2]=128|((w&4032)>>>6);t[3]=128|(w&63)}else{if(w>2048){t[0]=224|((w&61440)>>>12);t[1]=128|((w&4032)>>>6);t[2]=128|(w&63)}else{if(w>128){t[0]=192|((w&1984)>>>6);t[1]=128|(w&63)}else{t[0]=w}}}this.parsedData.push(t)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);if(this.parsedData.length!=this.data.length){this.parsedData.unshift(191);this.parsedData.unshift(187);this.parsedData.unshift(239)}}d.prototype={getLength:function(i){return this.parsedData.length},write:function(u){for(var v=0,t=this.parsedData.length;v<t;v++){u.put(this.parsedData[v],8)}}};function q(t,i){this.typeNumber=t;this.errorCorrectLevel=i;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}q.prototype={addData:function(t){var i=new d(t);this.dataList.push(i);this.dataCache=null},isDark:function(t,i){if(t<0||this.moduleCount<=t||i<0||this.moduleCount<=i){throw new Error(t+","+i)}return this.modules[t][i]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(false,this.getBestMaskPattern())},makeImpl:function(v,u){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[t][i]=null}}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(v,u);if(this.typeNumber>=7){this.setupTypeNumber(v)}if(this.dataCache==null){this.dataCache=q.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)}this.mapData(this.dataCache,u)},setupPositionProbePattern:function(u,i){for(var t=-1;t<=7;t++){if(u+t<=-1||this.moduleCount<=u+t){continue}for(var v=-1;v<=7;v++){if(i+v<=-1||this.moduleCount<=i+v){continue}if((0<=t&&t<=6&&(v==0||v==6))||(0<=v&&v<=6&&(t==0||t==6))||(2<=t&&t<=4&&2<=v&&v<=4)){this.modules[u+t][i+v]=true}else{this.modules[u+t][i+v]=false}}}},getBestMaskPattern:function(){var w=0;var v=0;for(var u=0;u<8;u++){this.makeImpl(true,u);var t=k.getLostPoint(this);if(u==0||w>t){w=t;v=u}}return v},createMovieClip:function(w,i,u){var C=w.createEmptyMovieClip(i,u);var v=1;this.make();for(var D=0;D<this.modules.length;D++){var A=D*v;for(var t=0;t<this.modules[D].length;t++){var B=t*v;var z=this.modules[D][t];if(z){C.beginFill(0,100);C.moveTo(B,A);C.lineTo(B+v,A);C.lineTo(B+v,A+v);C.lineTo(B,A+v);C.endFill()}}}return C},setupTimingPattern:function(){for(var i=8;i<this.moduleCount-8;i++){if(this.modules[i][6]!=null){continue}this.modules[i][6]=(i%2==0)}for(var t=8;t<this.moduleCount-8;t++){if(this.modules[6][t]!=null){continue}this.modules[6][t]=(t%2==0)}},setupPositionAdjustPattern:function(){var z=k.getPatternPosition(this.typeNumber);for(var v=0;v<z.length;v++){for(var u=0;u<z.length;u++){var x=z[v];var t=z[u];if(this.modules[x][t]!=null){continue}for(var w=-2;w<=2;w++){for(var y=-2;y<=2;y++){if(w==-2||w==2||y==-2||y==2||(w==0&&y==0)){this.modules[x+w][t+y]=true}else{this.modules[x+w][t+y]=false}}}}}},setupTypeNumber:function(w){var v=k.getBCHTypeNumber(this.typeNumber);for(var u=0;u<18;u++){var t=(!w&&((v>>u)&1)==1);this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=t}for(var u=0;u<18;u++){var t=(!w&&((v>>u)&1)==1);this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=t}},setupTypeInfo:function(y,x){var w=(this.errorCorrectLevel<<3)|x;var v=k.getBCHTypeInfo(w);for(var u=0;u<15;u++){var t=(!y&&((v>>u)&1)==1);if(u<6){this.modules[u][8]=t}else{if(u<8){this.modules[u+1][8]=t}else{this.modules[this.moduleCount-15+u][8]=t}}}for(var u=0;u<15;u++){var t=(!y&&((v>>u)&1)==1);if(u<8){this.modules[8][this.moduleCount-u-1]=t}else{if(u<9){this.modules[8][15-u-1+1]=t}else{this.modules[8][15-u-1]=t}}}this.modules[this.moduleCount-8][8]=(!y)},mapData:function(x,t){var v=-1;var B=this.moduleCount-1;var w=7;var i=0;for(var u=this.moduleCount-1;u>0;u-=2){if(u==6){u--}while(true){for(var z=0;z<2;z++){if(this.modules[B][u-z]==null){var y=false;if(i<x.length){y=(((x[i]>>>w)&1)==1)}var A=k.getMask(t,B,u-z);if(A){y=!y}this.modules[B][u-z]=y;w--;if(w==-1){i++;w=7}}}B+=v;if(B<0||this.moduleCount<=B){B-=v;v=-v;break}}}}};q.PAD0=236;q.PAD1=17;q.createData=function(A,z,w){var u=p.getRSBlocks(A,z);var t=new l();for(var v=0;v<w.length;v++){var y=w[v];t.put(y.mode,4);t.put(y.getLength(),k.getLengthInBits(y.mode,A));y.write(t)}var x=0;for(var v=0;v<u.length;v++){x+=u[v].dataCount}if(t.getLengthInBits()>x*8){throw new Error("code length overflow. ("+t.getLengthInBits()+">"+x*8+")")}if(t.getLengthInBits()+4<=x*8){t.put(0,4)}while(t.getLengthInBits()%8!=0){t.putBit(false)}while(true){if(t.getLengthInBits()>=x*8){break}t.put(q.PAD0,8);if(t.getLengthInBits()>=x*8){break}t.put(q.PAD1,8)}return q.createBytes(t,u)};q.createBytes=function(D,G){var v=0;var J=0;var H=0;var u=new Array(G.length);var y=new Array(G.length);for(var B=0;B<G.length;B++){var C=G[B].dataCount;var t=G[B].totalCount-C;J=Math.max(J,C);H=Math.max(H,t);u[B]=new Array(C);for(var E=0;E<u[B].length;E++){u[B][E]=255&D.buffer[E+v]}v+=C;var z=k.getErrorCorrectPolynomial(t);var I=new o(u[B],z.getLength()-1);var w=I.mod(z);y[B]=new Array(z.getLength()-1);for(var E=0;E<y[B].length;E++){var A=E+w.getLength()-y[B].length;y[B][E]=(A>=0)?w.get(A):0}}var F=0;for(var E=0;E<G.length;E++){F+=G[E].totalCount}var K=new Array(F);var x=0;for(var E=0;E<J;E++){for(var B=0;B<G.length;B++){if(E<u[B].length){K[x++]=u[B][E]}}}for(var E=0;E<H;E++){for(var B=0;B<G.length;B++){if(E<y[B].length){K[x++]=y[B][E]}}}return K};var c={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var f={L:1,M:0,Q:3,H:2};var s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var k={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(i){var t=i<<10;while(k.getBCHDigit(t)-k.getBCHDigit(k.G15)>=0){t^=(k.G15<<(k.getBCHDigit(t)-k.getBCHDigit(k.G15)))}return((i<<10)|t)^k.G15_MASK},getBCHTypeNumber:function(i){var t=i<<12;while(k.getBCHDigit(t)-k.getBCHDigit(k.G18)>=0){t^=(k.G18<<(k.getBCHDigit(t)-k.getBCHDigit(k.G18)))}return(i<<12)|t},getBCHDigit:function(i){var t=0;while(i!=0){t++;i>>>=1}return t},getPatternPosition:function(i){return k.PATTERN_POSITION_TABLE[i-1]},getMask:function(v,u,t){switch(v){case s.PATTERN000:return(u+t)%2==0;case s.PATTERN001:return u%2==0;case s.PATTERN010:return t%3==0;case s.PATTERN011:return(u+t)%3==0;case s.PATTERN100:return(Math.floor(u/2)+Math.floor(t/3))%2==0;case s.PATTERN101:return(u*t)%2+(u*t)%3==0;case s.PATTERN110:return((u*t)%2+(u*t)%3)%2==0;case s.PATTERN111:return((u*t)%3+(u+t)%2)%2==0;default:throw new Error("bad maskPattern:"+v)}},getErrorCorrectPolynomial:function(u){var t=new o([1],0);for(var v=0;v<u;v++){t=t.multiply(new o([1,n.gexp(v)],0))}return t},getLengthInBits:function(t,i){if(1<=i&&i<10){switch(t){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}}else{if(i<27){switch(t){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}}else{if(i<41){switch(t){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}else{throw new Error("type:"+i)}}}},getLostPoint:function(t){var v=t.getModuleCount();var w=0;for(var D=0;D<v;D++){for(var u=0;u<v;u++){var B=0;var A=t.isDark(D,u);for(var i=-1;i<=1;i++){if(D+i<0||v<=D+i){continue}for(var z=-1;z<=1;z++){if(u+z<0||v<=u+z){continue}if(i==0&&z==0){continue}if(A==t.isDark(D+i,u+z)){B++}}}if(B>5){w+=(3+B-5)}}}for(var D=0;D<v-1;D++){for(var u=0;u<v-1;u++){var x=0;if(t.isDark(D,u)){x++}if(t.isDark(D+1,u)){x++}if(t.isDark(D,u+1)){x++}if(t.isDark(D+1,u+1)){x++}if(x==0||x==4){w+=3}}}for(var D=0;D<v;D++){for(var u=0;u<v-6;u++){if(t.isDark(D,u)&&!t.isDark(D,u+1)&&t.isDark(D,u+2)&&t.isDark(D,u+3)&&t.isDark(D,u+4)&&!t.isDark(D,u+5)&&t.isDark(D,u+6)){w+=40}}}for(var u=0;u<v;u++){for(var D=0;D<v-6;D++){if(t.isDark(D,u)&&!t.isDark(D+1,u)&&t.isDark(D+2,u)&&t.isDark(D+3,u)&&t.isDark(D+4,u)&&!t.isDark(D+5,u)&&t.isDark(D+6,u)){w+=40}}}var C=0;for(var u=0;u<v;u++){for(var D=0;D<v;D++){if(t.isDark(D,u)){C++}}}var y=Math.abs(100*C/v/v-50)/5;w+=y*10;return w}};var n={glog:function(i){if(i<1){throw new Error("glog("+i+")")}return n.LOG_TABLE[i]},gexp:function(i){while(i<0){i+=255}while(i>=256){i-=255}return n.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var m=0;m<8;m++){n.EXP_TABLE[m]=1<<m}for(var m=8;m<256;m++){n.EXP_TABLE[m]=n.EXP_TABLE[m-4]^n.EXP_TABLE[m-5]^n.EXP_TABLE[m-6]^n.EXP_TABLE[m-8]}for(var m=0;m<255;m++){n.LOG_TABLE[n.EXP_TABLE[m]]=m}function o(u,t){if(u.length==undefined){throw new Error(u.length+"/"+t)}var w=0;while(w<u.length&&u[w]==0){w++}this.num=new Array(u.length-w+t);for(var v=0;v<u.length-w;v++){this.num[v]=u[v+w]}}o.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(w){var u=new Array(this.getLength()+w.getLength()-1);for(var v=0;v<this.getLength();v++){for(var t=0;t<w.getLength();t++){u[v+t]^=n.gexp(n.glog(this.get(v))+n.glog(w.get(t)))}}return new o(u,0)},mod:function(w){if(this.getLength()-w.getLength()<0){return this}var v=n.glog(this.get(0))-n.glog(w.get(0));var t=new Array(this.getLength());for(var u=0;u<this.getLength();u++){t[u]=this.get(u)}for(var u=0;u<w.getLength();u++){t[u]^=n.gexp(n.glog(w.get(u))+v)}return new o(t,0).mod(w)}};function p(i,t){this.totalCount=i;this.dataCount=t}p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];p.getRSBlocks=function(v,B){var u=p.getRsBlockTable(v,B);if(u==undefined){throw new Error("bad rs block @ typeNumber:"+v+"/errorCorrectLevel:"+B)}var t=u.length/3;var z=[];for(var x=0;x<t;x++){var y=u[x*3+0];var C=u[x*3+1];var A=u[x*3+2];for(var w=0;w<y;w++){z.push(new p(C,A))}}return z};p.getRsBlockTable=function(t,i){switch(i){case f.L:return p.RS_BLOCK_TABLE[(t-1)*4+0];case f.M:return p.RS_BLOCK_TABLE[(t-1)*4+1];case f.Q:return p.RS_BLOCK_TABLE[(t-1)*4+2];case f.H:return p.RS_BLOCK_TABLE[(t-1)*4+3];default:return undefined}};function l(){this.buffer=[];this.length=0}l.prototype={get:function(i){var t=Math.floor(i/8);return((this.buffer[t]>>>(7-i%8))&1)==1},put:function(t,v){for(var u=0;u<v;u++){this.putBit(((t>>>(v-u-1))&1)==1)}},getLengthInBits:function(){return this.length},putBit:function(t){var i=Math.floor(this.length/8);if(this.buffer.length<=i){this.buffer.push(0)}if(t){this.buffer[i]|=(128>>>(this.length%8))}this.length++}};function r(){return typeof CanvasRenderingContext2D!="undefined"}function g(){var i=false;var t=navigator.userAgent;if(/android/i.test(t)){i=true;aMat=t.toString().match(/android ([0-9]\.[0-9])/i);if(aMat&&aMat[1]){i=parseFloat(aMat[1])}}return i}var e=(function(){var i=function(t,u){this._el=t;this._htOption=u};i.prototype.draw=function(w){var D=this._htOption;var B=this._el;var t=w.getModuleCount();var z=Math.floor(D.width/t);var A=Math.floor(D.height/t);this.clear();function x(E,G){var H=document.createElementNS("http://www.w3.org/2000/svg",E);for(var F in G){if(G.hasOwnProperty(F)){H.setAttribute(F,G[F])}}return H}var y=x("svg",{viewBox:"0 0 "+String(t)+" "+String(t),width:"100%",height:"100%",fill:D.colorLight});y.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");B.appendChild(y);y.appendChild(x("rect",{fill:D.colorDark,width:"1",height:"1",id:"template"}));for(var C=0;C<t;C++){for(var v=0;v<t;v++){if(w.isDark(C,v)){var u=x("use",{x:String(C),y:String(v)});u.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");y.appendChild(u)}}}};i.prototype.clear=function(){while(this._el.hasChildNodes()){this._el.removeChild(this._el.lastChild)}};return i})();var b=document.documentElement.tagName.toLowerCase()==="svg";var h=b?e:!r()?(function(){var i=function(t,u){this._el=t;this._htOption=u};i.prototype.draw=function(x){var E=this._htOption;var B=this._el;var t=x.getModuleCount();var y=Math.floor(E.width/t);var A=Math.floor(E.height/t);var C=['<table style="border:0;border-collapse:collapse;">'];for(var D=0;D<t;D++){C.push("<tr>");for(var v=0;v<t;v++){C.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+y+"px;height:"+A+"px;background-color:"+(x.isDark(D,v)?E.colorDark:E.colorLight)+';"></td>')}C.push("</tr>")}C.push("</table>");B.innerHTML=C.join("");var z=B.childNodes[0];var w=(E.width-z.offsetWidth)/2;var u=(E.height-z.offsetHeight)/2;if(w>0&&u>0){z.style.margin=u+"px "+w+"px"}};i.prototype.clear=function(){this._el.innerHTML=""};return i})():(function(){function i(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var u=1/window.devicePixelRatio;var v=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(y,D,C,E,A,G,F,x,B){if(("nodeName" in y)&&/img/i.test(y.nodeName)){for(var z=arguments.length-1;z>=1;z--){arguments[z]=arguments[z]*u}}else{if(typeof x=="undefined"){arguments[1]*=u;arguments[2]*=u;arguments[3]*=u;arguments[4]*=u}}v.apply(this,arguments)}}function w(x,B){var y=this;y._fFail=B;y._fSuccess=x;if(y._bSupportDataURI===null){var A=document.createElement("img");var C=function(){y._bSupportDataURI=false;if(y._fFail){_fFail.call(y)}};var z=function(){y._bSupportDataURI=true;if(y._fSuccess){y._fSuccess.call(y)}};A.onabort=C;A.onerror=C;A.onload=z;A.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else{if(y._bSupportDataURI===true&&y._fSuccess){y._fSuccess.call(y)}else{if(y._bSupportDataURI===false&&y._fFail){y._fFail.call(y)}}}}var t=function(x,y){this._bIsPainted=false;this._android=g();this._htOption=y;this._elCanvas=document.createElement("canvas");this._elCanvas.width=y.width;this._elCanvas.height=y.height;x.appendChild(this._elCanvas);this._el=x;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=false;this._elImage=document.createElement("img");this._elImage.alt="Scan me!";this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};t.prototype.draw=function(C){var K=this._elImage;var H=this._oContext;var J=this._htOption;var z=C.getModuleCount();var E=J.width/z;var F=J.height/z;var A=Math.round(E);var G=Math.round(F);K.style.display="none";this.clear();for(var I=0;I<z;I++){for(var B=0;B<z;B++){var D=C.isDark(I,B);var x=B*E;var y=I*F;H.strokeStyle=D?J.colorDark:J.colorLight;H.lineWidth=1;H.fillStyle=D?J.colorDark:J.colorLight;H.fillRect(x,y,E,F);H.strokeRect(Math.floor(x)+0.5,Math.floor(y)+0.5,A,G);H.strokeRect(Math.ceil(x)-0.5,Math.ceil(y)-0.5,A,G)}}this._bIsPainted=true};t.prototype.makeImage=function(){if(this._bIsPainted){w.call(this,i)}};t.prototype.isPainted=function(){return this._bIsPainted};t.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height);this._bIsPainted=false};t.prototype.round=function(x){if(!x){return x}return Math.floor(x*1000)/1000};return t})();function a(v,y){var u;var z=j(v);for(u=1;u<40;u++){var t=p.getRSBlocks(u,y);var x=0;for(var w=0;w<t.length;w++){x+=t[w].dataCount}if(z<=x){break}}if(u==39){throw new Error("Too long data")}return u}function j(t){var i=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return i.length+(i.length!=t?3:0)}QRCode=function(u,v){this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:f.H};if(typeof v==="string"){v={text:v}}if(v){for(var t in v){this._htOption[t]=v[t]}}if(typeof u=="string"){u=document.getElementById(u)}this._android=g();this._el=u;this._oQRCode=null;this._oDrawing=new h(this._el,this._htOption);if(this._htOption.text){this.makeCode(this._htOption.text)}};QRCode.prototype.makeCode=function(i){this._oQRCode=new q(a(i,this._htOption.correctLevel),this._htOption.correctLevel);this._oQRCode.addData(i);this._oQRCode.make();this._el.title=i;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){if(typeof this._oDrawing.makeImage=="function"&&(!this._android||this._android>=3)){this._oDrawing.makeImage()}};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=f})();