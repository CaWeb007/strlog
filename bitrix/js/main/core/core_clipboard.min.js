(function(a){if(a.BX.clipboard){return}var b=a.BX;b.clipboard={isCopySupported:function(){return !!(!!a.getSelection&&!!document.execCommand&&document.queryCommandSupported&&document.queryCommandSupported("copy"))},copy:function(f){if(!f){return false}if(!this.isCopySupported()){return false}this._removeSelection();if(!this.node){this.node=document.createElement("a");this.node.style.background="Highlight";this.node.style.display="none";document.body.appendChild(this.node)}this.node.innerText=f;var d=document.createRange();this.node.style.display="";d.selectNode(this.node);a.getSelection().addRange(d);var c=false;try{c=document.execCommand("copy")}catch(e){}this.node.style.display="none";this._removeSelection(d);return c},bindCopyClick:function(c,e){e=e||{};showButtonIfNotSupported=e.showButtonIfNotSupported||false;text=e.text||null;popupParams=e.popup||{};if(b.type.isString(c)){c=b(c)}if(!b.type.isElementNode(c)){return}if(!this.isCopySupported()){if(!showButtonIfNotSupported){c.style.display="none"}return}var d=b.util.getRandomString(5);b.bind(c,"click",(function(h,g,f,j,i){return function(k){h._onCopyClick(g,f,j,i);a.BX.PreventDefault(k);return true}})(this,d,c,text,popupParams))},_removeSelection:function(c){c=c||null;var d=a.getSelection();if(c&&d.removeRange){d.removeRange(c)}else{d.removeAllRanges()}},_getText:function(c){if(!c){return null}if(b.type.isFunction(c)){return c.apply(this,[])}else{if(b.type.isString(c)){return c}else{if(b.type.isElementNode(c)){if((c.tagName=="INPUT"||c.tagName=="TEXTAREA")&&c.value){return c.value}else{if(c.innerText){return c.innerText}}}}}return null},_onCopyClick:function(f,d,i,g){this.timeoutIds=this.timeoutIds||[];i=this._getText(i);if(!i){i=this._getText(d)}var j=false;if(i){j=this.copy(i)}var c=g.hideTimeout||1500;g=b.mergeEx(g,{content:j?b.message("CORE_CLIPBOARD_COPY_SUCCESS"):b.message("CORE_CLIPBOARD_COPY_FAILURE"),darkMode:true,autoHide:true,zIndex:1000,angle:true,offsetLeft:5,bindOptions:{position:"top"}});var e=new b.PopupWindow("clipboard_copy_status_"+f,d,g);e.show();var h;while(h=this.timeoutIds.pop()){clearTimeout(h)}h=setTimeout(function(){e.close()},c);this.timeoutIds.push(h)}}})(window);