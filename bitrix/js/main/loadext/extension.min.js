(function(){if((!BX||!!BX&&typeof BX.namespace!=="function")||(!!BX&&!!BX.LoadExt&&!!BX.LoadExt.Extension)){return}BX.namespace("BX.LoadExt");var g="scheduled";var i="loaded";var b="load";var h="error";function d(j,k){return(k.isInternal&&j.push(k.JS)),j}function c(j,k){return(!k.isInternal&&j.push(k.JS)),j}function e(j){return BX.type.isString(j)?BX.processHTML(j):{SCRIPT:[],STYLE:[]}}function f(j){if(BX.type.isArray(j)){return j}if(BX.type.isString(j)){return[j]}return[]}function a(j){j=f(j);if(!j.length){return Promise.resolve()}return new Promise(function(k){BX.load(j,k)}.bind(this))}BX.LoadExt.Extension=function(k){if(!BX.type.isPlainObject(k)){return new TypeError("data is not object")}this.name=k.extension;this.state=k.html?g:h;var j=e(k.html);this.inlineScripts=j.SCRIPT.reduce(d,[]);this.externalScripts=j.SCRIPT.reduce(c,[]);this.externalStyles=j.STYLE};BX.LoadExt.Extension.prototype={load:function(){if(this.state===h){this.loadPromise=this.loadPromise||Promise.resolve(this);console.warn("Extension",this.name,"not found")}if(!this.loadPromise&&this.state){this.state=b;this.inlineScripts.forEach(BX.evalGlobal);this.loadPromise=Promise.all([a(this.externalScripts),a(this.externalStyles)]).then(function(){this.state=i;return this}.bind(this))}return this.loadPromise}}})();