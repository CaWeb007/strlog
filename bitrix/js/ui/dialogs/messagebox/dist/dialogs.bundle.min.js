this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(a,e,d){var c=function c(){babelHelpers.classCallCheck(this,c)};babelHelpers.defineProperty(c,"NONE","none");babelHelpers.defineProperty(c,"OK","ok");babelHelpers.defineProperty(c,"CANCEL","cancel");babelHelpers.defineProperty(c,"YES","yes");babelHelpers.defineProperty(c,"NO","no");babelHelpers.defineProperty(c,"OK_CANCEL","ok_cancel");babelHelpers.defineProperty(c,"YES_NO","yes_no");babelHelpers.defineProperty(c,"YES_CANCEL","yes_cancel");babelHelpers.defineProperty(c,"YES_NO_CANCEL","yes_no_cancel");var b=function(){function A(){var H=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,A);babelHelpers.defineProperty(this,"popupWindow",null);babelHelpers.defineProperty(this,"title",null);babelHelpers.defineProperty(this,"message",null);babelHelpers.defineProperty(this,"modal",false);babelHelpers.defineProperty(this,"popupOptions",{});babelHelpers.defineProperty(this,"minWidth",300);babelHelpers.defineProperty(this,"minHeight",150);babelHelpers.defineProperty(this,"maxWidth",400);babelHelpers.defineProperty(this,"buttons",[]);babelHelpers.defineProperty(this,"okCallback",null);babelHelpers.defineProperty(this,"cancelCallback",null);babelHelpers.defineProperty(this,"yesCallback",null);babelHelpers.defineProperty(this,"noCallback",null);H=e.Type.isPlainObject(H)?H:{};this.popupOptions=e.Type.isPlainObject(H.popupOptions)?H.popupOptions:{};this.cache=new e.Cache.MemoryCache();this.handleButtonClick=this.handleButtonClick.bind(this);this.modal=H.modal===true;this.cacheable=H.cacheable===true;this.setTitle(H.title);this.setMessage(H.message);this.setOkCallback(H.onOk);this.setCancelCallback(H.onCancel);this.setYesCallback(H.onYes);this.setNoCallback(H.onNo);if(e.Type.isBoolean(H.mediumButtonSize)){this.mediumButtonSize=H.mediumButtonSize}else{if(this.getTitle()!==null){this.mediumButtonSize=true}}if(this.isMediumButtonSize()){this.minWidth=400;this.minHeight=200;this.maxWidth=500}this.minWidth=e.Type.isNumber(H.minWidth)?H.minWidth:this.minWidth;this.minHeight=e.Type.isNumber(H.minHeight)?H.minHeight:this.minHeight;this.maxWidth=e.Type.isNumber(H.maxWidth)?H.maxWidth:this.maxWidth;this.setOkCaption(H.okCaption);this.setCancelCaption(H.cancelCaption);this.setYesCaption(H.yesCaption);this.setNoCaption(H.noCaption);this.setButtons(H.buttons)}babelHelpers.createClass(A,[{key:"show",value:function D(){if(this.getPopupWindow().isDestroyed()){this.popupWindow=null}this.getPopupWindow().show()}},{key:"close",value:function x(){this.getPopupWindow().close()}},{key:"getPopupWindow",value:function o(){if(this.popupWindow===null){this.popupWindow=new d.PopupWindow(babelHelpers.objectSpread({bindElement:null,className:this.isMediumButtonSize()?"ui-message-box ui-message-box-medium-buttons":"ui-message-box",content:this.getMessage(),titleBar:this.getTitle(),minWidth:this.minWidth,minHeight:this.minHeight,maxWidth:this.maxWidth,overlay:this.modal,cacheable:this.cacheable,closeIcon:false,contentBackground:"transparent",padding:0,buttons:this.getButtons()},this.popupOptions))}return this.popupWindow}},{key:"setMessage",value:function i(H){if(e.Type.isString(H)||e.Type.isDomNode(H)){this.message=H;if(this.popupWindow!==null){this.popupWindow.setContent(H)}}}},{key:"getMessage",value:function y(){return this.message}},{key:"setTitle",value:function r(H){if(e.Type.isString(H)){this.title=H;if(this.popupWindow!==null){this.popupWindow.setTitleBar(H)}}}},{key:"getTitle",value:function s(){return this.title}},{key:"setButtons",value:function q(H){if(e.Type.isArray(H)){this.buttons=H}else{if(e.Type.isString(H)){this.buttons=this.getButtonsLayout(H)}}if(this.popupWindow!==null){this.popupWindow.setButtons(this.buttons)}}},{key:"getButtons",value:function f(){return this.buttons}},{key:"setOkCaption",value:function v(H){if(e.Type.isString(H)){this.getOkButton().setText(H)}}},{key:"setCancelCaption",value:function u(H){if(e.Type.isString(H)){this.getCancelButton().setText(H)}}},{key:"setYesCaption",value:function C(H){if(e.Type.isString(H)){this.getYesButton().setText(H)}}},{key:"setNoCaption",value:function w(H){if(e.Type.isString(H)){this.getNoButton().setText(H)}}},{key:"setOkCallback",value:function h(H){if(e.Type.isFunction(H)){this.okCallback=H}}},{key:"setCancelCallback",value:function G(H){if(e.Type.isFunction(H)){this.cancelCallback=H}}},{key:"setYesCallback",value:function k(H){if(e.Type.isFunction(H)){this.yesCallback=H}}},{key:"setNoCallback",value:function g(H){if(e.Type.isFunction(H)){this.noCallback=H}}},{key:"isMediumButtonSize",value:function p(){return this.mediumButtonSize}},{key:"getOkButton",value:function F(){var H=this;return this.cache.remember("okBtn",function(){return new BX.UI.Button({id:c.OK,size:H.isMediumButtonSize()?BX.UI.Button.Size.MEDIUM:BX.UI.Button.Size.SMALL,color:BX.UI.Button.Color.PRIMARY,text:e.Loc.getMessage("UI_MESSAGE_BOX_OK_CAPTION"),events:{click:H.handleButtonClick}})})}},{key:"getCancelButton",value:function m(){var H=this;return this.cache.remember("cancelBtn",function(){return new BX.UI.CancelButton({id:c.CANCEL,size:H.isMediumButtonSize()?BX.UI.Button.Size.MEDIUM:BX.UI.Button.Size.SMALL,text:e.Loc.getMessage("UI_MESSAGE_BOX_CANCEL_CAPTION"),events:{click:H.handleButtonClick}})})}},{key:"getYesButton",value:function E(){var H=this;return this.cache.remember("yesBtn",function(){return new BX.UI.Button({id:c.YES,size:H.isMediumButtonSize()?BX.UI.Button.Size.MEDIUM:BX.UI.Button.Size.SMALL,color:BX.UI.Button.Color.PRIMARY,text:e.Loc.getMessage("UI_MESSAGE_BOX_YES_CAPTION"),events:{click:H.handleButtonClick}})})}},{key:"getNoButton",value:function l(){var H=this;return this.cache.remember("noBtn",function(){return new BX.UI.Button({id:c.NO,size:H.isMediumButtonSize()?BX.UI.Button.Size.MEDIUM:BX.UI.Button.Size.SMALL,color:BX.UI.Button.Color.LIGHT_BORDER,text:e.Loc.getMessage("UI_MESSAGE_BOX_NO_CAPTION"),events:{click:H.handleButtonClick}})})}},{key:"getButtonsLayout",value:function z(H){switch(H){case c.OK:return[this.getOkButton()];case c.CANCEL:return[this.getCancelButton()];case c.YES:return[this.getYesButton()];case c.NO:return[this.getNoButton()];case c.OK_CANCEL:return[this.getOkButton(),this.getCancelButton()];case c.YES_NO:return[this.getYesButton(),this.getNoButton()];case c.YES_CANCEL:return[this.getYesButton(),this.getCancelButton()];case c.YES_NO_CANCEL:return[this.getYesButton(),this.getNoButton(),this.getCancelButton()];default:return[]}}},{key:"handleButtonClick",value:function B(J,L){var I=this;if(J.isDisabled()){return}J.setDisabled();var K=this["".concat(J.getId(),"Callback")];if(!K){J.setDisabled(false);this.close();return}var H=K(this,J,L);if(H===true){J.setDisabled(false);this.close()}else{if(H===false){J.setDisabled(false)}else{if(H&&(Object.prototype.toString.call(H)==="[object Promise]"||H.toString()==="[object BX.Promise]")){J.setWaiting();H.then(function(M){J.setWaiting(false);I.close()},function(M){J.setWaiting(false)})}}}}}],[{key:"alert",value:function j(L){var N=null;var M=null;var J=null;for(var H=arguments.length,I=new Array(H>1?H-1:0),K=1;K<H;K++){I[K-1]=arguments[K]}if(I.length){if(e.Type.isString(I[0])){N=I[0];M=I[1];J=I[2]}else{M=I[0];J=I[1]}}this.show({message:L,title:N,okCaption:J,onOk:M,buttons:BX.UI.Dialogs.MessageBoxButtons.OK})}},{key:"confirm",value:function n(M){var O=null;var N=null;var L=null;var I=null;for(var H=arguments.length,K=new Array(H>1?H-1:0),J=1;J<H;J++){K[J-1]=arguments[J]}if(K.length){if(e.Type.isString(K[0])){O=K[0];N=K[1];L=K[2];I=K[3]}else{N=K[0];L=K[1];I=K[2]}}this.show({message:M,title:O,okCaption:L,onOk:N,onCancel:I,buttons:BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL})}},{key:"show",value:function D(){var H=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var I=this.create(H);I.show()}},{key:"create",value:function t(){var H=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new this(H)}}]);return A}();a.MessageBox=b;a.MessageBoxButtons=c}((this.BX.UI.Dialogs=this.BX.UI.Dialogs||{}),BX,BX.Main));