(function(){var a=window.BX;a.namespace("BX.UI");if(!!a.UI.Animations){return}a.UI.Animations={expand:function(j){if(!a(j.moreButtonNode)){return}var m=(a.type.isNotEmptyString(j.type)?j.type:"post"),l=(a.type.isNotEmptyString(j.classBlock)?j.classBlock:"feed-post-text-block"),h=(a.type.isNotEmptyString(j.classOuter)?j.classOuter:"feed-post-text-block-inner"),k=(a.type.isNotEmptyString(j.classInner)?j.classInner:"feed-post-text-block-inner-inner"),i=(typeof j.heightLimit!="undefined"&&parseInt(j.heightLimit)>0?parseInt(j.heightLimit):300);var g=a.findParent(a(j.moreButtonNode),{tag:"div",className:l});if(!g){return}var c=a.findChild(g,{tag:"div",className:h},true);var d=a.findChild(g,{tag:"div",className:k},true);if(!c||!d){return}var o=i,n=parseInt(d.offsetHeight),b={height:o},f={height:n};if(!!j.moreButtonNode){a.remove(j.moreButtonNode)}var e=(n-o)/(2000-o);e=(e<0.3?0.3:(e>0.8?0.8:e));c.style.maxHeight=b.height+"px";c.style.overflow="hidden";c.style.maxHeight=b.height+"px";c.style.overflow="hidden";(new a.easing({duration:e*1000,start:b,finish:f,transition:a.easing.makeEaseOut(a.easing.transitions.quart),step:function(p){c.style.maxHeight=p.height+"px";c.style.opacity=p.opacity/100},complete:function(){c.style.cssText="";c.style.maxHeight="none";a.LazyLoad.showImages(true);if(a.type.isFunction(j.callback)){j.callback(c)}}})).animate();return true},onPlayerPlay:function(f){var d={post:{block:"feed-post-text-block",outer:"feed-post-text-block-inner",inner:"feed-post-text-block-inner-inner"},comment:{block:"feed-com-block",outer:"feed-com-text-inner",inner:"feed-com-text-inner-inner"},more:"feed-post-text-more"};var b=a.findParent(f,{className:d.post.block});var e=null;if(b){e="post"}else{b=a.findParent(f,{className:d.comment.block});if(b){e="comment"}}if(!b){return}var c=a.findChild(b,{className:d.more},true);if(c){a.UI.Animations.expand({moreButtonNode:c,type:e,classBlock:d[e].block,classOuter:d[e].outer,classInner:d[e].inner,heightLimit:(e=="comment"?200:300)})}}};a.ready(function(){a.addCustomEvent("Player:onPlay",function(b){var c=b.getElement();if(c){a.UI.Animations.onPlayerPlay(c)}})})})();