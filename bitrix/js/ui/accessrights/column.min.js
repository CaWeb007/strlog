(function(){BX.namespace("BX.UI");BX.UI.AccessRights.Column=function(a){this.layout={container:null};this.grid=a.grid?a.grid:null;this.items=a.items?a.items:[];this.userGroup=a.userGroup?a.userGroup:null;this.accessCodes=a.accessCodes?a.accessCodes:null;this.section=a.section?a.section:null;this.headSection=a.headSection;this.newColumn=a.newColumn?a.newColumn:null;this.openPopupEvent=a.grid.openPopupEvent?a.grid.openPopupEvent:null;this.popupContainer=a.grid.popupContainer?a.grid.popupContainer:null};BX.UI.AccessRights.Column.prototype={getItem:function(b){b=b||{};var g={};if(b.type==="userGroupTitle"){g={type:b.type,text:b.title,controller:b.controller}}if(b.type==="title"){g={id:b.id,type:b.type,hint:b.hint,text:b.title,controller:b.controller}}if(b.type==="toggler"){g={type:b.type,access:b.access}}if(b.type==="variables"){g={type:b.type,text:b.title,variables:b.variables,access:b.access}}if(b.type==="role"){g={type:b.type,text:b.title}}if(b.type==="members"){var a=[];for(var f in b.members){a[f]=b.members[f].type}g={type:b.type,accessCodes:a}}g.column=this;g.userGroup=this.userGroup;g.openPopupEvent=this.openPopupEvent;g.popupContainer=this.popupContainer;g.currentParam=null;g.grid=this.grid;if(b.type==="variables"||b.type==="toggler"){var d=g.access.id;var e=g.userGroup.accessRights;for(var c=0;c<e.length;c++){if(d===e[c].id){g.currentParam=e[c].value}}}return new BX.UI.AccessRights.ColumnItem(g)},getUserGroup:function(){return this.userGroup},remove:function(){if(this.layout.container.classList.toggle("ui-access-rights-column-new")){this.layout.container.classList.remove("ui-access-rights-column-new")}this.layout.container.classList.add("ui-access-rights-column-remove");this.layout.container.style.width=this.layout.container.offsetWidth+"px";BX.bind(this.layout.container,"animationend",function(){this.layout.container.style.minWidth="0px";this.layout.container.style.maxWidth="0px"}.bind(this));setTimeout(function(){this.layout.container.parentNode.removeChild(this.layout.container)}.bind(this),500)},resetClassNew:function(){this.layout.container.classList.remove("ui-access-rights-column-new")},render:function(){if(!this.layout.container){var a=document.createDocumentFragment();if(this.headSection){this.userGroup.type="role";a.appendChild(this.getItem(this.userGroup).render());this.userGroup.type="members";a.appendChild(this.getItem(this.userGroup).render())}this.items.map(function(c){var b=this.getItem(c);a.appendChild(b.render())}.bind(this));this.layout.container=BX.create("div",{props:{className:this.newColumn?"ui-access-rights-column ui-access-rights-column-new":"ui-access-rights-column"}});BX.addCustomEvent("BX.UI.AccessRights:refresh",this.resetClassNew.bind(this));this.layout.container.appendChild(a);return this.layout.container}}}})();