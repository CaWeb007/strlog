(function(){var a=BX.namespace("BX.UI");if(a.Switcher){return}var c=[];function b(d){this.init(d);c.push(this)}b.getById=function(d){return c.filter(function(e){return e.id===d})[0]||null};b.getList=function(){return c};b.className="ui-switcher";b.initByClassName=function(){var d=document.getElementsByClassName(b.className);d=BX.convert.nodeListToArray(d);d.forEach(function(e){if(e.getAttribute("data-switcher-init")){return}new b({node:e})})};b.prototype={events:{toggled:"toggled",checked:"checked",unchecked:"unchecked"},handlers:{},attributeName:"data-switcher",attributeInitName:"data-switcher-init",classNameOff:"ui-switcher-off",classNameSize:{small:"ui-switcher-size-sm"},classNameColor:{green:"ui-switcher-color-green"},popup:null,content:null,popupParameters:null,init:function(d){d=d||{};if(d.attributeName){this.attributeName=d.attributeName}if(d.handlers){this.handlers=d.handlers}if(d.node){if(!BX.type.isDomNode(d.node)){throw new Error("Parameter `node` DOM Node expected.")}this.node=d.node;var f=this.node.getAttribute(this.attributeName);try{f=JSON.parse(f)||{}}catch(g){f={}}if(f.id){this.id=f.id}this.checked=!!f.checked;this.inputName=f.inputName;if(typeof f.color!=="undefined"){d.color=f.color}if(typeof f.size!=="undefined"){d.size=f.size}}else{this.node=document.createElement("span")}if(d.id){this.id=d.id}if(!this.id){this.id=Math.random()}if(typeof d.checked==="boolean"){this.checked=d.checked}if(d.inputName){this.inputName=d.inputName}if(this.classNameSize[d.size]){this.node.classList.add(this.classNameSize[d.size])}if(this.classNameColor[d.color]){this.node.classList.add(this.classNameColor[d.color])}this.initNode();this.check(this.checked,false)},getNode:function(){return this.node},initNode:function(){var d=this.node;if(d.getAttribute(this.attributeInitName)){return}d.setAttribute(this.attributeInitName,"y");BX.addClass(d,b.className);d.innerHTML='<span class="ui-switcher-cursor"></span>\n<span class="ui-switcher-enabled">'+BX.message("UI_SWITCHER_ON")+'</span>\n<span class="ui-switcher-disabled">'+BX.message("UI_SWITCHER_OFF")+"</span>\n";if(this.inputName){this.inputNode=document.createElement("input");this.inputNode.type="hidden";this.inputNode.name=this.inputName;this.node.appendChild(this.inputNode)}BX.bind(d,"click",this.toggle.bind(this))},toggle:function(){this.check(!this.isChecked())},isChecked:function(){return this.checked},fireEvent:function(d){BX.onCustomEvent(this,d);if(this.handlers[d]){this.handlers[d].call(this)}},check:function(e,d){this.checked=e;if(this.inputNode){this.inputNode.value=this.checked?"Y":"N"}d=d!==false;if(this.checked){BX.removeClass(this.node,this.classNameOff);d?this.fireEvent(this.events.unchecked):null}else{BX.addClass(this.node,this.classNameOff);d?this.fireEvent(this.events.checked):null}BX.onCustomEvent(this,this.events.toggled);d?this.fireEvent(this.events.toggled):null}};a.Switcher=b;BX.ready(function(){a.Switcher.initByClassName()})})();