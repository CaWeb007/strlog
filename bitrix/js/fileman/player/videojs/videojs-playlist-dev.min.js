(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof this!=="undefined"){a=this}else{if(typeof self!=="undefined"){a=self}else{if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}}}}a.videojsPlaylist=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(f,g,e){(function(x){Object.defineProperty(e,"__esModule",{value:true});function i(E){return E&&E.__esModule?E:{"default":E}}var j=(typeof window!=="undefined"?window.videojs:typeof x!=="undefined"?x.videojs:null);var C=i(j);var s={thumbnailSize:190,playlistItems:3,hideIcons:false,upNext:true,hideSidebar:false,mobile:false};var z=undefined;var m=false;var o=[];var p=[];var l=[];var D=[];var t=null;var h=function h(L,E,J,K){var H=document.createElement("li");var F=document.createElement("div");F.className="vjs-playlist-video-title";F.setAttribute("data-index",E);if(E==0){if(s.upNext){var I=document.createElement("div");I.className="vjs-playlist-video-upnext";I.innerText="UP Next";F.appendChild(I)}}if(J){var G=document.createElement("div");G.innerText=J;G.setAttribute("data-index",E);F.appendChild(G);H.appendChild(F)}if(K){H.setAttribute("style","background-image: url('"+K+"');")}H.setAttribute("data-index",E);H.onclick=function(N){var M=parseInt(N.target.getAttribute("data-index"));r(L,M,true)};return H};var w=function w(F,E){p[F.id_]=E.videos;o[F.id_]=0;m=E.playlist.mobile;if(E.playlist&&E.playlist.thumbnailSize){s.thumbnailSize=E.playlist.thumbnailSize.toString().replace("px","")}if(E.playlist&&E.playlist.items){s.playlistItems=E.playlist.items}if(E.playlist&&E.playlist.hideIcons){s.hideIcons=E.playlist.hideIcons}if(E.playlist&&E.playlist.hideSidebar){s.hideSidebar=E.playlist.hideSidebar}u(F,E);v(F)};var u=function u(G,F){t=document.createElement("ul");t.className="vjs-playlist-items";if(!s.hideSidebar){G.el().appendChild(t)}D[G.id_]=t;if(p[G.id_].length>0){p[G.id_].map(function(J,I){D[G.id_].appendChild(h(G.id_,I,J.title,J.thumbnail))});r(G.id_,0,false)}if(!s.hideIcons){var H=document.createElement("button");H.className="vjs-button-prev";H.onclick=k;G.controlBar.el().insertBefore(H,G.controlBar.playToggle.el());var E=document.createElement("button");E.className="vjs-button-next";E.onclick=n;G.controlBar.el().insertBefore(E,G.controlBar.volumeMenuButton.el())}G.on("ended",q);G.addClass("vjs-playlist")};var q=function q(){B()};var n=function n(E){var F=E.target.parentNode.parentNode.id;B(F)};var k=function k(E){var F=E.target.parentNode.parentNode.id;y(F)};var v=function v(F){var E=function E(I){var P=s.thumbnailSize;var M=I.el().id;var G=I.el().offsetWidth;var Q=I.el().offsetHeight;var L=Math.floor((Q-10)/s.playlistItems)-10;var K=I.$(".vjs-tech");var O=G-P;if(O>=0){var N=M+"_styles";var H=document.getElementById(N);if(!H){H=document.createElement("style")}var J=" #"+M+".vjs-playlist .vjs-poster { width: "+O+"px !important; } #"+M+".vjs-playlist .vjs-playlist-items { width: "+P+"px !important; } #"+M+".vjs-playlist .vjs-playlist-items li { height: "+L+"px !important; } #"+M+".vjs-playlist .vjs-modal-dialog { width: "+O+"px !important; }  #"+M+".vjs-playlist .vjs-control-bar, #"+M+".vjs-playlist .vjs-tech { width: "+O+"px !important; }  #"+M+".vjs-playlist .vjs-big-play-button, #"+M+".vjs-playlist .vjs-loading-spinner { left: "+Math.round(O/2)+"px !important; }  #"+M+" .vimeoFrame { width: "+O+"px !important; }  #"+M+" .vimeoFrame.vimeoHidden { padding-bottom: 0 !important; } ";H.setAttribute("id",N);H.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(H);if(H.firstChild){H.firstChild.textContent=J}else{H.appendChild(document.createTextNode(J))}}};if(!s.hideSidebar){F.on("fullscreenchange",function(){E(this)});window.addEventListener("resize",function(G){E(F)});if(F){E(F)}}};var r=function r(G,M,K){if(!G){G=z.id_}o[G]=M;var I=l[G].el().querySelectorAll("ul.vjs-playlist-items li");for(var J=0;J<I.length;J++){if(J==M){I[J].classList.add("current")}else{I[J].classList.remove("current")}}try{if(!l[G].paused()){l[G].pause();l[G].error(null)}}catch(L){}var F={type:p[G][M].type,src:p[G][M].src};var Q=G+"_wmv_player";if(F.type=="video/x-ms-wmv"){var P=document.getElementById(Q);if(!P){P=document.createElement("div");P.setAttribute("id",Q);P.setAttribute("class","vjs-tech");l[G].el().appendChild(P)}var H=l[G].wmvConfig;H.file=F.src;if(!!p[G][M].thumbnail){H.image=p[G][M].thumbnail}var E=new window.jeroenwijering.Player(P,"/bitrix/components/bitrix/player/wmvplayer/wmvplayer.xaml",l[G].wmvConfig)}else{var P=document.getElementById(Q);if(!!P){P.parentNode.removeChild(P)}var O=l[G].el().getElementsByClassName("vimeoFrame");for(var J=0;J<O.length;J++){O[J].classList.add("vimeoHidden")}if(F.type=="video/vimeo"){var N="vimeo_wrapper_"+G;if(!!document.getElementById(N)){document.getElementById(N).classList.remove("vimeoHidden")}}l[G].src(F);l[G].poster(p[G][M].thumbnail);if(!m&&(K||l[G].options_.autoplay)){try{l[G].play()}catch(L){}}}};var B=function B(E){if(!E){E=z.id_}if(o[E]<p[E].length-1){o[E]++}else{o[E]=0}r(E,o[E],true)};var y=function y(E){if(!E){E=z.id_}if(o[E]>0){o[E]--}else{o[E]=p[E].length-1}r(E,o[E],true)};var A=function A(E){var F=this;this.ready(function(){z=F;l[z.id_]=z;w(F,C["default"].mergeOptions(E,s))})};C["default"].plugin("playlist",A);e["default"]=A;g.exports=e["default"]}).call(this,typeof this!=="undefined"?this:typeof self!=="undefined"?self:typeof global!=="undefined"?global:typeof window!=="undefined"?window:{})},{}]},{},[1])(1)});