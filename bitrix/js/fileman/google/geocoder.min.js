(function(){BX.namespace("BX.Fileman.Google");BX.Fileman.Google.GeoCoder=function(){this.geocoder=null};BX.Fileman.Google.GeoCoder.prototype.search=function(b,a){if(b!==""){BX.Fileman.Google.Loader.init(BX.delegate(function(){this.runSearch(b,a)},this))}};BX.Fileman.Google.GeoCoder.prototype.runSearch=function(b,a){if(this.geocoder===null){this.geocoder=new google.maps.Geocoder()}var c={language:BX.message("LANGUAGE_ID")};if(BX.type.isArray(b)){c.latLng=BX.Fileman.Google.getGoogleLatLng(b)}else{c.placeId=b}this.geocoder.geocode(c,BX.delegate(this.processResult(a),this))};BX.Fileman.Google.GeoCoder.prototype.processResult=function(a){return function(e,c){var b=[];if(c!==google.maps.GeocoderStatus.OK&&c!==google.maps.GeocoderStatus.ZERO_RESULTS){this.throwError(c)}else{for(var d=0;d<e.length;d++){b.push({text:e[d].formatted_address,components:e[d].address_components,coords:[e[d].geometry.location.lat(),e[d].geometry.location.lng()],viewport:[[e[d].geometry.viewport.getNorthEast().lat(),e[d].geometry.viewport.getNorthEast().lng()],[e[d].geometry.viewport.getSouthWest().lat(),e[d].geometry.viewport.getSouthWest().lng()]]})}}a(b)}};BX.Fileman.Google.GeoCoder.prototype.throwError=function(a){console.error("BX.Fileman.Google.GeoCoder: "+a?a.message:"Google error!")}})();