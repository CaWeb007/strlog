(function(){var f=function(k){var l=k;while(l){l=l.parentNode;if(l.nodeName.toLowerCase()==="form"){return l}}return null};var j=function(k){var o=[];var l=null;var n=false;if(typeof k!=="undefined"){n=k!==null}if(n){l=k.getElementsByTagName("input")}else{l=document.getElementsByName("captcha_word")}for(var m=0;m<l.length;m++){if(l[m].name==="captcha_word"){o.push(l[m])}}return o};var d=function(l){var n=[];var k=l.getElementsByTagName("img");for(var m=0;m<k.length;m++){if(/\/bitrix\/tools\/captcha.php\?(captcha_code|captcha_sid)=[^>]*?/i.test(k[m].src)||(k[m].id==="captcha")){n.push(k[m])}}return n};var c=function(){var l=null;var o=j(l);if(o.length===0){return[]}var k=[];for(var m=0;m<o.length;m++){var n=f(o[m]);if(null!==n){k.push(n)}}return k};var h=function(o){var m="recaptcha-dynamic-"+(new Date()).getTime();if(document.getElementById(m)!==null){var k=false;var n=null;var l=65535;do{n=Math.floor(Math.random()*l);k=(document.getElementById(m+n)!==null)}while(k);m+=n}var p=document.createElement("div");p.id=m;p.className="g-recaptcha";p.attributes["data-sitekey"]=window.asproRecaptcha.key;if(o.parentNode){o.parentNode.className+=" recaptcha_text";o.parentNode.replaceChild(p,o)}renderRecaptchaById(m)};var b=function(k){var l="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";k.attributes["src"]=l;k.style["display"]="none";if("src" in k){if(k.parentNode){k.parentNode.className+=" recaptcha_tmp_img"}k.src=l}};var e=function(k){if(typeof $=="function"){if($(k).find(".captcha-row label > span").length){$(k).find(".captcha-row label > span").html(BX.message("RECAPTCHA_TEXT")+' <span class="star">*</span>')}}};var g=function(){var k=c();var l;for(var m=0;m<k.length;m++){var p=k[m];var o=j(p);if(o.length===0){continue}var n=d(p);if(n.length===0){continue}for(l=0;l<o.length;l++){h(o[l])}for(l=0;l<n.length;l++){b(n[l])}e(p)}};var a=function(){if(typeof renderRecaptchaById!=="undefined"){var m=document.getElementsByClassName("g-recaptcha");for(var l=0;l<m.length;l++){var k=m[l];if(k.innerHTML.length===0){var o=k.id;if(typeof o==="string"){if(o.length!==0){if(typeof $=="function"){var n=$(k).closest(".captcha-row");if(n.length){n.addClass(window.asproRecaptcha.params.recaptchaSize+" logo_captcha_"+window.asproRecaptcha.params.recaptchaLogoShow+" "+window.asproRecaptcha.params.recaptchaBadge);n.find(".captcha_image").addClass("recaptcha_tmp_img");n.find(".captcha_input").addClass("recaptcha_text");if(window.asproRecaptcha.params.recaptchaSize!=="invisible"){if(!n.find("input.recaptcha").length){$('<input type="text" class="recaptcha" value="" />').appendTo(n)}}}}renderRecaptchaById(o)}}}}}};var i=function(){try{a();if(!window.renderRecaptchaById||!window.asproRecaptcha||!window.asproRecaptcha.key){console.error("Bad captcha keys or module error");return true}g();return true}catch(k){console.error(k);return true}};if(!!document.addEventListener){document.addEventListener("DOMNodeInserted",i,false)}else{console.warn("Your browser does not support dynamic ReCaptcha replacement")}})();