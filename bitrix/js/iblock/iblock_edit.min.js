function JCIBlockProperty(a){if(!a){return}this.intERROR=0;this.PREFIX=a.PREFIX;this.PREFIX_TR=this.PREFIX+"ROW_";this.FORM_ID=a.FORM_ID;this.TABLE_PROP_ID=a.TABLE_PROP_ID;this.PROP_COUNT_ID=a.PROP_COUNT_ID;this.IBLOCK_ID=a.IBLOCK_ID;this.LANG=a.LANG;this.TITLE=a.TITLE;this.CELLS=[];this.CELL_IND=-1;this.CELL_CENT=[];this.OBJNAME=a.OBJ;BX.ready(BX.delegate(this.Init,this))}JCIBlockProperty.prototype.Init=function(){var b=null,a=0;this.FORM_DATA=BX(this.FORM_ID);if(!this.FORM_DATA){this.intERROR=-1;return}this.PROP_TBL=BX(this.TABLE_PROP_ID);if(!this.PROP_TBL){this.intERROR=-1;return}this.PROP_COUNT=BX(this.PROP_COUNT_ID);if(!this.PROP_COUNT){this.intERROR=-1;return}b=BX.findChildren(this.PROP_TBL,{tag:"input",attribute:{type:"button"}},true);if(!!b){for(a=0;a<b.length;a++){BX.bind(b[a],"click",BX.proxy(this.ShowPropertyDialog,this))}}BX.addCustomEvent(this.FORM_DATA,"onAutoSaveRestore",BX.delegate(this.onAutoSaveRestore,this))};JCIBlockProperty.prototype.GetPropInfo=function(a){if(0>this.intERROR){return{}}a=this.PREFIX+a;return{PROPERTY_TYPE:this.FORM_DATA[a+"_PROPERTY_TYPE"].value,NAME:this.FORM_DATA[a+"_NAME"].value,ACTIVE:(this.FORM_DATA[a+"_ACTIVE_Y"].checked?this.FORM_DATA[a+"_ACTIVE_Y"].value:this.FORM_DATA[a+"_ACTIVE_N"].value),MULTIPLE:(this.FORM_DATA[a+"_MULTIPLE_Y"].checked?this.FORM_DATA[a+"_MULTIPLE_Y"].value:this.FORM_DATA[a+"_MULTIPLE_N"].value),IS_REQUIRED:(this.FORM_DATA[a+"_IS_REQUIRED_Y"].checked?this.FORM_DATA[a+"_IS_REQUIRED_Y"].value:this.FORM_DATA[a+"_IS_REQUIRED_N"].value),SORT:this.FORM_DATA[a+"_SORT"].value,CODE:this.FORM_DATA[a+"_CODE"].value,PROPINFO:this.FORM_DATA[a+"_PROPINFO"].value}};JCIBlockProperty.prototype.SetPropInfo=function(a,b,f){var c=0,d=null,g=null,e=null;if(0>this.intERROR){return}if(!f){return}if(BX.bitrix_sessid()!==f){return}a=this.PREFIX+a;this.FORM_DATA[a+"_NAME"].value=b.NAME;this.FORM_DATA[a+"_SORT"].value=b.SORT;this.FORM_DATA[a+"_CODE"].value=b.CODE;d=BX(a+"_ACTIVE_Y");d.checked=("Y"===b.ACTIVE);g=BX(a+"_MULTIPLE_Y");g.checked=("Y"===b.MULTIPLE);e=BX(a+"_IS_REQUIRED_Y");e.checked=("Y"===b.IS_REQUIRED);this.FORM_DATA[a+"_PROPINFO"].value=b.PROPINFO;for(c=0;c<this.FORM_DATA[a+"_PROPERTY_TYPE"].length;c++){if(b.PROPERTY_TYPE===this.FORM_DATA[a+"_PROPERTY_TYPE"].options[c].value){this.FORM_DATA[a+"_PROPERTY_TYPE"].options[c].selected=true}}BX.fireEvent(this.FORM_DATA[a+"_NAME"],"change")};JCIBlockProperty.prototype.GetProperty=function(a){if(0>this.intERROR){return""}if(!a||!this[a]){return""}return this[a]};JCIBlockProperty.prototype.SetProperty=function(a,b){if(0>this.intERROR){return}if(a){this[a]=b}};JCIBlockProperty.prototype.ShowPropertyDialog=function(){if(0>this.intERROR){return}var c=BX.proxy_context,a="",b={};if(!!c&&c.hasAttribute("data-propid")){a=c.getAttribute("data-propid");b={PARAMS:{PREFIX:this.PREFIX,ID:a,IBLOCK_ID:this.IBLOCK_ID,TITLE:this.TITLE,RECEIVER:this.OBJNAME},PROP:this.GetPropInfo(a),sessid:BX.bitrix_sessid()};(new BX.CAdminDialog({title:this.TITLE,content_url:"/bitrix/admin/iblock_edit_property.php?lang="+this.LANG+"&propedit="+a+"&bxpublic=Y&receiver="+this.OBJNAME,content_post:b,draggable:true,resizable:true,buttons:[BX.CAdminDialog.btnSave,BX.CAdminDialog.btnCancel]})).Show()}};JCIBlockProperty.prototype.SetCells=function(c,a,d){var b=0;if(0>this.intERROR){return}if(c){this.CELLS=BX.clone(c,true)}for(b=0;b<this.CELLS.length;b++){this.CELLS[b]=this.CELLS[b].replace(/PREFIX/ig,this.PREFIX)}if(a){this.CELL_IND=a}if(d){this.CELL_CENT=BX.clone(d,true)}};JCIBlockProperty.prototype.addPropRow=function(){if(0>this.intERROR){return}var d=0,g=parseInt(this.PROP_COUNT.value,10),f="",c=null,b=null,a="",e=null;c=this.PROP_TBL.insertRow(this.PROP_TBL.rows.length);c.id=this.PREFIX_TR+"n"+g;for(d=0;d<this.CELLS.length;d++){b=c.insertCell(-1);a=this.CELLS[d];a=a.replace(/tmp_xxx/ig,"n"+g);b.innerHTML=a}for(d=0;d<this.CELL_CENT.length;d++){f=c.cells[this.CELL_CENT[d]-1];if(!!f){BX.adjust(f,{style:{textAlign:"center",verticalAlign:"middle"}})}}f=c.cells[0];if(!!f){BX.adjust(f,{style:{verticalAlign:"middle"}})}if(c.cells[this.CELL_IND]){f=c.cells[this.CELL_IND];e=BX.findChildren(f,{tag:"input",attribute:{type:"button"}},true);if(!!e){for(d=0;d<e.length;d++){BX.bind(e[d],"click",BX.proxy(this.ShowPropertyDialog,this))}}}BX.adminFormTools.modifyFormElements(this.FORM_ID);setTimeout(function(){var j=0,h=0,k=BX.findChildren(c.parentNode,{tag:/^(input|select|textarea)$/i},true);if(k&&k.length>0){for(j=0,h=k.length;j<h;j++){if(k[j].form&&k[j].form.BXAUTOSAVE){k[j].form.BXAUTOSAVE.RegisterInput(k[j])}else{break}}}},10);this.PROP_COUNT.value=g+1};JCIBlockProperty.prototype.onAutoSaveRestore=function(a,b){while(b["IB_PROPERTY_n"+this.PROP_COUNT.value+"_NAME"]){this.addPropRow()}};function JCIBlockAccess(e,f,a,c,b,i,g,d,h){this.entity_type=e;this.iblock_id=f;this.id=a;this.arSelected=c;this.variable_name=b;this.table_id=i;this.href_id=g;this.sSelect=d;this.arHighLight=h;BX.ready(BX.delegate(this.Init,this))}JCIBlockAccess.prototype.Init=function(){BX.bind(BX(this.href_id),"click",BX.delegate(this.Add,this));var a=BX(this.variable_name+"_heading");if(a){BX.bind(a,"dblclick",BX.delegate(this.ShowInfo,this))}BX.Access.Init(this.arHighLight);BX.Access.SetSelected(this.arSelected,this.variable_name)};JCIBlockAccess.prototype.Add=function(){BX.Access.ShowForm({callback:BX.delegate(this.InsertRights,this),bind:this.variable_name})};JCIBlockAccess.prototype.InsertRights=function(d){var e=BX(this.table_id);for(var g in d){if(d.hasOwnProperty(g)){for(var h in d[g]){if(d[g].hasOwnProperty(h)){var c=e.rows.length;var f=e.insertRow(c-1);f.vAlign="top";f.insertCell(-1);f.insertCell(-1);f.cells[0].align="right";f.cells[0].style.textAlign="right";f.cells[0].style.verticalAlign="middle";f.cells[0].innerHTML=BX.Access.GetProviderName(g)+" "+d[g][h].name+':<input type="hidden" name="'+this.variable_name+'[][RIGHT_ID]" value=""><input type="hidden" name="'+this.variable_name+'[][GROUP_CODE]" value="'+h+'">';f.cells[1].align="left";f.cells[1].innerHTML=this.sSelect+' <a href="javascript:void(0);" onclick="JCIBlockAccess.DeleteRow(this, \''+h+"', '"+this.variable_name+'\')" class="access-delete"></a><span title="'+BX.message("langApplyTitle")+'" id="overwrite_'+h+'"></span>';var a=BX.findChildren(e,{"class":this.variable_name+"_row_for_"+h},true);if(a){for(var b=0;b<a.length;b++){a[b].className+=" iblock-strike-out"}}}}}}if(parseInt(this.id)>0){BX.ajax.loadJSON("/bitrix/admin/iblock_edit.php?ajax=y&sessid="+BX.bitrix_sessid()+"&entity_type="+this.entity_type+"&iblock_id="+this.iblock_id+"&id="+this.id,{added:d},function(i){if(i){for(var m in i){var j=parseInt(i[m][0]);var k=parseInt(i[m][1]);var l="";if(j>0&&k>0){l=BX.message("langApply1Title")}else{if(j>0){l=BX.message("langApply2Title")}else{if(k>0){l=BX.message("langApply3Title")}}}if(l){BX("overwrite_"+m).innerHTML='<br><input type="checkbox" name="'+this.variable_name+'[][DO_CLEAN]" value="Y" checked="checked" disabled="disabled">'+l+" ("+(j+k)+")"}}}})}BX.onCustomEvent("onAdminTabsChange")};JCIBlockAccess.prototype.ShowInfo=function(){var b=this.entity_type;var a=this.iblock_id;var e=this.id;var c=new BX.CWindowButton({title:"Query",action:function(){var f=BX("prompt_user_id");BX("info_result").innerHTML="";BX.showWait();BX.ajax.loadJSON("/bitrix/admin/iblock_edit.php?ajax=y&sessid="+BX.bitrix_sessid()+"&entity_type="+b+"&iblock_id="+a+"&id="+e,{info:f.value},function(g){if(g){for(var h in g){BX("info_result").innerHTML+='<span style="display:inline-block;width:200px;height:15px;">'+h+"</span>"}}BX.closeWait()})}});if(null==this.iblock_info_obDialog){this.iblock_info_obDialog=new BX.CDialog({content:'<table cellspacing="0" cellpadding="0" border="0" width="100%"><tr><td width="50%" align="right">User ID:</td><td width="50%" align="left"><input type="text" size="6" id="prompt_user_id" value=""></td></tr><tr><td colspan="2" id="info_result"></td></tr></table>',buttons:[c,BX.CDialog.btnCancel],width:420,height:200})}this.iblock_info_obDialog.Show();var d=BX("prompt_user_id");d.focus();d.select()};JCIBlockAccess.DeleteRow=function(b,g,a){var f=BX.findParent(b,{tag:"tr"});var e=BX.findParent(f,{tag:"table"});var c=BX.findChildren(e,{"class":a+"_row_for_"+g+" iblock-strike-out"},true);if(c){for(var d=0;d<c.length;d++){c[d].className=a+"_row_for_"+g}}f.parentNode.removeChild(f);BX.onCustomEvent("onAdminTabsChange");BX.Access.DeleteSelected(g,a)};function addNewRow(r,a){var k=document.getElementById(r);var g=k.rows.length;if(a==null){a=-2}var h=k.rows[g+a].cells[0].innerHTML;var b=k.insertRow(g+a+1);var o=b.insertCell(0);var t,q,f,d;d=0;while(true){t=h.indexOf("[n",d);if(t<0){break}q=h.indexOf("]",t);if(q<0){break}f=parseInt(h.substr(t+2,q-t));h=h.substr(0,t)+"[n"+(++f)+"]"+h.substr(q+1);d=t+1}d=0;while(true){t=h.indexOf("__n",d);if(t<0){break}q=h.indexOf("_",t+2);if(q<0){break}f=parseInt(h.substr(t+3,q-t));h=h.substr(0,t)+"__n"+(++f)+"_"+h.substr(q+1);d=q+1}d=0;while(true){t=h.indexOf("__N",d);if(t<0){break}q=h.indexOf("__",t+2);if(q<0){break}f=parseInt(h.substr(t+3,q-t));h=h.substr(0,t)+"__N"+(++f)+"__"+h.substr(q+2);d=q+2}d=0;while(true){t=h.indexOf("xxn",d);if(t<0){break}q=h.indexOf("xx",t+2);if(q<0){break}f=parseInt(h.substr(t+3,q-t));h=h.substr(0,t)+"xxn"+(++f)+"xx"+h.substr(q+2);d=q+2}d=0;while(true){t=h.indexOf("%5Bn",d);if(t<0){break}q=h.indexOf("%5D",t+3);if(q<0){break}f=parseInt(h.substr(t+4,q-t));h=h.substr(0,t)+"%5Bn"+(++f)+"%5D"+h.substr(q+3);d=q+3}var m={html:h};BX.onCustomEvent(window,"onAddNewRowBeforeInner",[m]);h=m.html;o.innerHTML=h;var l=new RegExp("<script>[^\000]*?<\/script>","ig");var c=h.match(l);if(c){for(var j=0;j<c.length;j++){if(c[j]!=""){t=c[j].substring(8,c[j].length-9);jsUtils.EvalGlobal(t)}}}if(BX&&BX.adminPanel){BX.adminPanel.modifyFormElements(b);BX.onCustomEvent("onAdminTabsChange")}setTimeout(function(){var p=BX.findChildren(o,{tag:/^(input|select|textarea)$/i});if(p&&p.length>0){for(var n=0,e=p.length;n<e;n++){if(p[n].form&&p[n].form.BXAUTOSAVE){p[n].form.BXAUTOSAVE.RegisterInput(p[n])}else{break}}}},10)}function JCIBlockGroupField(a,c,b){this.form=a;this.groupSection=BX(c);this.ajaxURL=b}JCIBlockGroupField.prototype.reload=function(){if(!window.JCIBlockGroupFieldIsRunning){window.JCIBlockGroupFieldIsRunning=true;this.preparePost()}else{if(window.JCIBlockGroupFieldTimer){clearTimeout(window.JCIBlockGroupFieldTimer)}window.JCIBlockGroupFieldTimer=setTimeout(BX.proxy(this.reload,this),500)}};JCIBlockGroupField.prototype.preparePost=function(){var c;var b=[];b[b.length]={name:"ajax_action",value:"section_property"};b[b.length]={name:"sessid",value:BX.bitrix_sessid()};this.gatherInputsValues(b,document.getElementsByName("IBLOCK_SECTION[]"));var a=BX.findChildren(this.form,{tag:"tr","class":"bx-in-group"},true);if(a){for(c=0;c<a.length;c++){this.gatherInputsValues(b,BX.findChildren(a[c],null,true))}}var d=BX.findChildren(this.form,{tag:"span","class":"bx-fields-hidden"},true);if(d){for(c=0;c<d.length;c++){this.gatherInputsValues(b,BX.findChildren(d[c],null,true))}}BX.ajax.post(this.ajaxURL,this.values2post(b),BX.delegate(this.postHandler,this))};JCIBlockGroupField.prototype.postHandler=function(j){var b;if(this.form){var a=BX.findChildren(this.form,{tag:"tr","class":"bx-in-group"},true);if(a){for(b=0;b<a.length;b++){this.groupSection.parentNode.removeChild(a[b])}}var e=document.createElement("DIV");e.innerHTML=j;var d=BX.findChildren(e,{tag:"tr","class":"bx-in-group"},true);if(d){var g=this.groupSection.nextSibling;for(b=0;b<d.length;b++){var c=d[b];c.parentNode.removeChild(c);this.groupSection.parentNode.insertBefore(c,g)}}var h;h=BX.findChildren(this.form,{tag:"span","class":"bx-fields-hidden"},true);if(h){for(b=0;b<h.length;b++){h[b].parentNode.removeChild(h[b])}}h=BX.findChildren(e,{tag:"span","class":"bx-fields-hidden"},true);if(h){for(b=0;b<h.length;b++){var f=h[b];f.parentNode.removeChild(f);this.form.appendChild(f)}}BX.onCustomEvent("onAdminTabsChange");BX.adminPanel.modifyFormElements(this.form)}window.JCIBlockGroupFieldIsRunning=false};JCIBlockGroupField.prototype.gatherInputsValues=function(a,e){if(e){for(var c=0;c<e.length;c++){var d=e[c];if(d.disabled||!d.type){continue}switch(d.type.toLowerCase()){case"text":case"textarea":case"password":case"hidden":case"select-one":a[a.length]={name:d.name,value:d.value};break;case"radio":case"checkbox":if(d.checked){a[a.length]={name:d.name,value:d.value}}break;case"select-multiple":for(var b=0;b<d.options.length;b++){if(d.options[b].selected){a[a.length]={name:d.name,value:d.options[b].value}}}break;default:break}}}};JCIBlockGroupField.prototype.values2post=function(b){var e=[];var h=e;var d=0;while(d<b.length){var g=b[d].name.indexOf("[");if(g==-1){h[b[d].name]=b[d].value;h=e;d++}else{var c=b[d].name.substring(0,g);var f=b[d].name.substring(g+1);if(!h[c]){h[c]=[]}var a=f.indexOf("]");if(a==-1){h=e;d++}else{if(a==0){h=h[c];b[d].name=""+h.length}else{h=h[c];b[d].name=f.substring(0,a)+f.substring(a+1)}}}}return e};window.ipropTemplates=[];function JCInheritedPropertiesTemplates(a,b){this.form=a;this.ajaxURL=b}JCInheritedPropertiesTemplates.prototype.updateInheritedPropertiesTemplates=function(f){for(var e=0;e<ipropTemplates.length;e++){var d=BX(ipropTemplates[e].INPUT_ID);if(d&&d.type.toLowerCase()=="textarea"){if(d.scrollHeight>d.clientHeight){var b=d.offsetHeight-d.clientHeight;var a=d.scrollHeight+b;d.style.height=a+"px"}var c=BX("ck_"+ipropTemplates[e].INPUT_ID);if(c){if(c.checked){d.readOnly=false;BX("mnu_"+ipropTemplates[e].INPUT_ID).disabled=false}else{d.readOnly=true;BX("mnu_"+ipropTemplates[e].INPUT_ID).disabled=true}}}}if(f){setTimeout(function(){InheritedPropertiesTemplates.updateInheritedPropertiesValues(true)},100)}};JCInheritedPropertiesTemplates.prototype.updateInheritedPropertiesValues=function(startup,force){var i,space,input,values,f,k,obj_ta,clearValues;if(startup){for(i=0;i<ipropTemplates.length;i++){space=BX("space_"+ipropTemplates[i].ID);if(space){ipropTemplates[i].SPACE=space.value}}}for(i=0;i<ipropTemplates.length;i++){input=BX(ipropTemplates[i].INPUT_ID);if(!input){return}space=BX("space_"+ipropTemplates[i].ID);if(space){this.asciiOnly(space)}if(force||ipropTemplates[i].TEMPLATE!=BX(ipropTemplates[i].INPUT_ID).value||(space&&ipropTemplates[i].SPACE!=space.value)){values=[];f=new JCIBlockGroupField(BX(this.form));f.gatherInputsValues(values,BX.findChildren(BX(this.form),null,true));for(k=0;k<ipropTemplates.length;k++){obj_ta=BX(ipropTemplates[k].INPUT_ID);if(obj_ta&&obj_ta.readOnly){values[values.length]={name:obj_ta.name,value:obj_ta.value}}}BX.ajax.post(this.ajaxURL,f.values2post(values),function(data){var DATA=[],data_test,j,k,div;if(BX.type.isNotEmptyString(data)){data_test=BX.parseJSON(data);if(data_test){eval("DATA = "+data)}}for(j=0;j<DATA.length;j++){if(DATA[j].htmlId){if(BX(DATA[j].htmlId)){BX(DATA[j].htmlId).innerHTML=DATA[j].value}else{if(typeof DATA[j].hiddenId!="undefined"&&BX(DATA[j].hiddenId)){BX(DATA[j].hiddenId).value=DATA[j].hiddenValue}}}else{for(k=0;k<ipropTemplates.length;k++){if(ipropTemplates[k].ID==DATA[j].id){div=BX(ipropTemplates[k].RESULT_ID);if(div){div.innerHTML=DATA[j].value}break}}}}});if(!startup){clearValues=BX("IPROPERTY_CLEAR_VALUES");if(clearValues){clearValues.value="Y";if(clearValues.type.toLowerCase()=="checkbox"){clearValues.checked=true}}}this.updateInheritedPropertiesTemplates();break}}for(i=0;i<ipropTemplates.length;i++){obj_ta=BX(ipropTemplates[i].INPUT_ID);if(obj_ta){ipropTemplates[i].TEMPLATE=obj_ta.value;space=BX("space_"+ipropTemplates[i].ID);if(space){ipropTemplates[i].SPACE=space.value}}}setTimeout(function(){InheritedPropertiesTemplates.updateInheritedPropertiesValues()},1000)};JCInheritedPropertiesTemplates.prototype.insertIntoInheritedPropertiesTemplate=function(g,e,a){var c=BX(a);c.focus();var f=c.value,d,b;if(typeof c.selectionStart!="undefined"&&typeof c.selectionEnd!="undefined"){d=c.selectionEnd;c.value=f.slice(0,c.selectionStart)+g+f.slice(d);c.selectionStart=c.selectionEnd=d+g.length}else{if(typeof document.selection!="undefined"&&typeof document.selection.createRange!="undefined"){c.focus();b=document.selection.createRange();b.collapse(false);b.text=g;b.select()}}this.updateInheritedPropertiesTemplates();BX.fireEvent(c,"change");c.focus()};JCInheritedPropertiesTemplates.prototype.onTabSelect=function(){this.updateInheritedPropertiesValues();this.updateInheritedPropertiesTemplates()};JCInheritedPropertiesTemplates.prototype.enableTextArea=function(a){var c=BX(a);var b=BX("ck_"+a);if(c&&c.readOnly){c.readOnly=false;if(b&&!b.checked){b.checked=true;this.updateInheritedPropertiesTemplates()}}};JCInheritedPropertiesTemplates.prototype.asciiOnly=function(a){if(a.value.length>0){if(a.value.length>1){a.value=a.value.charAt(0)}if(a.value.charCodeAt(0)>127){a.value=""}}};function JCPopupEditor(b,a){this.width=b;this.height=a;this.popup_editor_dialog=null;this.input=null}JCPopupEditor.prototype.openEditor=function(c,a){if(!this.popup_editor_dialog){this.popup_editor_dialog=new BX.CDialog({content:'<div width="100%" id="popup_editor_container"></div>',buttons:this.getButtons(),width:this.width,height:this.height});var b=BX("popup_editor_container");var d=BX("popup_editor_start");b.parentNode.appendChild(d);b.parentNode.removeChild(b);d.style.display="";LoadLHE_popup_editor_id()}this.popup_editor_dialog.Show();this.input=BX(c);popup_editor.SetEditorContent(this.input.value);popup_editor.SetFocus();this.startCharCounter()};JCPopupEditor.prototype.getButtons=function(){var c=this;var a=new BX.CWindowButton({title:BX.message("JS_CORE_WINDOW_SAVE"),id:"savebtn",name:"savebtn",className:BX.browser.IsIE()&&BX.browser.IsDoctype()&&!BX.browser.IsIE10()?"":"adm-btn-save",action:function(){c.stopCharCounter();this.parentWindow.Hide();popup_editor.SetView("html");c.input.value=popup_editor.GetEditorContent();c.input.onchange()}});var b=new BX.CWindowButton({title:BX.message("JS_CORE_WINDOW_CLOSE"),id:"closebtn",name:"closebtn",action:function(){c.stopCharCounter();this.parentWindow.Hide()}});return[a,b]};JCPopupEditor.prototype.startCharCounter=function(){if(!this.charCounterContainer){this.charCounterContainer=BX.create("SPAN");this.charCounterContainer.style.display="inline";this.popup_editor_dialog.PARTS.BUTTONS_CONTAINER.appendChild(this.charCounterContainer)}if(!this.charCounterTimer){this.charCounterTimer=setInterval(BX.delegate(function(){this.updateCharCounter()},this),500)}};JCPopupEditor.prototype.updateCharCounter=function(){var a=popup_editor.GetEditorContent().length;this.charCounterContainer.innerHTML=a;if(a>255&&!this.charCounterContainer.style.color){this.charCounterContainer.style.color="red"}if(a<=255&&this.charCounterContainer.style.color){this.charCounterContainer.style.color=""}};JCPopupEditor.prototype.stopCharCounter=function(){if(this.charCounterTimer){clearInterval(this.charCounterTimer)}this.charCounterTimer=null};